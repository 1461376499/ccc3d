(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "./types.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("./types.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.types);
    global.helper = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _types) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.arc = arc;
  _exports.ellipse = ellipse;
  _exports.roundRect = roundRect;
  _exports.tesselateBezier = tesselateBezier;

  /*
   Copyright (c) 2017-2018 Xiamen Yaji Software Co., Ltd.
  
   http://www.cocos.com
  
   Permission is hereby granted, free of charge, to any person obtaining a copy
   of this software and associated engine source code (the "Software"), a limited,
   worldwide, royalty-free, non-assignable, revocable and non-exclusive license
   to use Cocos Creator solely to develop games on your target platforms. You shall
   not use Cocos Creator software for developing other software or tools that's
   used for developing games. You are not granted to publish, distribute,
   sublicense, and/or sell copies of Cocos Creator.
  
   The software or tools in this License Agreement are licensed, not sold.
   Xiamen Yaji Software Co., Ltd. reserves all rights not expressly granted to you.
  
   THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
   IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
   FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
   AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
   LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
   OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
   THE SOFTWARE.
  */
  var PI = Math.PI;
  var min = Math.min;
  var max = Math.max;
  var cos = Math.cos;
  var sin = Math.sin;
  var abs = Math.abs;
  var sign = Math.sign;
  var KAPPA90 = 0.5522847493;

  function arc(ctx, cx, cy, r, startAngle, endAngle, counterclockwise) {
    counterclockwise = counterclockwise || false;
    var a = 0;
    var da = 0;
    var hda = 0;
    var kappa = 0;
    var dx = 0;
    var dy = 0;
    var x = 0;
    var y = 0;
    var tanx = 0;
    var tany = 0;
    var px = 0;
    var py = 0;
    var ptanx = 0;
    var ptany = 0;
    var i = 0;
    var ndivs = 0; // Clamp angles

    da = endAngle - startAngle;

    if (counterclockwise) {
      if (abs(da) >= PI * 2) {
        da = PI * 2;
      } else {
        while (da < 0) {
          da += PI * 2;
        }
      }
    } else {
      if (abs(da) >= PI * 2) {
        da = -PI * 2;
      } else {
        while (da > 0) {
          da -= PI * 2;
        }
      }
    } // Split arc into max 90 degree segments.


    ndivs = max(1, min(abs(da) / (PI * 0.5) + 0.5, 5)) | 0;
    hda = da / ndivs / 2.0;
    kappa = abs(4.0 / 3.0 * (1 - cos(hda)) / sin(hda));

    if (!counterclockwise) {
      kappa = -kappa;
    }

    for (i = 0; i <= ndivs; i++) {
      a = startAngle + da * (i / ndivs);
      dx = cos(a);
      dy = sin(a);
      x = cx + dx * r;
      y = cy + dy * r;
      tanx = -dy * r * kappa;
      tany = dx * r * kappa;

      if (i === 0) {
        ctx.moveTo(x, y);
      } else {
        ctx.bezierCurveTo(px + ptanx, py + ptany, x - tanx, y - tany, x, y);
      }

      px = x;
      py = y;
      ptanx = tanx;
      ptany = tany;
    }
  }

  function ellipse(ctx, cx, cy, rx, ry) {
    ctx.moveTo(cx - rx, cy);
    ctx.bezierCurveTo(cx - rx, cy + ry * KAPPA90, cx - rx * KAPPA90, cy + ry, cx, cy + ry);
    ctx.bezierCurveTo(cx + rx * KAPPA90, cy + ry, cx + rx, cy + ry * KAPPA90, cx + rx, cy);
    ctx.bezierCurveTo(cx + rx, cy - ry * KAPPA90, cx + rx * KAPPA90, cy - ry, cx, cy - ry);
    ctx.bezierCurveTo(cx - rx * KAPPA90, cy - ry, cx - rx, cy - ry * KAPPA90, cx - rx, cy);
    ctx.close();
  }

  function roundRect(ctx, x, y, w, h, r) {
    if (r < 0.1) {
      ctx.rect(x, y, w, h);
      return;
    } else {
      var rx = min(r, abs(w) * 0.5) * sign(w);
      var ry = min(r, abs(h) * 0.5) * sign(h);
      ctx.moveTo(x, y + ry);
      ctx.lineTo(x, y + h - ry);
      ctx.bezierCurveTo(x, y + h - ry * (1 - KAPPA90), x + rx * (1 - KAPPA90), y + h, x + rx, y + h);
      ctx.lineTo(x + w - rx, y + h);
      ctx.bezierCurveTo(x + w - rx * (1 - KAPPA90), y + h, x + w, y + h - ry * (1 - KAPPA90), x + w, y + h - ry);
      ctx.lineTo(x + w, y + ry);
      ctx.bezierCurveTo(x + w, y + ry * (1 - KAPPA90), x + w - rx * (1 - KAPPA90), y, x + w - rx, y);
      ctx.lineTo(x + rx, y);
      ctx.bezierCurveTo(x + rx * (1 - KAPPA90), y, x, y + ry * (1 - KAPPA90), x, y + ry);
      ctx.close();
    }
  }

  function tesselateBezier(ctx, x1, y1, x2, y2, x3, y3, x4, y4, level, type) {
    var x12 = 0;
    var y12 = 0;
    var x23 = 0;
    var y23 = 0;
    var x34 = 0;
    var y34 = 0;
    var x123 = 0;
    var y123 = 0;
    var x234 = 0;
    var y234 = 0;
    var x1234 = 0;
    var y1234 = 0;
    var dx = 0;
    var dy = 0;
    var d2 = 0;
    var d3 = 0;

    if (level > 10) {
      return;
    }

    x12 = (x1 + x2) * 0.5;
    y12 = (y1 + y2) * 0.5;
    x23 = (x2 + x3) * 0.5;
    y23 = (y2 + y3) * 0.5;
    x34 = (x3 + x4) * 0.5;
    y34 = (y3 + y4) * 0.5;
    x123 = (x12 + x23) * 0.5;
    y123 = (y12 + y23) * 0.5;
    dx = x4 - x1;
    dy = y4 - y1;
    d2 = abs((x2 - x4) * dy - (y2 - y4) * dx);
    d3 = abs((x3 - x4) * dy - (y3 - y4) * dx);

    if ((d2 + d3) * (d2 + d3) < ctx.tessTol * (dx * dx + dy * dy)) {
      ctx.addPoint(x4, y4, type === 0 ? type | _types.PointFlags.PT_BEVEL : type);
      return;
    }

    x234 = (x23 + x34) * 0.5;
    y234 = (y23 + y34) * 0.5;
    x1234 = (x123 + x234) * 0.5;
    y1234 = (y123 + y234) * 0.5;
    tesselateBezier(ctx, x1, y1, x12, y12, x123, y123, x1234, y1234, level + 1, 0);
    tesselateBezier(ctx, x1234, y1234, x234, y234, x34, y34, x4, y4, level + 1, type);
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvdWkvYXNzZW1ibGVyL2dyYXBoaWNzL2hlbHBlci50cyJdLCJuYW1lcyI6WyJQSSIsIk1hdGgiLCJtaW4iLCJtYXgiLCJjb3MiLCJzaW4iLCJhYnMiLCJzaWduIiwiS0FQUEE5MCIsImFyYyIsImN0eCIsImN4IiwiY3kiLCJyIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwiY291bnRlcmNsb2Nrd2lzZSIsImEiLCJkYSIsImhkYSIsImthcHBhIiwiZHgiLCJkeSIsIngiLCJ5IiwidGFueCIsInRhbnkiLCJweCIsInB5IiwicHRhbngiLCJwdGFueSIsImkiLCJuZGl2cyIsIm1vdmVUbyIsImJlemllckN1cnZlVG8iLCJlbGxpcHNlIiwicngiLCJyeSIsImNsb3NlIiwicm91bmRSZWN0IiwidyIsImgiLCJyZWN0IiwibGluZVRvIiwidGVzc2VsYXRlQmV6aWVyIiwieDEiLCJ5MSIsIngyIiwieTIiLCJ4MyIsInkzIiwieDQiLCJ5NCIsImxldmVsIiwidHlwZSIsIngxMiIsInkxMiIsIngyMyIsInkyMyIsIngzNCIsInkzNCIsIngxMjMiLCJ5MTIzIiwieDIzNCIsInkyMzQiLCJ4MTIzNCIsInkxMjM0IiwiZDIiLCJkMyIsInRlc3NUb2wiLCJhZGRQb2ludCIsIlBvaW50RmxhZ3MiLCJQVF9CRVZFTCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBNEJBLE1BQU1BLEVBQUUsR0FBR0MsSUFBSSxDQUFDRCxFQUFoQjtBQUNBLE1BQU1FLEdBQUcsR0FBR0QsSUFBSSxDQUFDQyxHQUFqQjtBQUNBLE1BQU1DLEdBQUcsR0FBR0YsSUFBSSxDQUFDRSxHQUFqQjtBQUNBLE1BQU1DLEdBQUcsR0FBR0gsSUFBSSxDQUFDRyxHQUFqQjtBQUNBLE1BQU1DLEdBQUcsR0FBR0osSUFB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QUFELEVBQU11RCxLQUFOLEVBQWFDLEtBQWIsRUFBb0JILElBQXBCLEVBQTBCQyxJQUExQixFQUFnQ0wsR0FBaEMsRUFBcUNDLEdBQXJDLEVBQTBDVCxFQUExQyxFQUE4Q0MsRUFBOUMsRUFBa0RDLEtBQUssR0FBRyxDQUExRCxFQUE2REMsSUFBN0QsQ0FBZjtBQUNIIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHA6Ly93d3cuY29jb3MuY29tXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXHJcbiB3b3JsZHdpZGUsIHJveWFsdHktZnJlZSwgbm9uLWFzc2lnbmFibGUsIHJldm9jYWJsZSBhbmQgbm9uLWV4Y2x1c2l2ZSBsaWNlbnNlXHJcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxyXG4gbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xyXG4gdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxyXG4gc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXHJcblxyXG4gVGhlIHNvZnR3YXJlIG9yIHRvb2xzIGluIHRoaXMgTGljZW5zZSBBZ3JlZW1lbnQgYXJlIGxpY2Vuc2VkLCBub3Qgc29sZC5cclxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXHJcblxyXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiBUSEUgU09GVFdBUkUuXHJcbiovXHJcblxyXG5pbXBvcnQgeyBQb2ludEZsYWdzIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IEltcGwgfSBmcm9tICcuL3dlYmdsL2ltcGwnO1xyXG5cclxuY29uc3QgUEkgPSBNYXRoLlBJO1xyXG5jb25zdCBtaW4gPSBNYXRoLm1pbjtcclxuY29uc3QgbWF4ID0gTWF0aC5tYXg7XHJcbmNvbnN0IGNvcyA9IE1hdGguY29zO1xyXG5jb25zdCBzaW4gPSBNYXRoLnNpbjtcclxuY29uc3QgYWJzID0gTWF0aC5hYnM7XHJcbmNvbnN0IHNpZ24gPSBNYXRoLnNpZ247XHJcblxyXG5jb25zdCBLQVBQQTkwID0gMC41NTIyODQ3NDkzO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFyYyAoY3R4OiBJbXBsLCBjeDogbnVtYmVyLCBjeTogbnVtYmVyLCByOiBudW1iZXIsIHN0YXJ0QW5nbGU6IG51bWJlciwgZW5kQW5nbGU6IG51bWJlciwgY291bnRlcmNsb2Nrd2lzZTogYm9vbGVhbikge1xyXG4gICAgY291bnRlcmNsb2Nrd2lzZSA9IGNvdW50ZXJjbG9ja3dpc2UgfHwgZmFsc2U7XHJcblxyXG4gICAgbGV0IGEgPSAwO1xyXG4gICAgbGV0IGRhID0gMDtcclxuICAgIGxldCBoZGEgPSAwO1xyXG4gICAgbGV0IGthcHBhID0gMDtcclxuICAgIGxldCBkeCA9IDA7XHJcbiAgICBsZXQgZHkgPSAwO1xyXG4gICAgbGV0IHggPSAwO1xyXG4gICAgbGV0IHkgPSAwO1xyXG4gICAgbGV0IHRhbnggPSAwO1xyXG4gICAgbGV0IHRhbnkgPSAwO1xyXG4gICAgbGV0IHB4ID0gMDtcclxuICAgIGxldCBweSA9IDA7XHJcbiAgICBsZXQgcHRhbnggPSAwO1xyXG4gICAgbGV0IHB0YW55ID0gMDtcclxuICAgIGxldCBpID0gMDtcclxuICAgIGxldCBuZGl2cyA9IDA7XHJcblxyXG4gICAgLy8gQ2xhbXAgYW5nbGVzXHJcbiAgICBkYSA9IGVuZEFuZ2xlIC0gc3RhcnRBbmdsZTtcclxuICAgIGlmIChjb3VudGVyY2xvY2t3aXNlKSB7XHJcbiAgICAgICAgaWYgKGFicyhkYSkgPj0gUEkgKiAyKSB7XHJcbiAgICAgICAgICAgIGRhID0gUEkgKiAyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChkYSA8IDApIHsgZGEgKz0gUEkgKiAyOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoYWJzKGRhKSA+PSBQSSAqIDIpIHtcclxuICAgICAgICAgICAgZGEgPSAtUEkgKiAyO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChkYSA+IDApIHsgZGEgLT0gUEkgKiAyOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNwbGl0IGFyYyBpbnRvIG1heCA5MCBkZWdyZWUgc2VnbWVudHMuXHJcbiAgICBuZGl2cyA9IG1heCgxLCBtaW4oYWJzKGRhKSAvIChQSSAqIDAuNSkgKyAwLjUsIDUpKSB8IDA7XHJcbiAgICBoZGEgPSBkYSAvIG5kaXZzIC8gMi4wO1xyXG4gICAga2FwcGEgPSBhYnMoNC4wIC8gMy4wICogKDEgLSBjb3MoaGRhKSkgLyBzaW4oaGRhKSk7XHJcblxyXG4gICAgaWYgKCFjb3VudGVyY2xvY2t3aXNlKSB7IGthcHBhID0gLWthcHBhOyB9XHJcblxyXG4gICAgZm9yIChpID0gMDsgaSA8PSBuZGl2czsgaSsrKSB7XHJcbiAgICAgICAgYSA9IHN0YXJ0QW5nbGUgKyBkYSAqIChpIC8gbmRpdnMpO1xyXG4gICAgICAgIGR4ID0gY29zKGEpO1xyXG4gICAgICAgIGR5ID0gc2luKGEpO1xyXG4gICAgICAgIHggPSBjeCArIGR4ICogcjtcclxuICAgICAgICB5ID0gY3kgKyBkeSAqIHI7XHJcbiAgICAgICAgdGFueCA9IC1keSAqIHIgKiBrYXBwYTtcclxuICAgICAgICB0YW55ID0gZHggKiByICoga2FwcGE7XHJcblxyXG4gICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgIGN0eC5tb3ZlVG8oeCwgeSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LmJlemllckN1cnZlVG8ocHggKyBwdGFueCwgcHkgKyBwdGFueSwgeCAtIHRhbngsIHkgLSB0YW55LCB4LCB5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHggPSB4O1xyXG4gICAgICAgIHB5ID0geTtcclxuICAgICAgICBwdGFueCA9IHRhbng7XHJcbiAgICAgICAgcHRhbnkgPSB0YW55O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWxsaXBzZSAoY3R4OiBJbXBsLCBjeDogbnVtYmVyLCBjeTogbnVtYmVyLCByeDogbnVtYmVyLCByeTogbnVtYmVyKSB7XHJcbiAgICBjdHgubW92ZVRvKGN4IC0gcngsIGN5KTtcclxuICAgIGN0eC5iZXppZXJDdXJ2ZVRvKGN4IC0gcngsIGN5ICsgcnkgKiBLQVBQQTkwLCBjeCAtIHJ4ICogS0FQUEE5MCwgY3kgKyByeSwgY3gsIGN5ICsgcnkpO1xyXG4gICAgY3R4LmJlemllckN1cnZlVG8oY3ggKyByeCAqIEtBUFBBOTAsIGN5ICsgcnksIGN4ICsgcngsIGN5ICsgcnkgKiBLQVBQQTkwLCBjeCArIHJ4LCBjeSk7XHJcbiAgICBjdHguYmV6aWVyQ3VydmVUbyhjeCArIHJ4LCBjeSAtIHJ5ICogS0FQUEE5MCwgY3ggKyByeCAqIEtBUFBBOTAsIGN5IC0gcnksIGN4LCBjeSAtIHJ5KTtcclxuICAgIGN0eC5iZXppZXJDdXJ2ZVRvKGN4IC0gcnggKiBLQVBQQTkwLCBjeSAtIHJ5LCBjeCAtIHJ4LCBjeSAtIHJ5ICogS0FQUEE5MCwgY3ggLSByeCwgY3kpO1xyXG4gICAgY3R4LmNsb3NlKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiByb3VuZFJlY3QgKGN0eDogSW1wbCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIHc6IG51bWJlciwgaDogbnVtYmVyLCByOiBudW1iZXIpIHtcclxuICAgIGlmIChyIDwgMC4xKSB7XHJcbiAgICAgICAgY3R4LnJlY3QoeCwgeSwgdywgaCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zdCByeCA9IG1pbihyLCBhYnModykgKiAwLjUpICogc2lnbih3KTtcclxuICAgICAgICBjb25zdCByeSA9IG1pbihyLCBhYnMoaCkgKiAwLjUpICogc2lnbihoKTtcclxuXHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4LCB5ICsgcnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSArIGggLSByeSk7XHJcbiAgICAgICAgY3R4LmJlemllckN1cnZlVG8oeCwgeSArIGggLSByeSAqICgxIC0gS0FQUEE5MCksIHggKyByeCAqICgxIC0gS0FQUEE5MCksIHkgKyBoLCB4ICsgcngsIHkgKyBoKTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyB3IC0gcngsIHkgKyBoKTtcclxuICAgICAgICBjdHguYmV6aWVyQ3VydmVUbyh4ICsgdyAtIHJ4ICogKDEgLSBLQVBQQTkwKSwgeSArIGgsIHggKyB3LCB5ICsgaCAtIHJ5ICogKDEgLSBLQVBQQTkwKSwgeCArIHcsIHkgKyBoIC0gcnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHcsIHkgKyByeSk7XHJcbiAgICAgICAgY3R4LmJlemllckN1cnZlVG8oeCArIHcsIHkgKyByeSAqICgxIC0gS0FQUEE5MCksIHggKyB3IC0gcnggKiAoMSAtIEtBUFBBOTApLCB5LCB4ICsgdyAtIHJ4LCB5KTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyByeCwgeSk7XHJcbiAgICAgICAgY3R4LmJlemllckN1cnZlVG8oeCArIHJ4ICogKDEgLSBLQVBQQTkwKSwgeSwgeCwgeSArIHJ5ICogKDEgLSBLQVBQQTkwKSwgeCwgeSArIHJ5KTtcclxuICAgICAgICBjdHguY2xvc2UoKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHRlc3NlbGF0ZUJlemllciAoXHJcbiAgICBjdHg6IEltcGwsIHgxOiBudW1iZXIsIHkxOiBudW1iZXIsXHJcbiAgICB4MjogbnVtYmVyLCB5MjogbnVtYmVyLFxyXG4gICAgeDM6IG51bWJlciwgeTM6IG51bWJlcixcclxuICAgIHg0OiBudW1iZXIsIHk0OiBudW1iZXIsXHJcbiAgICBsZXZlbDogbnVtYmVyLCB0eXBlOiBudW1iZXIsXHJcbikge1xyXG4gICAgbGV0IHgxMiA9IDA7XHJcbiAgICBsZXQgeTEyID0gMDtcclxuICAgIGxldCB4MjMgPSAwO1xyXG4gICAgbGV0IHkyMyA9IDA7XHJcbiAgICBsZXQgeDM0ID0gMDtcclxuICAgIGxldCB5MzQgPSAwO1xyXG4gICAgbGV0IHgxMjMgPSAwO1xyXG4gICAgbGV0IHkxMjMgPSAwO1xyXG4gICAgbGV0IHgyMzQgPSAwO1xyXG4gICAgbGV0IHkyMzQgPSAwO1xyXG4gICAgbGV0IHgxMjM0ID0gMDtcclxuICAgIGxldCB5MTIzNCA9IDA7XHJcbiAgICBsZXQgZHggPSAwO1xyXG4gICAgbGV0IGR5ID0gMDtcclxuICAgIGxldCBkMiA9IDA7XHJcbiAgICBsZXQgZDMgPSAwO1xyXG5cclxuICAgIGlmIChsZXZlbCA+IDEwKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHgxMiA9ICh4MSArIHgyKSAqIDAuNTtcclxuICAgIHkxMiA9ICh5MSArIHkyKSAqIDAuNTtcclxuICAgIHgyMyA9ICh4MiArIHgzKSAqIDAuNTtcclxuICAgIHkyMyA9ICh5MiArIHkzKSAqIDAuNTtcclxuICAgIHgzNCA9ICh4MyArIHg0KSAqIDAuNTtcclxuICAgIHkzNCA9ICh5MyArIHk0KSAqIDAuNTtcclxuICAgIHgxMjMgPSAoeDEyICsgeDIzKSAqIDAuNTtcclxuICAgIHkxMjMgPSAoeTEyICsgeTIzKSAqIDAuNTtcclxuXHJcbiAgICBkeCA9IHg0IC0geDE7XHJcbiAgICBkeSA9IHk0IC0geTE7XHJcbiAgICBkMiA9IGFicygoeDIgLSB4NCkgKiBkeSAtICh5MiAtIHk0KSAqIGR4KTtcclxuICAgIGQzID0gYWJzKCh4MyAtIHg0KSAqIGR5IC0gKHkzIC0geTQpICogZHgpO1xyXG5cclxuICAgIGlmICgoZDIgKyBkMykgKiAoZDIgKyBkMykgPCBjdHgudGVzc1RvbCAqIChkeCAqIGR4ICsgZHkgKiBkeSkpIHtcclxuICAgICAgICBjdHguYWRkUG9pbnQoeDQsIHk0LCB0eXBlID09PSAwID8gdHlwZSB8IFBvaW50RmxhZ3MuUFRfQkVWRUwgOiB0eXBlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgeDIzNCA9ICh4MjMgKyB4MzQpICogMC41O1xyXG4gICAgeTIzNCA9ICh5MjMgKyB5MzQpICogMC41O1xyXG4gICAgeDEyMzQgPSAoeDEyMyArIHgyMzQpICogMC41O1xyXG4gICAgeTEyMzQgPSAoeTEyMyArIHkyMzQpICogMC41O1xyXG5cclxuICAgIHRlc3NlbGF0ZUJlemllcihjdHgsIHgxLCB5MSwgeDEyLCB5MTIsIHgxMjMsIHkxMjMsIHgxMjM0LCB5MTIzNCwgbGV2ZWwgKyAxLCAwKTtcclxuICAgIHRlc3NlbGF0ZUJlemllcihjdHgsIHgxMjM0LCB5MTIzNCwgeDIzNCwgeTIzNCwgeDM0LCB5MzQsIHg0LCB5NCwgbGV2ZWwgKyAxLCB0eXBlKTtcclxufVxyXG4iXX0=