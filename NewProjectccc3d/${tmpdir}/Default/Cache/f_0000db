(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../core/components/index.js", "../../core/data/class-decorator.js", "../../core/event/index.js", "../../core/platform/index.js", "../../core/math/index.js", "./layout-component.js", "./scroll-bar-component.js", "./view-group-component.js", "../../core/scene-graph/node.js", "../../core/director.js", "../../core/scene-graph/node-enum.js", "../../core/default-constants.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../core/components/index.js"), require("../../core/data/class-decorator.js"), require("../../core/event/index.js"), require("../../core/platform/index.js"), require("../../core/math/index.js"), require("./layout-component.js"), require("./scroll-bar-component.js"), require("./view-group-component.js"), require("../../core/scene-graph/node.js"), require("../../core/director.js"), require("../../core/scene-graph/node-enum.js"), require("../../core/default-constants.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.index, global.classDecorator, global.index, global.index, global.index, global.layoutComponent, global.scrollBarComponent, global.viewGroupComponent, global.node, global.director, global.nodeEnum, global.defaultConstants);
    global.scrollViewComponent = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _index, _classDecorator, _index2, _index3, _index4, _layoutComponent, _scrollBarComponent, _viewGroupComponent, _node, _director, _nodeEnum, _defaultConstants) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.ScrollViewComponent = _exports.EventType = void 0;

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _class3, _temp;

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  var NUMBER_OF_GATHERED_TOUCHES_FOR_MOVE_SPEED = 5;
  var OUT_OF_BOUNDARY_BREAKING_FACTOR = 0.05;
  var EPSILON = 1e-4;
  var TOLERANCE = 1e4;
  var MOVEMENT_FACTOR = 0.7;
  var ZERO = new _index4.Vec3();

  var _tempVec3 = new _index4.Vec3();

  var _tempVec3_1 = new _index4.Vec3();

  var _tempVec2 = new _index4.Vec2();

  var _tempVec2_1 = new _index4.Vec2();

  var quintEaseOut = function quintEaseOut(time) {
    time -= 1;
    return time * time * time * time * time + 1;
  };

  var getTimeInMilliseconds = function getTimeInMilliseconds() {
    var currentTime = new Date();
    return currentTime.getMilliseconds();
  };

  var eventMap = {
    'scroll-to-top': 0,
    'scroll-to-bottom': 1,
    'scroll-to-left': 2,
    'scroll-to-right': 3,
    'scrolling': 4,
    'bounce-bottom': 6,
    'bounce-left': 7,
    'bounce-right': 8,
    'bounce-top': 5,
    'scroll-ended': 9,
    'touch-up': 10,
    'scroll-ended-with-threshold': 11,
    'scroll-began': 12
  };
  /**
   * @en
   * Enum for ScrollView event type.
   *
   * @zh
   * 滚动视图事件类型
   */

  var EventType;
  /**
   * @en
   * Layout container for a view hierarchy that can be scrolled by the user,
   * allowing it to be larger than the physical display.
   *
   * @zh
   * 滚动视图组件。
   */

  _exports.EventType = EventType;

  (function (EventType) {
    EventType["SCROLL_TO_TOP"] = "scroll-to-top";
    EventType["SCROLL_TO_BOTTOM"] = "scroll-to-bottom";
    EventType["SCROLL_TO_LEFT"] = "scroll-to-left";
    EventType["SCROLL_TO_RIGHT"] = "scroll-to-right";
    EventType["SCROLL_BEGAN"] = "scroll-began";
    EventType["SCROLL_ENDED"] = "scroll-ended";
    EventType["BOUNCE_TOP"] = "bounce-top";
    EventType["BOUNCE_BOTTOM"] = "bounce-bottom";
    EventType["BOUNCE_LEFT"] = "bounce-left";
    EventType["BOUNCE_RIGHT"] = "bounce-right";
    EventType["SCROLLING"] = "scrolling";
    EventType["SCROLL_ENG_WITH_THRESHOLD"] = "scroll-ended-with-threshold";
    EventType["TOUCH_UP"] = "touch-up";
  })(EventType || (_exports.EventType = EventType = {}));

  var ScrollViewComponent = (_dec = (0, _classDecorator.ccclass)('cc.ScrollViewComponent'), _dec2 = (0, _classDecorator.help)('i18n:cc.ScrollViewComponent'), _dec3 = (0, _classDecorator.executionOrder)(110), _dec4 = (0, _classDecorator.menu)('UI/ScrollView'), _dec5 = (0, _classDecorator.property)({
    range: [0, 10],
    tooltip: '回弹持续的时间，0 表示将立即反弹',
    displayOrder: 0
  }), _dec6 = (0, _classDecorator.property)({
    range: [0, 1, 0.1],
    tooltip: '开启惯性后，在用户停止触摸后滚动多快停止，0 表示永不停止，1 表示立刻停止',
    displayOrder: 1
  }), _dec7 = (0, _classDecorator.property)({
    tooltip: '是否允许滚动内容超过边界，并在停止触摸后回弹',
    displayOrder: 2
  }), _dec8 = (0, _classDecorator.property)({
    tooltip: '是否开启滚动惯性',
    displayOrder: 3
  }), _dec9 = (0, _classDecorator.property)({
    type: _node.Node,
    tooltip: '可滚动展示内容的节点',
    displayOrder: 4
  }), _dec10 = (0, _classDecorator.property)({
    tooltip: '是否开启水平滚动',
    displayOrder: 5
  }), _dec11 = (0, _classDecorator.property)({
    type: _scrollBarComponent.ScrollBarComponent,
    tooltip: '水平滚动的 ScrollBar',
    displayOrder: 6
  }), _dec12 = (0, _classDecorator.property)({
    tooltip: '是否开启垂直滚动',
    displayOrder: 7
  }), _dec13 = (0, _classDecorator.property)({
    type: _scrollBarComponent.ScrollBarComponent,
    tooltip: '垂直滚动的 ScrollBar',
    displayOrder: 8
  }), _dec14 = (0, _classDecorator.property)({
    tooltip: '滚动行为是否会取消子节点上注册的触摸事件',
    displayOrder: 9
  }), _dec15 = (0, _classDecorator.property)({
    type: [_index.EventHandler],
    tooltip: '滚动视图的事件回调函数',
    displayOrder: 10
  }), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function (_ViewGroupComponent) {
    _inherits(ScrollViewComponent, _ViewGroupComponent);

    function ScrollViewComponent() {
      var _getPrototypeOf2;

      var _this;

      _classCallCheck(this, ScrollViewComponent);

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ScrollViewComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));

      _initializerDefineProperty(_this, "bounceDuration", _descriptor, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "brake", _descriptor2, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "elastic", _descriptor3, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "inertia", _descriptor4, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "horizontal", _descriptor5, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "vertical", _descriptor6, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "cancelInnerEvents", _descriptor7, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "scrollEvents", _descriptor8, _assertThisInitialized(_this));

      _this._autoScrolling = false;
      _this._scrolling = false;

      _initializerDefineProperty(_this, "_content", _descriptor9, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_horizontalScrollBar", _descriptor10, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_verticalScrollBar", _descriptor11, _assertThisInitialized(_this));

      _this._topBoundary = 0;
      _this._bottomBoundary = 0;
      _this._leftBoundary = 0;
      _this._rightBoundary = 0;
      _this._touchMoveDisplacements = [];
      _this._touchMoveTimeDeltas = [];
      _this._touchMovePreviousTimestamp = 0;
      _this._touchMoved = false;
      _this._autoScrollAttenuate = false;
      _this._autoScrollStartPosition = new _index4.Vec3();
      _this._autoScrollTargetDelta = new _index4.Vec3();
      _this._autoScrollTotalTime = 0;
      _this._autoScrollAccumulatedTime = 0;
      _this._autoScrollCurrentlyOutOfBoundary = false;
      _this._autoScrollBraking = false;
      _this._autoScrollBrakingStartPosition = new _index4.Vec3();
      _this._outOfBoundaryAmount = new _index4.Vec3();
      _this._outOfBoundaryAmountDirty = true;
      _this._stopMouseWheel = false;
      _this._mouseWheelEventElapsedTime = 0.0;
      _this._isScrollEndedWithThresholdEventFired = false;
      _this._scrollEventEmitMask = 0;
      _this._isBouncing = false;
      _this._contentPos = new _index4.Vec3();
      _this._deltaPos = new _index4.Vec3();
      return _this;
    }

    _createClass(ScrollViewComponent, [{
      key: "scrollToBottom",

      /**
       * @en
       * Scroll the content to the bottom boundary of ScrollView.
       *
       * @zh
       * 视图内容将在规定时间内滚动到视图底部。
       *
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到底部边界。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to the bottom of the view.
       * scrollView.scrollToBottom(0.1);
       * ```
       */
      value: function scrollToBottom(timeInSecond) {
        var attenuated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(0, 0),
          applyToHorizontal: false,
          applyToVertical: true
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta, true);
        }
      }
      /**
       * @en
       * Scroll the content to the top boundary of ScrollView.
       *
       * @zh
       * 视图内容将在规定时间内滚动到视图顶部。
       *
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到顶部边界。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to the top of the view.
       * scrollView.scrollToTop(0.1);
       * ```
       */

    }, {
      key: "scrollToTop",
      value: function scrollToTop(timeInSecond) {
        var attenuated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(0, 1),
          applyToHorizontal: false,
          applyToVertical: true
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll the content to the left boundary of ScrollView.
       *
       * @zh
       * 视图内容将在规定时间内滚动到视图左边。
       *
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到左边边界。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to the left of the view.
       * scrollView.scrollToLeft(0.1);
       * ```
       */

    }, {
      key: "scrollToLeft",
      value: function scrollToLeft(timeInSecond) {
        var attenuated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(0, 0),
          applyToHorizontal: true,
          applyToVertical: false
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll the content to the right boundary of ScrollView.
       *
       * @zh
       * 视图内容将在规定时间内滚动到视图右边。
       *
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到右边边界。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to the right of the view.
       * scrollView.scrollToRight(0.1);
       * ```
       */

    }, {
      key: "scrollToRight",
      value: function scrollToRight(timeInSecond) {
        var attenuated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(1, 0),
          applyToHorizontal: true,
          applyToVertical: false
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll the content to the top left boundary of ScrollView.
       *
       * @zh
       * 视图内容将在规定时间内滚动到视图左上角。
       *
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到左上边边界。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to the upper left corner of the view.
       * scrollView.scrollToTopLeft(0.1);
       * ```
       */

    }, {
      key: "scrollToTopLeft",
      value: function scrollToTopLeft(timeInSecond) {
        var attenuated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(0, 1),
          applyToHorizontal: true,
          applyToVertical: true
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll the content to the top right boundary of ScrollView.
       *
       * @zh
       * 视图内容将在规定时间内滚动到视图右上角。
       *
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到右上边界。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to the top right corner of the view.
       * scrollView.scrollToTopRight(0.1);
       * ```
       */

    }, {
      key: "scrollToTopRight",
      value: function scrollToTopRight(timeInSecond) {
        var attenuated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(1, 1),
          applyToHorizontal: true,
          applyToVertical: true
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll the content to the bottom left boundary of ScrollView.
       *
       * @zh
       * 视图内容将在规定时间内滚动到视图左下角。
       *
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到左下边界。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to the lower left corner of the view.
       * scrollView.scrollToBottomLeft(0.1);
       * ```
       */

    }, {
      key: "scrollToBottomLeft",
      value: function scrollToBottomLeft(timeInSecond) {
        var attenuated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(0, 0),
          applyToHorizontal: true,
          applyToVertical: true
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll the content to the bottom right boundary of ScrollView.
       *
       * @zh
       * 视图内容将在规定时间内滚动到视图右下角。
       *
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到右边下边界。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to the lower right corner of the view.
       * scrollView.scrollToBottomRight(0.1);
       * ```
       */

    }, {
      key: "scrollToBottomRight",
      value: function scrollToBottomRight(timeInSecond) {
        var attenuated = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;

        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(1, 0),
          applyToHorizontal: true,
          applyToVertical: true
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll with an offset related to the ScrollView's top left origin, if timeInSecond is omitted, then it will jump to the specific offset immediately.
       *
       * @zh
       * 视图内容在规定时间内将滚动到 ScrollView 相对左上角原点的偏移位置, 如果 timeInSecond 参数不传，则立即滚动到指定偏移位置。
       *
       * @param offset - 指定移动偏移量。
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到指定偏移量处。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to middle position in 0.1 second in x-axis
       * let maxScrollOffset = this.getMaxScrollOffset();
       * scrollView.scrollToOffset(new Vec3(maxScrollOffset.x / 2, 0, 0), 0.1);
       * ```
       */

    }, {
      key: "scrollToOffset",
      value: function scrollToOffset(offset, timeInSecond) {
        var attenuated = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;
        var maxScrollOffset = this.getMaxScrollOffset();
        var anchor = new _index4.Vec2(0, 0); // if maxScrollOffset is 0, then always align the content's top left origin to the top left corner of its parent

        if (maxScrollOffset.x === 0) {
          anchor.x = 0;
        } else {
          anchor.x = offset.x / maxScrollOffset.x;
        }

        if (maxScrollOffset.y === 0) {
          anchor.y = 1;
        } else {
          anchor.y = (maxScrollOffset.y - offset.y) / maxScrollOffset.y;
        }

        this.scrollTo(anchor, timeInSecond, attenuated);
      }
      /**
       * @en
       * Get the positive offset value corresponds to the content's top left boundary.
       *
       * @zh
       * 获取滚动视图相对于左上角原点的当前滚动偏移。
       *
       * @return - 当前滚动偏移量。
       */

    }, {
      key: "getScrollOffset",
      value: function getScrollOffset() {
        var topDelta = this._getContentTopBoundary() - this._topBoundary;

        var leftDelta = this._getContentLeftBoundary() - this._leftBoundary;

        return new _index4.Vec3(leftDelta, topDelta, 0);
      }
      /**
       * @en
       * Get the maximize available  scroll offset.
       *
       * @zh
       * 获取滚动视图最大可以滚动的偏移量。
       *
       * @return - 最大可滚动偏移量。
       */

    }, {
      key: "getMaxScrollOffset",
      value: function getMaxScrollOffset() {
        var scrollSize = this.node._uiProps.uiTransformComp.contentSize;
        var contentSize = this._content._uiProps.uiTransformComp.contentSize;
        var horizontalMaximizeOffset = contentSize.width - scrollSize.width;
        var verticalMaximizeOffset = contentSize.height - scrollSize.height;
        horizontalMaximizeOffset = horizontalMaximizeOffset >= 0 ? horizontalMaximizeOffset : 0;
        verticalMaximizeOffset = verticalMaximizeOffset >= 0 ? verticalMaximizeOffset : 0;
        return new _index4.Vec3(horizontalMaximizeOffset, verticalMaximizeOffset, 0);
      }
      /**
       * @en
       * Scroll the content to the horizontal percent position of ScrollView.
       *
       * @zh
       * 视图内容在规定时间内将滚动到 ScrollView 水平方向的百分比位置上。
       *
       * @param percent - 0 - 之间的百分比。
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到指定水平百分比位置。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Scroll to middle position.
       * scrollView.scrollToBottomRight(0.5, 0.1);
       * ```
       */

    }, {
      key: "scrollToPercentHorizontal",
      value: function scrollToPercentHorizontal(percent, timeInSecond, attenuated) {
        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(percent, 0),
          applyToHorizontal: true,
          applyToVertical: false
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated !== false);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll the content to the percent position of ScrollView in any direction.
       *
       * @zh
       * 视图内容在规定时间内进行垂直方向和水平方向的滚动，并且滚动到指定百分比位置上。
       *
       * @param anchor - 在 new Vec2(0,0) and new Vec2(1,1) 上取差值的一个点。
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到指定水平或垂直百分比位置。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * // Vertical scroll to the bottom of the view.
       * scrollView.scrollTo(new Vec2(0, 1), 0.1);
       *
       * // Horizontal scroll to view right.
       * scrollView.scrollTo(new Vec2(1, 0), 0.1);
       * ```
       */

    }, {
      key: "scrollTo",
      value: function scrollTo(anchor, timeInSecond, attenuated) {
        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(anchor),
          applyToHorizontal: true,
          applyToVertical: true
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Scroll the content to the vertical percent position of ScrollView.
       *
       * @zh
       * 视图内容在规定时间内滚动到 ScrollView 垂直方向的百分比位置上。
       *
       * @param percent - 0 - 1 之间的百分比。
       * @param timeInSecond - 滚动时间（s）。 如果超时，内容将立即跳到指定垂直百分比位置。
       * @param attenuated - 滚动加速是否衰减，默认为 true。
       * @example
       * ```typescript
       * scrollView.scrollToPercentVertical(0.5, 0.1);
       * ```
       */

    }, {
      key: "scrollToPercentVertical",
      value: function scrollToPercentVertical(percent, timeInSecond, attenuated) {
        var moveDelta = this._calculateMovePercentDelta({
          anchor: new _index4.Vec2(0, percent),
          applyToHorizontal: false,
          applyToVertical: true
        });

        if (timeInSecond) {
          this._startAutoScroll(moveDelta, timeInSecond, attenuated);
        } else {
          this._moveContent(moveDelta);
        }
      }
      /**
       * @en
       * Stop auto scroll immediately.
       *
       * @zh
       * 停止自动滚动, 调用此 API 可以让 ScrollView 立即停止滚动。
       */

    }, {
      key: "stopAutoScroll",
      value: function stopAutoScroll() {
        this._autoScrolling = false;
        this._autoScrollAccumulatedTime = this._autoScrollTotalTime;
      }
      /**
       * @en
       * Modify the content position.
       *
       * @zh
       * 设置当前视图内容的坐标点。
       *
       * @param position - 当前视图坐标点.
       */

    }, {
      key: "setContentPosition",
      value: function setContentPosition(position) {
        var contentPos = this.getContentPosition();

        if (Math.abs(position.x - contentPos.x) < EPSILON && Math.abs(position.y - contentPos.y) < EPSILON) {
          return;
        }

        this._content.setPosition(position);

        this._outOfBoundaryAmountDirty = true;
      }
      /**
       * @en
       * Query the content's position in its parent space.
       *
       * @zh
       * 获取当前视图内容的坐标点。
       *
       * @returns - 当前视图内容的坐标点.
       */

    }, {
      key: "getContentPosition",
      value: function getContentPosition() {
        if (!this._content) {
          return ZERO;
        }

        this._contentPos.set(this._content.position);

        return this._contentPos;
      }
      /**
       * @en
       * Query whether the user is currently dragging the ScrollView to scroll it.
       *
       * @zh
       * 用户是否在拖拽当前滚动视图。
       *
       * @returns - 是否在拖拽当前滚动视图。
       */

    }, {
      key: "isScrolling",
      value: function isScrolling() {
        return this._scrolling;
      }
      /**
       * @en
       * Query whether the ScrollView is currently scrolling because of a bounceback or inertia slowdown.
       *
       * @zh
       * 当前滚动视图是否在惯性滚动。
       *
       * @returns - 滚动视图是否在惯性滚动。
       */

    }, {
      key: "isAutoScrolling",
      value: function isAutoScrolling() {
        return this._autoScrolling;
      }
    }, {
      key: "getScrollEndedEventTiming",
      value: function getScrollEndedEventTiming() {
        return EPSILON;
      }
    }, {
      key: "start",
      value: function start() {
        this._calculateBoundary(); // Because widget component will adjust content position and scrollView position is correct after visit
        // So this event could make sure the content is on the correct position after loading.


        if (this._content) {
          _director.director.once(_director.Director.EVENT_BEFORE_DRAW, this._adjustContentOutOfBoundary, this);
        }
      }
    }, {
      key: "onEnable",
      value: function onEnable() {
        if (!_defaultConstants.EDITOR) {
          this._registerEvent();

          if (this.content) {
            this.content.on(_node.Node.EventType.SIZE_CHANGED, this._calculateBoundary, this);
            this.content.on(_node.Node.EventType.TRANSFORM_CHANGED, this._scaleChanged, this);

            if (this.view) {
              this.view.on(_node.Node.EventType.TRANSFORM_CHANGED, this._scaleChanged, this);
              this.view.on(_node.Node.EventType.SIZE_CHANGED, this._calculateBoundary, this);
            }
          }

          this._calculateBoundary();
        }

        this._showScrollBar();
      }
    }, {
      key: "update",
      value: function update(dt) {
        if (this._autoScrolling) {
          this._processAutoScrolling(dt);
        }
      }
    }, {
      key: "onDisable",
      value: function onDisable() {
        if (!_defaultConstants.EDITOR) {
          this._unregisterEvent();

          if (this.content) {
            this.content.off(_node.Node.EventType.SIZE_CHANGED, this._calculateBoundary, this);
            this.content.off(_node.Node.EventType.TRANSFORM_CHANGED, this._scaleChanged, this);

            if (this.view) {
              this.view.off(_node.Node.EventType.TRANSFORM_CHANGED, this._scaleChanged, this);
              this.view.off(_node.Node.EventType.SIZE_CHANGED, this._calculateBoundary, this);
            }
          }
        }

        this._hideScrollBar();

        this.stopAutoScroll();
      } // private methods

    }, {
      key: "_registerEvent",
      value: function _registerEvent() {
        this.node.on(_node.Node.EventType.TOUCH_START, this._onTouchBegan, this, true);
        this.node.on(_node.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this, true);
        this.node.on(_node.Node.EventType.TOUCH_END, this._onTouchEnded, this, true);
        this.node.on(_node.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this, true);
        this.node.on(_node.Node.EventType.MOUSE_WHEEL, this._onMouseWheel, this, true);
      }
    }, {
      key: "_unregisterEvent",
      value: function _unregisterEvent() {
        this.node.off(_node.Node.EventType.TOUCH_START, this._onTouchBegan, this, true);
        this.node.off(_node.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this, true);
        this.node.off(_node.Node.EventType.TOUCH_END, this._onTouchEnded, this, true);
        this.node.off(_node.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this, true);
        this.node.off(_node.Node.EventType.MOUSE_WHEEL, this._onMouseWheel, this, true);
      }
    }, {
      key: "_onMouseWheel",
      value: function _onMouseWheel(event, captureListeners) {
        if (!this.enabledInHierarchy) {
          return;
        }

        if (this._hasNestedViewGroup(event, captureListeners)) {
          return;
        }

        var deltaMove = new _index4.Vec3();
        var wheelPrecision = -0.1;
        var scrollY = event.getScrollY();

        if (this.vertical) {
          deltaMove.set(0, scrollY * wheelPrecision, 0);
        } else if (this.horizontal) {
          deltaMove.set(scrollY * wheelPrecision, 0, 0);
        }

        this._mouseWheelEventElapsedTime = 0;

        this._processDeltaMove(deltaMove);

        if (!this._stopMouseWheel) {
          this._handlePressLogic();

          this.schedule(this._checkMouseWheel, 1.0 / 60, NaN, 0);
          this._stopMouseWheel = true;
        }

        this._stopPropagationIfTargetIsMe(event);
      }
    }, {
      key: "_onTouchBegan",
      value: function _onTouchBegan(event, captureListeners) {
        if (!this.enabledInHierarchy || !this._content) {
          return;
        }

        if (this._hasNestedViewGroup(event, captureListeners)) {
          return;
        } // let touch = event.touch;


        if (this._content) {
          this._handlePressLogic();
        }

        this._touchMoved = false;

        this._stopPropagationIfTargetIsMe(event);
      }
    }, {
      key: "_onTouchMoved",
      value: function _onTouchMoved(event, captureListeners) {
        if (!this.enabledInHierarchy || !this._content) {
          return;
        }

        if (this._hasNestedViewGroup(event, captureListeners)) {
          return;
        }

        var touch = event.touch;

        if (this._content) {
          this._handleMoveLogic(touch);
        } // Do not prevent touch events in inner nodes


        if (!this.cancelInnerEvents) {
          return;
        }

        var deltaMove = touch.getUILocation(_tempVec2);
        deltaMove.subtract(touch.getUIStartLocation(_tempVec2_1)); // FIXME: touch move delta should be calculated by DPI.

        if (deltaMove.length() > 7) {
          if (!this._touchMoved && event.target !== this.node) {
            // Simulate touch cancel for target node
            var cancelEvent = new _index3.EventTouch(event.getTouches(), event.bubbles);
            cancelEvent.type = _node.Node.EventType.TOUCH_CANCEL;
            cancelEvent.touch = event.touch;
            cancelEvent.simulate = true;
            event.target.dispatchEvent(cancelEvent);
            this._touchMoved = true;
          }
        }

        this._stopPropagationIfTargetIsMe(event);
      }
    }, {
      key: "_onTouchEnded",
      value: function _onTouchEnded(event, captureListeners) {
        if (!this.enabledInHierarchy || !this._content || !event) {
          return;
        }

        if (this._hasNestedViewGroup(event, captureListeners)) {
          return;
        }

        this._dispatchEvent(EventType.TOUCH_UP);

        var touch = event.touch;

        if (this._content) {
          this._handleReleaseLogic(touch);
        }

        if (this._touchMoved) {
          event.propagationStopped = true;
        } else {
          this._stopPropagationIfTargetIsMe(event);
        }
      }
    }, {
      key: "_onTouchCancelled",
      value: function _onTouchCancelled(event, captureListeners) {
        if (!this.enabledInHierarchy || !this._content) {
          return;
        }

        if (this._hasNestedViewGroup(event, captureListeners)) {
          return;
        } // Filter touch cancel event send from self


        if (event && !event.simulate) {
          var touch = event.touch;

          if (this._content) {
            this._handleReleaseLogic(touch);
          }
        }

        this._stopPropagationIfTargetIsMe(event);
      }
    }, {
      key: "_calculateBoundary",
      value: function _calculateBoundary() {
        if (this.content) {
          // refresh content size
          var layout = this.content.getComponent(_layoutComponent.LayoutComponent);

          if (layout && layout.enabledInHierarchy) {
            layout.updateLayout();
          }

          var viewSize = this.view._uiProps.uiTransformComp.contentSize;
          var anchorX = viewSize.width * this.view.anchorX;
          var anchorY = viewSize.height * this.view.anchorY;
          this._leftBoundary = -anchorX;
          this._bottomBoundary = -anchorY;
          this._rightBoundary = this._leftBoundary + viewSize.width;
          this._topBoundary = this._bottomBoundary + viewSize.height;

          this._moveContentToTopLeft(viewSize);
        }
      }
    }, {
      key: "_hasNestedViewGroup",
      value: function _hasNestedViewGroup(event, captureListeners) {
        if (!event || event.eventPhase !== _index2.Event.CAPTURING_PHASE) {
          return;
        }

        if (captureListeners) {
          // captureListeners are arranged from child to parent
          var _iterator = _createForOfIteratorHelper(captureListeners),
              _step;

          try {
            for (_iterator.s(); !(_step = _iterator.n()).done;) {
              var listener = _step.value;
              var item = listener;

              if (this.node === item) {
                if (event.target && event.target.getComponent(_viewGroupComponent.ViewGroupComponent)) {
                  return true;
                }

                return false;
              }

              if (item.getComponent(_viewGroupComponent.ViewGroupComponent)) {
                return true;
              }
            }
          } catch (err) {
            _iterator.e(err);
          } finally {
            _iterator.f();
          }
        }

        return false;
      }
    }, {
      key: "_startInertiaScroll",
      value: function _startInertiaScroll(touchMoveVelocity) {
        var inertiaTotalMovement = new _index4.Vec3(touchMoveVelocity);
        inertiaTotalMovement.multiplyScalar(MOVEMENT_FACTOR);

        this._startAttenuatingAutoScroll(inertiaTotalMovement, touchMoveVelocity);
      }
    }, {
      key: "_calculateAttenuatedFactor",
      value: function _calculateAttenuatedFactor(distance) {
        if (this.brake <= 0) {
          return 1 - this.brake;
        } // attenuate formula from: http://learnopengl.com/#!Lighting/Light-casters


        return (1 - this.brake) * (1 / (1 + distance * 0.000014 + distance * distance * 0.000000008));
      }
    }, {
      key: "_startAttenuatingAutoScroll",
      value: function _startAttenuatingAutoScroll(deltaMove, initialVelocity) {
        var time = this._calculateAutoScrollTimeByInitialSpeed(initialVelocity.length());

        var targetDelta = new _index4.Vec3(deltaMove);
        targetDelta.normalize();
        var contentSize = this._content._uiProps.uiTransformComp.contentSize;
        var scrollViewSize = this.node._uiProps.uiTransformComp.contentSize;
        var totalMoveWidth = contentSize.width - scrollViewSize.width;
        var totalMoveHeight = contentSize.height - scrollViewSize.height;

        var attenuatedFactorX = this._calculateAttenuatedFactor(totalMoveWidth);

        var attenuatedFactorY = this._calculateAttenuatedFactor(totalMoveHeight);

        targetDelta.x = targetDelta.x * totalMoveWidth * (1 - this.brake) * attenuatedFactorX;
        targetDelta.y = targetDelta.y * totalMoveHeight * attenuatedFactorY * (1 - this.brake);
        targetDelta.z = 0;
        var originalMoveLength = deltaMove.length();
        var factor = targetDelta.length() / originalMoveLength;
        targetDelta.add(deltaMove);

        if (this.brake > 0 && factor > 7) {
          factor = Math.sqrt(factor);
          var a = new _index4.Vec3(deltaMove);
          a.multiplyScalar(factor);
          targetDelta.set(a);
          targetDelta.add(deltaMove);
        }

        if (this.brake > 0 && factor > 3) {
          factor = 3;
          time = time * factor;
        }

        if (this.brake === 0 && factor > 1) {
          time = time * factor;
        }

        this._startAutoScroll(targetDelta, time, true);
      }
    }, {
      key: "_calculateAutoScrollTimeByInitialSpeed",
      value: function _calculateAutoScrollTimeByInitialSpeed(initialSpeed) {
        return Math.sqrt(Math.sqrt(initialSpeed / 5));
      }
    }, {
      key: "_startAutoScroll",
      value: function _startAutoScroll(deltaMove, timeInSecond) {
        var attenuated = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;

        var adjustedDeltaMove = this._flattenVectorByDirection(deltaMove);

        this._autoScrolling = true;
        this._autoScrollTargetDelta = adjustedDeltaMove;
        this._autoScrollAttenuate = attenuated;

        _index4.Vec3.copy(this._autoScrollStartPosition, this.getContentPosition());

        this._autoScrollTotalTime = timeInSecond;
        this._autoScrollAccumulatedTime = 0;
        this._autoScrollBraking = false;
        this._isScrollEndedWithThresholdEventFired = false;
        this._autoScrollBrakingStartPosition = new _index4.Vec3();

        var currentOutOfBoundary = this._getHowMuchOutOfBoundary();

        if (!currentOutOfBoundary.equals(ZERO, EPSILON)) {
          this._autoScrollCurrentlyOutOfBoundary = true;
        }
      }
    }, {
      key: "_calculateTouchMoveVelocity",
      value: function _calculateTouchMoveVelocity() {
        var totalTime = 0;
        totalTime = this._touchMoveTimeDeltas.reduce(function (a, b) {
          return a + b;
        }, totalTime);

        if (totalTime <= 0 || totalTime >= 0.5) {
          return new _index4.Vec3();
        }

        var totalMovement = new _index4.Vec3();
        totalMovement = this._touchMoveDisplacements.reduce(function (a, b) {
          a.add(b);
          return a;
        }, totalMovement);
        return new _index4.Vec3(totalMovement.x * (1 - this.brake) / totalTime, totalMovement.y * (1 - this.brake) / totalTime, 0);
      }
    }, {
      key: "_flattenVectorByDirection",
      value: function _flattenVectorByDirection(vector) {
        var result = vector;
        result.x = this.horizontal ? result.x : 0;
        result.y = this.vertical ? result.y : 0;
        return result;
      }
    }, {
      key: "_moveContent",
      value: function _moveContent(deltaMove, canStartBounceBack) {
        var adjustedMove = this._flattenVectorByDirection(deltaMove);

        _tempVec3.set(this.getContentPosition());

        _tempVec3.add(adjustedMove);

        _tempVec3.set(Math.floor(_tempVec3.x * TOLERANCE) * EPSILON, Math.floor(_tempVec3.y * TOLERANCE) * EPSILON, _tempVec3.z);

        this.setContentPosition(_tempVec3);

        var outOfBoundary = this._getHowMuchOutOfBoundary();

        this._updateScrollBar(outOfBoundary);

        if (this.elastic && canStartBounceBack) {
          this._startBounceBackIfNeeded();
        }
      }
    }, {
      key: "_getContentLeftBoundary",
      value: function _getContentLeftBoundary() {
        var contentPos = this.getContentPosition();
        return contentPos.x - this._content.anchorX * this._content.width;
      }
    }, {
      key: "_getContentRightBoundary",
      value: function _getContentRightBoundary() {
        return this._getContentLeftBoundary() + this._content.width;
      }
    }, {
      key: "_getContentTopBoundary",
      value: function _getContentTopBoundary() {
        return this._getContentBottomBoundary() + this._content.height;
      }
    }, {
      key: "_getContentBottomBoundary",
      value: function _getContentBottomBoundary() {
        var contentPos = this.getContentPosition();
        return contentPos.y - this._content.anchorY * this._content.height;
      }
    }, {
      key: "_getHowMuchOutOfBoundary",
      value: function _getHowMuchOutOfBoundary(addition) {
        addition = addition || new _index4.Vec3();

        if (addition.equals(ZERO, EPSILON) && !this._outOfBoundaryAmountDirty) {
          return this._outOfBoundaryAmount;
        }

        var outOfBoundaryAmount = new _index4.Vec3();

        if (this._getContentLeftBoundary() + addition.x > this._leftBoundary) {
          outOfBoundaryAmount.x = this._leftBoundary - (this._getContentLeftBoundary() + addition.x);
        } else if (this._getContentRightBoundary() + addition.x < this._rightBoundary) {
          outOfBoundaryAmount.x = this._rightBoundary - (this._getContentRightBoundary() + addition.x);
        }

        if (this._getContentTopBoundary() + addition.y < this._topBoundary) {
          outOfBoundaryAmount.y = this._topBoundary - (this._getContentTopBoundary() + addition.y);
        } else if (this._getContentBottomBoundary() + addition.y > this._bottomBoundary) {
          outOfBoundaryAmount.y = this._bottomBoundary - (this._getContentBottomBoundary() + addition.y);
        }

        if (addition.equals(ZERO, EPSILON)) {
          this._outOfBoundaryAmount = outOfBoundaryAmount;
          this._outOfBoundaryAmountDirty = false;
        }

        outOfBoundaryAmount = this._clampDelta(outOfBoundaryAmount);
        return outOfBoundaryAmount;
      }
    }, {
      key: "_updateScrollBar",
      value: function _updateScrollBar(outOfBoundary) {
        if (this._horizontalScrollBar) {
          this._horizontalScrollBar.onScroll(outOfBoundary);
        }

        if (this.verticalScrollBar) {
          this.verticalScrollBar.onScroll(outOfBoundary);
        }
      }
    }, {
      key: "_onScrollBarTouchBegan",
      value: function _onScrollBarTouchBegan() {
        if (this._horizontalScrollBar) {
          this._horizontalScrollBar.onTouchBegan();
        }

        if (this.verticalScrollBar) {
          this.verticalScrollBar.onTouchBegan();
        }
      }
    }, {
      key: "_onScrollBarTouchEnded",
      value: function _onScrollBarTouchEnded() {
        if (this._horizontalScrollBar) {
          this._horizontalScrollBar.onTouchEnded();
        }

        if (this.verticalScrollBar) {
          this.verticalScrollBar.onTouchEnded();
        }
      }
    }, {
      key: "_dispatchEvent",
      value: function _dispatchEvent(event) {
        if (event === EventType.SCROLL_ENDED) {
          this._scrollEventEmitMask = 0;
        } else if (event === EventType.SCROLL_TO_TOP || event === EventType.SCROLL_TO_BOTTOM || event === EventType.SCROLL_TO_LEFT || event === EventType.SCROLL_TO_RIGHT) {
          var flag = 1 << eventMap[event];

          if (this._scrollEventEmitMask & flag) {
            return;
          } else {
            this._scrollEventEmitMask |= flag;
          }
        }

        _index.EventHandler.emitEvents(this.scrollEvents, this, eventMap[event]);

        this.node.emit(event, this);
      }
    }, {
      key: "_adjustContentOutOfBoundary",
      value: function _adjustContentOutOfBoundary() {
        if (!this._content) {
          return;
        }

        this._outOfBoundaryAmountDirty = true;

        if (this._isOutOfBoundary()) {
          var outOfBoundary = this._getHowMuchOutOfBoundary();

          _tempVec3.set(this.getContentPosition());

          _tempVec3.add(outOfBoundary);

          if (this._content) {
            this._content.setPosition(_tempVec3);

            this._updateScrollBar(ZERO);
          }
        }
      }
    }, {
      key: "_hideScrollBar",
      value: function _hideScrollBar() {
        if (this._horizontalScrollBar) {
          this._horizontalScrollBar.hide();
        }

        if (this._verticalScrollBar) {
          this._verticalScrollBar.hide();
        }
      }
    }, {
      key: "_showScrollBar",
      value: function _showScrollBar() {
        if (this._horizontalScrollBar) {
          this._horizontalScrollBar.show();
        }

        if (this._verticalScrollBar) {
          this._verticalScrollBar.show();
        }
      } // This is for ScrollView as children of a Button

    }, {
      key: "_stopPropagationIfTargetIsMe",
      value: function _stopPropagationIfTargetIsMe(event) {
        if (event.eventPhase === _index2.Event.AT_TARGET && event.target === this.node) {
          event.propagationStopped = true;
        }
      }
    }, {
      key: "_processDeltaMove",
      value: function _processDeltaMove(deltaMove) {
        this._scrollChildren(deltaMove);

        this._gatherTouchMove(deltaMove);
      }
    }, {
      key: "_handleMoveLogic",
      value: function _handleMoveLogic(touch) {
        this._deltaPos.set(this._getLocalAxisAlignDelta(touch));

        this._processDeltaMove(this._deltaPos);
      }
    }, {
      key: "_handleReleaseLogic",
      value: function _handleReleaseLogic(touch) {
        this._deltaPos.set(this._getLocalAxisAlignDelta(touch));

        this._gatherTouchMove(this._deltaPos);

        this._processInertiaScroll();

        if (this._scrolling) {
          this._scrolling = false;

          if (!this._autoScrolling) {
            this._dispatchEvent(EventType.SCROLL_ENDED);
          }
        }
      }
    }, {
      key: "_getLocalAxisAlignDelta",
      value: function _getLocalAxisAlignDelta(touch) {
        var uiTransformComp = this.node._uiProps.uiTransformComp;
        var vec = new _index4.Vec3();

        if (uiTransformComp) {
          touch.getUILocation(_tempVec2);
          touch.getUIPreviousLocation(_tempVec2_1);

          _tempVec3.set(_tempVec2.x, _tempVec2.y, 0);

          _tempVec3_1.set(_tempVec2_1.x, _tempVec2_1.y, 0);

          uiTransformComp.convertToNodeSpaceAR(_tempVec3, _tempVec3);
          uiTransformComp.convertToNodeSpaceAR(_tempVec3_1, _tempVec3_1);

          _index4.Vec3.subtract(vec, _tempVec3, _tempVec3_1);
        }

        return vec;
      }
    }, {
      key: "_scrollChildren",
      value: function _scrollChildren(deltaMove) {
        deltaMove = this._clampDelta(deltaMove);
        var realMove = deltaMove;
        var outOfBoundary;

        if (this.elastic) {
          outOfBoundary = this._getHowMuchOutOfBoundary();
          realMove.x *= outOfBoundary.x === 0 ? 1 : 0.5;
          realMove.y *= outOfBoundary.y === 0 ? 1 : 0.5;
        }

        if (!this.elastic) {
          outOfBoundary = this._getHowMuchOutOfBoundary(realMove);
          realMove.add(outOfBoundary);
        }

        var scrollEventType;
        var pos = this._content.position;

        if (realMove.y > 0) {
          // up
          var icBottomPos = pos.y - this._content.anchorY * this._content.height;

          if (icBottomPos + realMove.y >= this._bottomBoundary) {
            scrollEventType = EventType.SCROLL_TO_BOTTOM;
          }
        } else if (realMove.y < 0) {
          // down
          var icTopPos = pos.y - this._content.anchorY * this._content.height + this._content.height;

          if (icTopPos + realMove.y <= this._topBoundary) {
            scrollEventType = EventType.SCROLL_TO_TOP;
          }
        } else if (realMove.x < 0) {
          // left
          var icRightPos = pos.x - this._content.anchorX * this._content.width + this._content.width;

          if (icRightPos + realMove.x <= this._rightBoundary) {
            scrollEventType = EventType.SCROLL_TO_RIGHT;
          }
        } else if (realMove.x > 0) {
          // right
          var icLeftPos = pos.x - this._content.anchorX * this._content.width;

          if (icLeftPos + realMove.x >= this._leftBoundary) {
            scrollEventType = EventType.SCROLL_TO_LEFT;
          }
        }

        this._moveContent(realMove, false);

        if (realMove.x !== 0 || realMove.y !== 0) {
          if (!this._scrolling) {
            this._scrolling = true;

            this._dispatchEvent(EventType.SCROLL_BEGAN);
          }

          this._dispatchEvent(EventType.SCROLLING);
        }

        if (scrollEventType && scrollEventType.length > 0) {
          this._dispatchEvent(scrollEventType);
        }
      }
    }, {
      key: "_handlePressLogic",
      value: function _handlePressLogic() {
        if (this._autoScrolling) {
          this._dispatchEvent(EventType.SCROLL_ENDED);
        }

        this._autoScrolling = false;
        this._isBouncing = false;
        this._touchMovePreviousTimestamp = getTimeInMilliseconds();
        this._touchMoveDisplacements.length = 0;
        this._touchMoveTimeDeltas.length = 0;

        this._onScrollBarTouchBegan();
      }
    }, {
      key: "_clampDelta",
      value: function _clampDelta(delta) {
        var contentSize = this._content._uiProps.uiTransformComp.contentSize;
        var scrollViewSize = this.node._uiProps.uiTransformComp.contentSize;

        if (contentSize.width < scrollViewSize.width) {
          delta.x = 0;
        }

        if (contentSize.height < scrollViewSize.height) {
          delta.y = 0;
        }

        return delta;
      }
    }, {
      key: "_gatherTouchMove",
      value: function _gatherTouchMove(delta) {
        var clampDt = delta.clone();

        this._clampDelta(clampDt);

        while (this._touchMoveDisplacements.length >= NUMBER_OF_GATHERED_TOUCHES_FOR_MOVE_SPEED) {
          this._touchMoveDisplacements.shift();

          this._touchMoveTimeDeltas.shift();
        }

        this._touchMoveDisplacements.push(clampDt);

        var timeStamp = getTimeInMilliseconds();

        this._touchMoveTimeDeltas.push((timeStamp - this._touchMovePreviousTimestamp) / 1000);

        this._touchMovePreviousTimestamp = timeStamp;
      }
    }, {
      key: "_startBounceBackIfNeeded",
      value: function _startBounceBackIfNeeded() {
        if (!this.elastic) {
          return false;
        }

        var bounceBackAmount = this._getHowMuchOutOfBoundary();

        bounceBackAmount = this._clampDelta(bounceBackAmount);

        if (bounceBackAmount.equals(ZERO, EPSILON)) {
          return false;
        }

        var bounceBackTime = Math.max(this.bounceDuration, 0);

        this._startAutoScroll(bounceBackAmount, bounceBackTime, true);

        if (!this._isBouncing) {
          if (bounceBackAmount.y > 0) {
            this._dispatchEvent(EventType.BOUNCE_TOP);
          }

          if (bounceBackAmount.y < 0) {
            this._dispatchEvent(EventType.BOUNCE_BOTTOM);
          }

          if (bounceBackAmount.x > 0) {
            this._dispatchEvent(EventType.BOUNCE_RIGHT);
          }

          if (bounceBackAmount.x < 0) {
            this._dispatchEvent(EventType.BOUNCE_LEFT);
          }

          this._isBouncing = true;
        }

        return true;
      }
    }, {
      key: "_processInertiaScroll",
      value: function _processInertiaScroll() {
        var bounceBackStarted = this._startBounceBackIfNeeded();

        if (!bounceBackStarted && this.inertia) {
          var touchMoveVelocity = this._calculateTouchMoveVelocity();

          if (!touchMoveVelocity.equals(_tempVec3, EPSILON) && this.brake < 1) {
            this._startInertiaScroll(touchMoveVelocity);
          }
        }

        this._onScrollBarTouchEnded();
      }
    }, {
      key: "_isOutOfBoundary",
      value: function _isOutOfBoundary() {
        var outOfBoundary = this._getHowMuchOutOfBoundary();

        return !outOfBoundary.equals(ZERO, EPSILON);
      }
    }, {
      key: "_isNecessaryAutoScrollBrake",
      value: function _isNecessaryAutoScrollBrake() {
        if (this._autoScrollBraking) {
          return true;
        }

        if (this._isOutOfBoundary()) {
          if (!this._autoScrollCurrentlyOutOfBoundary) {
            this._autoScrollCurrentlyOutOfBoundary = true;
            this._autoScrollBraking = true;
            this._autoScrollBrakingStartPosition = this.getContentPosition();
            return true;
          }
        } else {
          this._autoScrollCurrentlyOutOfBoundary = false;
        }

        return false;
      }
    }, {
      key: "_processAutoScrolling",
      value: function _processAutoScrolling(dt) {
        var isAutoScrollBrake = this._isNecessaryAutoScrollBrake();

        var brakingFactor = isAutoScrollBrake ? OUT_OF_BOUNDARY_BREAKING_FACTOR : 1;
        this._autoScrollAccumulatedTime += dt * (1 / brakingFactor);
        var percentage = Math.min(1, this._autoScrollAccumulatedTime / this._autoScrollTotalTime);

        if (this._autoScrollAttenuate) {
          percentage = quintEaseOut(percentage);
        }

        var a = new _index4.Vec3(this._autoScrollTargetDelta);
        a.multiplyScalar(percentage);
        var newPosition = new _index4.Vec3(this._autoScrollStartPosition);
        newPosition.add(a);
        var reachedEnd = Math.abs(percentage - 1) <= EPSILON;
        var fireEvent = Math.abs(percentage - 1) <= this.getScrollEndedEventTiming();

        if (fireEvent && !this._isScrollEndedWithThresholdEventFired) {
          this._dispatchEvent(EventType.SCROLL_ENG_WITH_THRESHOLD);

          this._isScrollEndedWithThresholdEventFired = true;
        }

        if (this.elastic) {
          var brakeOffsetPosition = new _index4.Vec3(newPosition);
          brakeOffsetPosition.subtract(this._autoScrollBrakingStartPosition);

          if (isAutoScrollBrake) {
            brakeOffsetPosition.multiplyScalar(brakingFactor);
          }

          newPosition.set(this._autoScrollBrakingStartPosition);
          newPosition.add(brakeOffsetPosition);
        } else {
          var moveDelta = new _index4.Vec3(newPosition);
          moveDelta.subtract(this.getContentPosition());

          var outOfBoundary = this._getHowMuchOutOfBoundary(moveDelta);

          if (!outOfBoundary.equals(ZERO, EPSILON)) {
            newPosition.add(outOfBoundary);
            reachedEnd = true;
          }
        }

        if (reachedEnd) {
          this._autoScrolling = false;
        }

        var deltaMove = new _index4.Vec3(newPosition);
        deltaMove.subtract(this.getContentPosition());

        this._moveContent(this._clampDelta(deltaMove), reachedEnd);

        this._dispatchEvent(EventType.SCROLLING);

        if (!this._autoScrolling) {
          this._isBouncing = false;
          this._scrolling = false;

          this._dispatchEvent(EventType.SCROLL_ENDED);
        }
      }
    }, {
      key: "_checkMouseWheel",
      value: function _checkMouseWheel(dt) {
        var currentOutOfBoundary = this._getHowMuchOutOfBoundary();

        var maxElapsedTime = 0.1;

        if (!currentOutOfBoundary.equals(ZERO, EPSILON)) {
          this._processInertiaScroll();

          this.unschedule(this._checkMouseWheel);
          this._stopMouseWheel = false;
          return;
        }

        this._mouseWheelEventElapsedTime += dt; // mouse wheel event is ended

        if (this._mouseWheelEventElapsedTime > maxElapsedTime) {
          this._onScrollBarTouchEnded();

          this.unschedule(this._checkMouseWheel);
          this._stopMouseWheel = false;
        }
      }
    }, {
      key: "_calculateMovePercentDelta",
      value: function _calculateMovePercentDelta(options) {
        var anchor = options.anchor;
        var applyToHorizontal = options.applyToHorizontal;
        var applyToVertical = options.applyToVertical;

        this._calculateBoundary();

        anchor.clampf(new _index4.Vec2(0, 0), new _index4.Vec2(1, 1));
        var scrollSize = this.node._uiProps.uiTransformComp.contentSize;
        var contentSize = this._content._uiProps.uiTransformComp.contentSize;

        var bottomDelta = this._getContentBottomBoundary() - this._bottomBoundary;

        bottomDelta = -bottomDelta;

        var leftDelta = this._getContentLeftBoundary() - this._leftBoundary;

        leftDelta = -leftDelta;
        var moveDelta = new _index4.Vec3();
        var totalScrollDelta = 0;

        if (applyToHorizontal) {
          totalScrollDelta = contentSize.width - scrollSize.width;
          moveDelta.x = leftDelta - totalScrollDelta * anchor.x;
        }

        if (applyToVertical) {
          totalScrollDelta = contentSize.height - scrollSize.height;
          moveDelta.y = bottomDelta - totalScrollDelta * anchor.y;
        }

        return moveDelta;
      }
    }, {
      key: "_moveContentToTopLeft",
      value: function _moveContentToTopLeft(scrollViewSize) {
        var contentSize = this._content._uiProps.uiTransformComp.contentSize;

        var bottomDelta = this._getContentBottomBoundary() - this._bottomBoundary;

        bottomDelta = -bottomDelta;
        var moveDelta = new _index4.Vec3();
        var totalScrollDelta = 0;

        var leftDelta = this._getContentLeftBoundary() - this._leftBoundary;

        leftDelta = -leftDelta; // 是否限制在上视区上边

        if (contentSize.height < scrollViewSize.height) {
          totalScrollDelta = contentSize.height - scrollViewSize.height;
          moveDelta.y = bottomDelta - totalScrollDelta;

          if (this.verticalScrollBar) {
            this.verticalScrollBar.hide();
          }
        } else {
          if (this.verticalScrollBar) {
            this.verticalScrollBar.show();
          }
        } // 是否限制在上视区左边


        if (contentSize.width < scrollViewSize.width) {
          totalScrollDelta = contentSize.width - scrollViewSize.width;
          moveDelta.x = leftDelta;

          if (this._horizontalScrollBar) {
            this._horizontalScrollBar.hide();
          }
        } else {
          if (this._horizontalScrollBar) {
            this._horizontalScrollBar.show();
          }
        }

        this._moveContent(moveDelta);

        this._adjustContentOutOfBoundary();
      }
    }, {
      key: "_scaleChanged",
      value: function _scaleChanged(value) {
        if (value === _nodeEnum.TransformBit.SCALE) {
          this._calculateBoundary();
        }
      }
    }, {
      key: "content",

      /**
       * @en
       * This is a reference to the UI element to be scrolled.
       *
       * @zh
       * 可滚动展示内容的节点。
       */
      get: function get() {
        return this._content;
      },
      set: function set(value) {
        if (this._content === value) {
          return;
        }

        this._content = value;

        this._calculateBoundary();
      }
      /**
       * @en
       * Enable horizontal scroll.
       *
       * @zh
       * 是否开启水平滚动。
       */

    }, {
      key: "horizontalScrollBar",

      /**
       * @en
       * The horizontal scrollbar reference.
       * @zh
       * 水平滚动的 ScrollBar。
       */
      get: function get() {
        return this._horizontalScrollBar;
      },
      set: function set(value) {
        if (this._horizontalScrollBar === value) {
          return;
        }

        this._horizontalScrollBar = value;

        if (this._horizontalScrollBar) {
          this._horizontalScrollBar.setScrollView(this);

          this._updateScrollBar(ZERO);
        }
      }
      /**
       * @en
       * Enable vertical scroll.
       *
       * @zh
       * 是否开启垂直滚动。
       */

    }, {
      key: "verticalScrollBar",

      /**
       * @en
       * The vertical scrollbar reference.
       *
       * @zh
       * 垂直滚动的 ScrollBar。
       */
      get: function get() {
        return this._verticalScrollBar;
      },
      set: function set(value) {
        if (this._verticalScrollBar === value) {
          return;
        }

        this._verticalScrollBar = value;

        if (this._verticalScrollBar) {
          this._verticalScrollBar.setScrollView(this);

          this._updateScrollBar(ZERO);
        }
      }
      /**
       * @en
       * If cancelInnerEvents is set to true, the scroll behavior will cancel touch events on inner content nodes
       * It's set to true by default.
       *
       * @zh
       * 如果这个属性被设置为 true，那么滚动行为会取消子节点上注册的触摸事件，默认被设置为 true。<br/>
       * 注意，子节点上的 touchstart 事件仍然会触发，触点移动距离非常短的情况下 touchmove 和 touchend 也不会受影响。
       */

    }, {
      key: "view",
      get: function get() {
        if (!this._content) {
          return null;
        }

        return this._content.parent;
      }
    }]);

    return ScrollViewComponent;
  }(_viewGroupComponent.ViewGroupComponent), _class3.EventType = EventType, _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "bounceDuration", [_dec5], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 1;
    }
  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "brake", [_dec6], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0.5;
    }
  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "elastic", [_dec7], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "inertia", [_dec8], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _applyDecoratedDescriptor(_class2.prototype, "content", [_dec9], Object.getOwnPropertyDescriptor(_class2.prototype, "content"), _class2.prototype), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "horizontal", [_dec10], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _applyDecoratedDescriptor(_class2.prototype, "horizontalScrollBar", [_dec11], Object.getOwnPropertyDescriptor(_class2.prototype, "horizontalScrollBar"), _class2.prototype), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "vertical", [_dec12], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _applyDecoratedDescriptor(_class2.prototype, "verticalScrollBar", [_dec13], Object.getOwnPropertyDescriptor(_class2.prototype, "verticalScrollBar"), _class2.prototype), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "cancelInnerEvents", [_dec14], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "scrollEvents", [_dec15], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return [];
    }
  }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "_content", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "_horizontalScrollBar", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "_verticalScrollBar", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  })), _class2)) || _class) || _class) || _class) || _class);
  _exports.ScrollViewComponent = ScrollViewComponent;
  cc.ScrollViewComponent = ScrollViewComponent;
  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event scroll-to-top
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event scroll-to-bottom
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event scroll-to-left
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event scroll-to-right
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event scrolling
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event bounce-bottom
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event bounce-top
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event bounce-left
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event bounce-right
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event scroll-ended
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event touch-up
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */

  /**
   * @en
   * Note: This event is emitted from the node to which the component belongs.
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event scroll-began
   * @param {Event.EventCustom} event
   * @param {ScrollView} scrollView - The ScrollView component.
   */
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvdWkvY29tcG9uZW50cy9zY3JvbGwtdmlldy1jb21wb25lbnQudHMiXSwibmFtZXMiOlsiTlVNQkVSX09GX0dBVEhFUkVEX1RPVUNIRVNfRk9SX01PVkVfU1BFRUQiLCJPVVRfT0ZfQk9VTkRBUllfQlJFQUtJTkdfRkFDVE9SIiwiRVBTSUxPTiIsIlRPTEVSQU5DRSIsIk1PVkVNRU5UX0ZBQ1RPUiIsIlpFUk8iLCJWZWMzIiwiX3RlbXBWZWMzIiwiX3RlbXBWZWMzXzEiLCJfdGVtcFZlYzIiLCJWZWMyIiwiX3RlbXBWZWMyXzEiLCJxdWludEVhc2VPdXQiLCJ0aW1lIiwiZ2V0VGltZUluTWlsbGlzZWNvbmRzIiwiY3VycmVudFRpbWUiLCJEYXRlIiwiZ2V0TWlsbGlzZWNvbmRzIiwiZXZlbnRNYXAiLCJFdmVudFR5cGUiLCJTY3JvbGxWaWV3Q29tcG9uZW50IiwicmFuZ2UiLCJ0b29sdGlwIiwiZGlzcGxheU9yZGVyIiwidHlwZSIsIk5vZGUiLCJTY3JvbGxCYXJDb21wb25lbnQiLCJDb21wb25lbnRFdmVudEhhbmRsZXIiLCJfYXV0b1Njcm9sbGluZyIsIl9zY3JvbGxpbmciLCJfdG9wQm91bmRhcnkiLCJfYm90dG9tQm91bmRhcnkiLCJfbGVmdEJvdW5kYXJ5IiwiX3JpZ2h0Qm91bmRhcnkiLCJfdG91Y2hNb3ZlRGlzcGxhY2VtZW50cyIsIl90b3VjaE1vdmVUaW1lRGVsdGFzIiwiX3RvdWNoTW92ZVByZXZpb3VzVGltZXN0YW1wIiwiX3RvdWNoTW92ZWQiLCJfYXV0b1Njcm9sbEF0dGVudWF0ZSIsIl9hdXRvU2Nyb2xsU3RhcnRQb3NpdGlvbiIsIl9hdXRvU2Nyb2xsVGFyZ2V0RGVsdGEiLCJfYXV0b1Njcm9sbFRvdGFsVGltZSIsIl9hdXRvU2Nyb2xsQWNjdW11bGF0ZWRUaW1lIiwiX2F1dG9TY3JvbGxDdXJyZW50bHlPdXRPZkJvdW5kYXJ5IiwiX2F1dG9TY3JvbGxCcmFraW5nIiwiX2F1dG9TY3JvbGxCcmFraW5nU3RhcnRQb3NpdGlvbiIsIl9vdXRPZkJvdW5kYXJ5QW1vdW50IiwiX291dE9mQm91bmRhcnlBbW91bnREaXJ0eSIsIl9zdG9wTW91c2VXaGVlbCIsIl9tb3VzZVdoZWVsRXZlbnRFbGFwc2VkVGltZSIsIl9pc1Njcm9sbEVuZGVkV2l0aFRocmVzaG9sZEV2ZW50RmlyZWQiLCJfc2Nyb2xsRXZlbnRFbWl0TWFzayIsIl9pc0JvdW5jaW5nIiwiX2NvbnRlbnRQb3MiLCJfZGVsdGFQb3MiLCJ0aW1lSW5TZWNvbmQiLCJhdHRlbnVhdGVkIiwibW92ZURlbHRhIiwiX2NhbGN1bGF0ZU1vdmVQZXJjZW50RGVsdGEiLCJhbmNob3IiLCJhcHBseVRvSG9yaXpvbnRhbCIsImFwcGx5VG9WZXJ0aWNhbCIsIl9zdGFydEF1dG9TY3JvbGwiLCJfbW92ZUNvbnRlbnQiLCJvZmZzZXQiLCJtYXhTY3JvbGxPZmZzZXQiLCJnZXRNYXhTY3JvbGxPZmZzZXQiLCJ4IiwieSIsInNjcm9sbFRvIiwidG9wRGVsdGEiLCJfZ2V0Q29udGVudFRvcEJvdW5kYXJ5IiwibGVmdERlbHRhIiwiX2dldENvbnRlbnRMZWZ0Qm91bmRhcnkiLCJzY3JvbGxTaXplIiwibm9kZSIsIl91aVByb3BzIiwidWlUcmFuc2Zvcm1Db21wIiwiY29udGVudFNpemUiLCJfY29udGVudCIsImhvcml6b250YWxNYXhpbWl6ZU9mZnNldCIsIndpZHRoIiwidmVydGljYWxNYXhpbWl6ZU9mZnNldCIsImhlaWdodCIsInBlcmNlbnQiLCJwb3NpdGlvbiIsImNvbnRlbnRQb3MiLCJnZXRDb250ZW50UG9zaXRpb24iLCJNYXRoIiwiYWJzIiwic2V0UG9zaXRpb24iLCJzZXQiLCJfY2FsY3VsYXRlQm91bmRhcnkiLCJkaXJlY3RvciIsIm9uY2UiLCJEaXJlY3RvciIsIkVWRU5UX0JFRk9SRV9EUkFXIiwiX2FkanVzdENvbnRlbnRPdXRPZkJvdW5kYXJ5IiwiRURJVE9SIiwiX3JlZ2lzdGVyRXZlbnQiLCJjb250ZW50Iiwib24iLCJTSVpFX0NIQU5HRUQiLCJUUkFOU0ZPUk1fQ0hBTkdFRCIsIl9zY2FsZUNoYW5nZWQiLCJ2aWV3IiwiX3Nob3dTY3JvbGxCYXIiLCJkdCIsIl9wcm9jZXNzQXV0b1Njcm9sbGluZyIsIl91bnJlZ2lzdGVyRXZlbnQiLCJvZmYiLCJfaGlkZVNjcm9sbEJhciIsInN0b3BBdXRvU2Nyb2xsIiwiVE9VQ0hfU1RBUlQiLCJfb25Ub3VjaEJlZ2FuIiwiVE9VQ0hfTU9WRSIsIl9vblRvdWNoTW92ZWQiLCJUT1VDSF9FTkQiLCJfb25Ub3VjaEVuZGVkIiwiVE9VQ0hfQ0FOQ0VMIiwiX29uVG91Y2hDYW5jZWxsZWQiLCJNT1VTRV9XSEVFTCIsIl9vbk1vdXNlV2hlZWwiLCJldmVudCIsImNhcHR1cmVMaXN0ZW5lcnMiLCJlbmFibGVkSW5IaWVyYXJjaHkiLCJfaGFzTmVzdGVkVmlld0dyb3VwIiwiZGVsdGFNb3ZlIiwid2hlZWxQcmVjaXNpb24iLCJzY3JvbGxZIiwiZ2V0U2Nyb2xsWSIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsIl9wcm9jZXNzRGVsdGFNb3ZlIiwiX2hhbmRsZVByZXNzTG9naWMiLCJzY2hlZHVsZSIsIl9jaGVja01vdXNlV2hlZWwiLCJOYU4iLCJfc3RvcFByb3BhZ2F0aW9uSWZUYXJnZXRJc01lIiwidG91Y2giLCJfaGFuZGxlTW92ZUxvZ2ljIiwiY2FuY2VsSW5uZXJFdmVudHMiLCJnZXRVSUxvY2F0aW9uIiwic3VidHJhY3QiLCJnZXRVSVN0YXJ0TG9jYXRpb24iLCJsZW5ndGgiLCJ0YXJnZXQiLCJjYW5jZWxFdmVudCIsIkV2ZW50VG91Y2giLCJnZXRUb3VjaGVzIiwiYnViYmxlcyIsInNpbXVsYXRlIiwiZGlzcGF0Y2hFdmVudCIsIl9kaXNwYXRjaEV2ZW50IiwiVE9VQ0hfVVAiLCJfaGFuZGxlUmVsZWFzZUxvZ2ljIiwicHJvcGFnYXRpb25TdG9wcGVkIiwibGF5b3V0IiwiZ2V0Q29tcG9uZW50IiwiTGF5b3V0Q29tcG9uZW50IiwidXBkYXRlTGF5b3V0Iiwidmlld1NpemUiLCJhbmNob3JYIiwiYW5jaG9yWSIsIl9tb3ZlQ29udGVudFRvVG9wTGVmdCIsImV2ZW50UGhhc2UiLCJFdmVudCIsIkNBUFRVUklOR19QSEFTRSIsImxpc3RlbmVyIiwiaXRlbSIsIlZpZXdHcm91cENvbXBvbmVudCIsInRvdWNoTW92ZVZlbG9jaXR5IiwiaW5lcnRpYVRvdGFsTW92ZW1lbnQiLCJtdWx0aXBseVNjYWxhciIsIl9zdGFydEF0dGVudWF0aW5nQXV0b1Njcm9sbCIsImRpc3RhbmNlIiwiYnJha2UiLCJpbml0aWFsVmVsb2NpdHkiLCJfY2FsY3VsYXRlQXV0b1Njcm9sbFRpbWVCeUluaXRpYWxTcGVlZCIsInRhcmdldERlbHRhIiwibm9ybWFsaXplIiwic2Nyb2xsVmlld1NpemUiLCJ0b3RhbE1vdmVXaWR0aCIsInRvdGFsTW92ZUhlaWdodCIsImF0dGVudWF0ZWRGYWN0b3JYIiwiX2NhbGN1bGF0ZUF0dGVudWF0ZWRGYWN0b3IiLCJhdHRlbnVhdGVkRmFjdG9yWSIsInoiLCJvcmlnaW5hbE1vdmVMZW5ndGgiLCJmYWN0b3IiLCJhZGQiLCJzcXJ0IiwiYSIsImluaXRpYWxTcGVlZCIsImFkanVzdGVkRGVsdGFNb3ZlIiwiX2ZsYXR0ZW5WZWN0b3JCeURpcmVjdGlvbiIsImNvcHkiLCJjdXJyZW50T3V0T2ZCb3VuZGFyeSIsIl9nZXRIb3dNdWNoT3V0T2ZCb3VuZGFyeSIsImVxdWFscyIsInRvdGFsVGltZSIsInJlZHVjZSIsImIiLCJ0b3RhbE1vdmVtZW50IiwidmVjdG9yIiwicmVzdWx0IiwiY2FuU3RhcnRCb3VuY2VCYWNrIiwiYWRqdXN0ZWRNb3ZlIiwiZmxvb3IiLCJzZXRDb250ZW50UG9zaXRpb24iLCJvdXRPZkJvdW5kYXJ5IiwiX3VwZGF0ZVNjcm9sbEJhciIsImVsYXN0aWMiLCJfc3RhcnRCb3VuY2VCYWNrSWZOZWVkZWQiLCJfZ2V0Q29udGVudEJvdHRvbUJvdW5kYXJ5IiwiYWRkaXRpb24iLCJvdXRPZkJvdW5kYXJ5QW1vdW50IiwiX2dldENvbnRlbnRSaWdodEJvdW5kYXJ5IiwiX2NsYW1wRGVsdGEiLCJfaG9yaXpvbnRhbFNjcm9sbEJhciIsIm9uU2Nyb2xsIiwidmVydGljYWxTY3JvbGxCYXIiLCJvblRvdWNoQmVnYW4iLCJvblRvdWNoRW5kZWQiLCJTQ1JPTExfRU5ERUQiLCJTQ1JPTExfVE9fVE9QIiwiU0NST0xMX1RPX0JPVFRPTSIsIlNDUk9MTF9UT19MRUZUIiwiU0NST0xMX1RPX1JJR0hUIiwiZmxhZyIsImVtaXRFdmVudHMiLCJzY3JvbGxFdmVudHMiLCJlbWl0IiwiX2lzT3V0T2ZCb3VuZGFyeSIsImhpZGUiLCJfdmVydGljYWxTY3JvbGxCYXIiLCJzaG93IiwiQVRfVEFSR0VUIiwiX3Njcm9sbENoaWxkcmVuIiwiX2dhdGhlclRvdWNoTW92ZSIsIl9nZXRMb2NhbEF4aXNBbGlnbkRlbHRhIiwiX3Byb2Nlc3NJbmVydGlhU2Nyb2xsIiwidmVjIiwiZ2V0VUlQcmV2aW91c0xvY2F0aW9uIiwiY29udmVydFRvTm9kZVNwYWNlQVIiLCJyZWFsTW92ZSIsInNjcm9sbEV2ZW50VHlwZSIsInBvcyIsImljQm90dG9tUG9zIiwiaWNUb3BQb3MiLCJpY1JpZ2h0UG9zIiwiaWNMZWZ0UG9zIiwiU0NST0xMX0JFR0FOIiwiU0NST0xMSU5HIiwiX29uU2Nyb2xsQmFyVG91Y2hCZWdhbiIsImRlbHRhIiwiY2xhbXBEdCIsImNsb25lIiwic2hpZnQiLCJwdXNoIiwidGltZVN0YW1wIiwiYm91bmNlQmFja0Ftb3VudCIsImJvdW5jZUJhY2tUaW1lIiwibWF4IiwiYm91bmNlRHVyYXRpb24iLCJCT1VOQ0VfVE9QIiwiQk9VTkNFX0JPVFRPTSIsIkJPVU5DRV9SSUdIVCIsIkJPVU5DRV9MRUZUIiwiYm91bmNlQmFja1N0YXJ0ZWQiLCJpbmVydGlhIiwiX2NhbGN1bGF0ZVRvdWNoTW92ZVZlbG9jaXR5IiwiX3N0YXJ0SW5lcnRpYVNjcm9sbCIsIl9vblNjcm9sbEJhclRvdWNoRW5kZWQiLCJpc0F1dG9TY3JvbGxCcmFrZSIsIl9pc05lY2Vzc2FyeUF1dG9TY3JvbGxCcmFrZSIsImJyYWtpbmdGYWN0b3IiLCJwZXJjZW50YWdlIiwibWluIiwibmV3UG9zaXRpb24iLCJyZWFjaGVkRW5kIiwiZmlyZUV2ZW50IiwiZ2V0U2Nyb2xsRW5kZWRFdmVudFRpbWluZyIsIlNDUk9MTF9FTkdfV0lUSF9USFJFU0hPTEQiLCJicmFrZU9mZnNldFBvc2l0aW9uIiwibWF4RWxhcHNlZFRpbWUiLCJ1bnNjaGVkdWxlIiwib3B0aW9ucyIsImNsYW1wZiIsImJvdHRvbURlbHRhIiwidG90YWxTY3JvbGxEZWx0YSIsInZhbHVlIiwiVHJhbnNmb3JtQml0IiwiU0NBTEUiLCJzZXRTY3JvbGxWaWV3IiwicGFyZW50IiwicHJvcGVydHkiLCJjYyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJDQSxNQUFNQSx5Q0FBeUMsR0FBRyxDQUFsRDtBQUNBLE1BQU1DLCtCQUErQixHQUFHLElBQXhDO0FBQ0EsTUFBTUMsT0FBTyxHQUFHLElBQWhCO0FBQ0EsTUFBTUMsU0FBUyxHQUFHLEdBQWxCO0FBQ0EsTUFBTUMsZUFBZSxHQUFHLEdBQXhCO0FBQ0EsTUFBTUMsSUFBSSxHQUFHLElBQUlDLFlBQUosRUFBYjs7QUFDQSxNQUFNQyxTQUFTLEdBQUcsSUFBSUQsWUFBSixFQUFsQjs7QUFDQSxNQUFNRSxXQUFXLEdBQUcsSUFBSUYsWUFBSixFQUFwQjs7QUFDQSxNQUFNRyxTQUFTLEdBQUcsSUFBSUMsWUFBSixFQUFsQjs7QUFDQSxNQUFNQyxXQUFXLEdBQUcsSUFBSUQsWUFBSixFQUFwQjs7QUFFQSxNQUFNRSxZQUFZLEdBQUcsU0FBZkEsWUFBZSxDQUFDQyxJQUFELEVBQWtCO0FBQ25DQSxJQUFBQSxJQUFJLElBQUksQ0FBUjtBQUNBLFdBQVFBLElBQUksR0FBR0EsSUFBUCxHQUFjQSxJQUFkLEdBQXFCQSxJQUFyQixHQUE0QkEsSUFBNUIsR0FBbUMsQ0FBM0M7QUFDSCxHQUhEOztBQUtBLE1BQU1D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LEk7OzRGQUNqQ0Esd0I7Ozs7O2FBQzJELEk7OzBGQUMzREEsd0I7Ozs7O2FBQ3lELEk7Ozs7QUFzMEM5REMsRUFBQUEsRUFBRSxDQUFDclIsbUJBQUgsR0FBeUJBLG1CQUF6QjtBQUVBOzs7Ozs7Ozs7O0FBVUE7Ozs7Ozs7Ozs7QUFVQTs7Ozs7Ozs7OztBQVVBOzs7Ozs7Ozs7O0FBVUE7Ozs7Ozs7Ozs7QUFVQTs7Ozs7Ozs7OztBQVVBOzs7Ozs7Ozs7O0FBVUE7Ozs7Ozs7Ozs7QUFVQTs7Ozs7Ozs7OztBQVVBOzs7Ozs7Ozs7O0FBVUE7Ozs7Ozs7Ozs7QUFVQSIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBDb3B5cmlnaHQgKGMpIDIwMTMtMjAxNiBDaHVrb25nIFRlY2hub2xvZ2llcyBJbmMuXHJcbiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cclxuXHJcbiBodHRwOi8vd3d3LmNvY29zLmNvbVxyXG5cclxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcclxuIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZW5naW5lIHNvdXJjZSBjb2RlICh0aGUgXCJTb2Z0d2FyZVwiKSwgYSBsaW1pdGVkLFxyXG4gIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcclxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXHJcbiAgbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xyXG4gIHVzZWQgZm9yIGRldmVsb3BpbmcgZ2FtZXMuIFlvdSBhcmUgbm90IGdyYW50ZWQgdG8gcHVibGlzaCwgZGlzdHJpYnV0ZSxcclxuICBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cclxuXHJcbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxyXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuKi9cclxuXHJcbi8qKlxyXG4gKiBAY2F0ZWdvcnkgdWlcclxuICovXHJcblxyXG5pbXBvcnQgeyBFdmVudEhhbmRsZXIgYXMgQ29tcG9uZW50RXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnRzJztcclxuaW1wb3J0IHsgY2NjbGFzcywgaGVscCwgZXhlY3V0aW9uT3JkZXIsIG1lbnUsIHByb3BlcnR5IH0gZnJvbSAnLi4vLi4vY29yZS9kYXRhL2NsYXNzLWRlY29yYXRvcic7XHJcbmltcG9ydCB7IEV2ZW50IH0gZnJvbSAnLi4vLi4vY29yZS9ldmVudCc7XHJcbmltcG9ydCB7IEV2ZW50TW91c2UsIEV2ZW50VG91Y2gsIFRvdWNoIH0gZnJvbSAnLi4vLi4vY29yZS9wbGF0Zm9ybSc7XHJcbmltcG9ydCB7IFNpemUsIFZlYzIsIFZlYzMgfSBmcm9tICcuLi8uLi9jb3JlL21hdGgnO1xyXG5pbXBvcnQgeyBMYXlvdXRDb21wb25lbnQgfSBmcm9tICcuL2xheW91dC1jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBTY3JvbGxCYXJDb21wb25lbnQgfSBmcm9tICcuL3Njcm9sbC1iYXItY29tcG9uZW50JztcclxuaW1wb3J0IHsgVmlld0dyb3VwQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3LWdyb3VwLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IE5vZGUgfSBmcm9tICcuLi8uLi9jb3JlL3NjZW5lLWdyYXBoL25vZGUnO1xyXG5pbXBvcnQgeyBkaXJlY3RvciwgRGlyZWN0b3IgfSBmcm9tICcuLi8uLi9jb3JlL2RpcmVjdG9yJztcclxuaW1wb3J0IHsgVHJhbnNmb3JtQml0IH0gZnJvbSAnLi4vLi4vY29yZS9zY2VuZS1ncmFwaC9ub2RlLWVudW0nO1xyXG5pbXBvcnQgeyBFRElUT1IgfSBmcm9tICdpbnRlcm5hbDpjb25zdGFudHMnO1xyXG5cclxuY29uc3QgTlVNQkVSX09GX0dBVEhFUkVEX1RPVUNIRVNfRk9SX01PVkVfU1BFRUQgPSA1O1xyXG5jb25zdCBPVVRfT0ZfQk9VTkRBUllfQlJFQUtJTkdfRkFDVE9SID0gMC4wNTtcclxuY29uc3QgRVBTSUxPTiA9IDFlLTQ7XHJcbmNvbnN0IFRPTEVSQU5DRSA9IDFlNDtcclxuY29uc3QgTU9WRU1FTlRfRkFDVE9SID0gMC43O1xyXG5jb25zdCBaRVJPID0gbmV3IFZlYzMoKTtcclxuY29uc3QgX3RlbXBWZWMzID0gbmV3IFZlYzMoKTtcclxuY29uc3QgX3RlbXBWZWMzXzEgPSBuZXcgVmVjMygpO1xyXG5jb25zdCBfdGVtcFZlYzIgPSBuZXcgVmVjMigpO1xyXG5jb25zdCBfdGVtcFZlYzJfMSA9IG5ldyBWZWMyKCk7XHJcblxyXG5jb25zdCBxdWludEVhc2VPdXQgPSAodGltZTogbnVtYmVyKSA9PiB7XHJcbiAgICB0aW1lIC09IDE7XHJcbiAgICByZXR1cm4gKHRpbWUgKiB0aW1lICogdGltZSAqIHRpbWUgKiB0aW1lICsgMSk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRUaW1lSW5NaWxsaXNlY29uZHMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7XHJcbiAgICByZXR1cm4gY3VycmVudFRpbWUuZ2V0TWlsbGlzZWNvbmRzKCk7XHJcbn07XHJcblxyXG5jb25zdCBldmVudE1hcCA9IHtcclxuICAgICdzY3JvbGwtdG8tdG9wJzogMCxcclxuICAgICdzY3JvbGwtdG8tYm90dG9tJzogMSxcclxuICAgICdzY3JvbGwtdG8tbGVmdCc6IDIsXHJcbiAgICAnc2Nyb2xsLXRvLXJpZ2h0JzogMyxcclxuICAgICdzY3JvbGxpbmcnOiA0LFxyXG4gICAgJ2JvdW5jZS1ib3R0b20nOiA2LFxyXG4gICAgJ2JvdW5jZS1sZWZ0JzogNyxcclxuICAgICdib3VuY2UtcmlnaHQnOiA4LFxyXG4gICAgJ2JvdW5jZS10b3AnOiA1LFxyXG4gICAgJ3Njcm9sbC1lbmRlZCc6IDksXHJcbiAgICAndG91Y2gtdXAnOiAxMCxcclxuICAgICdzY3JvbGwtZW5kZWQtd2l0aC10aHJlc2hvbGQnOiAxMSxcclxuICAgICdzY3JvbGwtYmVnYW4nOiAxMixcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAZW5cclxuICogRW51bSBmb3IgU2Nyb2xsVmlldyBldmVudCB0eXBlLlxyXG4gKlxyXG4gKiBAemhcclxuICog5rua5Yqo6KeG5Zu+5LqL5Lu257G75Z6LXHJcbiAqL1xyXG5leHBvcnQgZW51bSBFdmVudFR5cGUge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBldmVudCBlbWl0dGVkIHdoZW4gU2Nyb2xsVmlldyBzY3JvbGwgdG8gdGhlIHRvcCBib3VuZGFyeSBvZiBpbm5lciBjb250YWluZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmu5rliqjop4blm77mu5rliqjliLDpobbpg6jovrnnlYzkuovku7bjgIJcclxuICAgICAqL1xyXG4gICAgU0NST0xMX1RPX1RPUCA9ICdzY3JvbGwtdG8tdG9wJyxcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlZCB3aGVuIFNjcm9sbFZpZXcgc2Nyb2xsIHRvIHRoZSBib3R0b20gYm91bmRhcnkgb2YgaW5uZXIgY29udGFpbmVyLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5rua5Yqo6KeG5Zu+5rua5Yqo5Yiw5bqV6YOo6L6555WM5LqL5Lu244CCXHJcbiAgICAgKi9cclxuICAgIFNDUk9MTF9UT19CT1RUT00gPSAnc2Nyb2xsLXRvLWJvdHRvbScsXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogVGhlIGV2ZW50IGVtaXR0ZWQgd2hlbiBTY3JvbGxWaWV3IHNjcm9sbCB0byB0aGUgbGVmdCBib3VuZGFyeSBvZiBpbm5lciBjb250YWluZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmu5rliqjop4blm77mu5rliqjliLDlt6bovrnnlYzkuovku7bjgIJcclxuICAgICAqL1xyXG4gICAgU0NST0xMX1RPX0xFRlQgPSAnc2Nyb2xsLXRvLWxlZnQnLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBldmVudCBlbWl0dGVkIHdoZW4gU2Nyb2xsVmlldyBzY3JvbGwgdG8gdGhlIHJpZ2h0IGJvdW5kYXJ5IG9mIGlubmVyIGNvbnRhaW5lci5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOa7muWKqOinhuWbvua7muWKqOWIsOWPs+i+ueeVjOS6i+S7tuOAglxyXG4gICAgICovXHJcbiAgICBTQ1JPTExfVE9fUklHSFQgPSAnc2Nyb2xsLXRvLXJpZ2h0JyxcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlZCB3aGVuIFNjcm9sbFZpZXcgc2Nyb2xsIGJlZ2FuLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5rua5Yqo6KeG5Zu+5rua5Yqo5byA5aeL5pe25Y+R5Ye655qE5LqL5Lu244CCXHJcbiAgICAgKi9cclxuICAgIFNDUk9MTF9CRUdBTiA9ICdzY3JvbGwtYmVnYW4nLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBldmVudCBlbWl0dGVkIHdoZW4gU2Nyb2xsVmlldyBhdXRvIHNjcm9sbCBlbmRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOa7muWKqOinhuWbvua7muWKqOe7k+adn+eahOaXtuWAmeWPkeWHuueahOS6i+S7tuOAglxyXG4gICAgICovXHJcbiAgICBTQ1JPTExfRU5ERUQgPSAnc2Nyb2xsLWVuZGVkJyxcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlZCB3aGVuIFNjcm9sbFZpZXcgc2Nyb2xsIHRvIHRoZSB0b3AgYm91bmRhcnkgb2YgaW5uZXIgY29udGFpbmVyIGFuZCBzdGFydCBib3VuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmu5rliqjop4blm77mu5rliqjliLDpobbpg6jovrnnlYzlubbkuJTlvIDlp4vlm57lvLnml7blj5Hlh7rnmoTkuovku7bjgIJcclxuICAgICAqL1xyXG4gICAgQk9VTkNFX1RPUCA9ICdib3VuY2UtdG9wJyxcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlZCB3aGVuIFNjcm9sbFZpZXcgc2Nyb2xsIHRvIHRoZSBib3R0b20gYm91bmRhcnkgb2YgaW5uZXIgY29udGFpbmVyIGFuZCBzdGFydCBib3VuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmu5rliqjop4blm77mu5rliqjliLDlupXpg6jovrnnlYzlubbkuJTlvIDlp4vlm57lvLnml7blj5Hlh7rnmoTkuovku7bjgIJcclxuICAgICAqL1xyXG4gICAgQk9VTkNFX0JPVFRPTSA9ICdib3VuY2UtYm90dG9tJyxcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlZCB3aGVuIFNjcm9sbFZpZXcgc2Nyb2xsIHRvIHRoZSBsZWZ0IGJvdW5kYXJ5IG9mIGlubmVyIGNvbnRhaW5lciBhbmQgc3RhcnQgYm91bmNlLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5rua5Yqo6KeG5Zu+5rua5Yqo5Yiw5bem6L6555WM5bm25LiU5byA5aeL5Zue5by55pe25Y+R5Ye655qE5LqL5Lu244CCXHJcbiAgICAgKi9cclxuICAgIEJPVU5DRV9MRUZUID0gJ2JvdW5jZS1sZWZ0JyxcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlZCB3aGVuIFNjcm9sbFZpZXcgc2Nyb2xsIHRvIHRoZSByaWdodCBib3VuZGFyeSBvZiBpbm5lciBjb250YWluZXIgYW5kIHN0YXJ0IGJvdW5jZS5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOa7muWKqOinhuWbvua7muWKqOWIsOWPs+i+ueeVjOW5tuS4lOW8gOWni+WbnuW8ueaXtuWPkeWHuueahOS6i+S7tuOAglxyXG4gICAgICovXHJcbiAgICBCT1VOQ0VfUklHSFQgPSAnYm91bmNlLXJpZ2h0JyxcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlZCB3aGVuIFNjcm9sbFZpZXcgaXMgc2Nyb2xsaW5nLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5rua5Yqo6KeG5Zu+5q2j5Zyo5rua5Yqo5pe25Y+R5Ye655qE5LqL5Lu244CCXHJcbiAgICAgKi9cclxuICAgIFNDUk9MTElORyA9ICdzY3JvbGxpbmcnLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBldmVudCBlbWl0dGVkIHdoZW4gU2Nyb2xsVmlldyBhdXRvIHNjcm9sbCBlbmRlZCB3aXRoIGEgdGhyZXNob2xkLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5rua5Yqo6KeG5Zu+6Ieq5Yqo5rua5Yqo5b+r6KaB57uT5p2f55qE5pe25YCZ5Y+R5Ye655qE5LqL5Lu244CCXHJcbiAgICAgKi9cclxuICAgIFNDUk9MTF9FTkdfV0lUSF9USFJFU0hPTEQgPSAnc2Nyb2xsLWVuZGVkLXdpdGgtdGhyZXNob2xkJyxcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGUgZXZlbnQgZW1pdHRlZCB3aGVuIHVzZXIgcmVsZWFzZSB0aGUgdG91Y2guXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlvZPnlKjmiLfmnb7miYvnmoTml7blgJnkvJrlj5Hlh7rkuIDkuKrkuovku7bjgIJcclxuICAgICAqL1xyXG4gICAgVE9VQ0hfVVAgPSAndG91Y2gtdXAnLFxyXG59XHJcblxyXG4vKipcclxuICogQGVuXHJcbiAqIExheW91dCBjb250YWluZXIgZm9yIGEgdmlldyBoaWVyYXJjaHkgdGhhdCBjYW4gYmUgc2Nyb2xsZWQgYnkgdGhlIHVzZXIsXHJcbiAqIGFsbG93aW5nIGl0IHRvIGJlIGxhcmdlciB0aGFuIHRoZSBwaHlzaWNhbCBkaXNwbGF5LlxyXG4gKlxyXG4gKiBAemhcclxuICog5rua5Yqo6KeG5Zu+57uE5Lu244CCXHJcbiAqL1xyXG5cclxuQGNjY2xhc3MoJ2NjLlNjcm9sbFZpZXdDb21wb25lbnQnKVxyXG5AaGVscCgnaTE4bjpjYy5TY3JvbGxWaWV3Q29tcG9uZW50JylcclxuQGV4ZWN1dGlvbk9yZGVyKDExMClcclxuQG1lbnUoJ1VJL1Njcm9sbFZpZXcnKVxyXG5leHBvcnQgY2xhc3MgU2Nyb2xsVmlld0NvbXBvbmVudCBleHRlbmRzIFZpZXdHcm91cENvbXBvbmVudCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIEV2ZW50VHlwZSA9IEV2ZW50VHlwZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogVGhlIGVsYXBzZSB0aW1lIG9mIGJvdW5jaW5nIGJhY2suIEEgdmFsdWUgb2YgMCB3aWxsIGJvdW5jZSBiYWNrIGltbWVkaWF0ZWx5LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5Zue5by55oyB57ut55qE5pe26Ze077yMMCDooajnpLrlsIbnq4vljbPlj43lvLnjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICByYW5nZTogWzAsIDEwXSxcclxuICAgICAgICB0b29sdGlwOiAn5Zue5by55oyB57ut55qE5pe26Ze077yMMCDooajnpLrlsIbnq4vljbPlj43lvLknLFxyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogMCxcclxuICAgIH0pXHJcbiAgICBwdWJsaWMgYm91bmNlRHVyYXRpb24gPSAxO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBJdCBkZXRlcm1pbmVzIGhvdyBxdWlja2x5IHRoZSBjb250ZW50IHN0b3AgbW92aW5nLiBBIHZhbHVlIG9mIDEgd2lsbCBzdG9wIHRoZSBtb3ZlbWVudCBpbW1lZGlhdGVseS5cclxuICAgICAqIEEgdmFsdWUgb2YgMCB3aWxsIG5ldmVyIHN0b3AgdGhlIG1vdmVtZW50IHVudGlsIGl0IHJlYWNoZXMgdG8gdGhlIGJvdW5kYXJ5IG9mIHNjcm9sbHZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlvIDlkK/mg6/mgKflkI7vvIzlnKjnlKjmiLflgZzmraLop6bmkbjlkI7mu5rliqjlpJrlv6vlgZzmraLvvIww6KGo56S65rC45LiN5YGc5q2i77yMMeihqOekuueri+WIu+WBnOatouOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHJhbmdlOiBbMCwgMSwgMC4xXSxcclxuICAgICAgICB0b29sdGlwOiAn5byA5ZCv5oOv5oCn5ZCO77yM5Zyo55So5oi35YGc5q2i6Kem5pG45ZCO5rua5Yqo5aSa5b+r5YGc5q2i77yMMCDooajnpLrmsLjkuI3lgZzmraLvvIwxIOihqOekuueri+WIu+WBnOatoicsXHJcbiAgICAgICAgZGlzcGxheU9yZGVyOiAxLFxyXG4gICAgfSlcclxuICAgIHB1YmxpYyBicmFrZSA9IDAuNTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogV2hlbiBlbGFzdGljIGlzIHNldCwgdGhlIGNvbnRlbnQgd2lsbCBiZSBib3VuY2UgYmFjayB3aGVuIG1vdmUgb3V0IG9mIGJvdW5kYXJ5LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5piv5ZCm5YWB6K645rua5Yqo5YaF5a656LaF6L+H6L6555WM77yM5bm25Zyo5YGc5q2i6Kem5pG45ZCO5Zue5by544CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDogJ+aYr+WQpuWFgeiuuOa7muWKqOWGheWuuei2hei/h+i+ueeVjO+8jOW5tuWcqOWBnOatouinpuaRuOWQjuWbnuW8uScsXHJcbiAgICAgICAgZGlzcGxheU9yZGVyOiAyLFxyXG4gICAgfSlcclxuICAgIHB1YmxpYyBlbGFzdGljID0gdHJ1ZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogV2hlbiBpbmVydGlhIGlzIHNldCwgdGhlIGNvbnRlbnQgd2lsbCBjb250aW51ZSB0byBtb3ZlIHdoZW4gdG91Y2ggZW5kZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmmK/lkKblvIDlkK/mu5rliqjmg6/mgKfjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0b29sdGlwOiAn5piv5ZCm5byA5ZCv5rua5Yqo5oOv5oCnJyxcclxuICAgICAgICBkaXNwbGF5T3JkZXI6IDMsXHJcbiAgICB9KVxyXG4gICAgcHVibGljIGluZXJ0aWEgPSB0cnVlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUaGlzIGlzIGEgcmVmZXJlbmNlIHRvIHRoZSBVSSBlbGVtZW50IHRvIGJlIHNjcm9sbGVkLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5Y+v5rua5Yqo5bGV56S65YaF5a6555qE6IqC54K544CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdHlwZTogTm9kZSxcclxuICAgICAgICB0b29sdGlwOiAn5Y+v5rua5Yqo5bGV56S65YaF5a6555qE6IqC54K5JyxcclxuICAgICAgICBkaXNwbGF5T3JkZXI6IDQsXHJcbiAgICB9KVxyXG4gICAgZ2V0IGNvbnRlbnQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xyXG4gICAgfVxyXG4gICAgc2V0IGNvbnRlbnQgKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQgPT09IHZhbHVlKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY29udGVudCA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kYXJ5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEVuYWJsZSBob3Jpem9udGFsIHNjcm9sbC5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOaYr+WQpuW8gOWQr+awtOW5s+a7muWKqOOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6ICfmmK/lkKblvIDlkK/msLTlubPmu5rliqgnLFxyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogNSxcclxuICAgIH0pXHJcbiAgICBwdWJsaWMgaG9yaXpvbnRhbCA9IHRydWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBob3Jpem9udGFsIHNjcm9sbGJhciByZWZlcmVuY2UuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOawtOW5s+a7muWKqOeahCBTY3JvbGxCYXLjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0eXBlOiBTY3JvbGxCYXJDb21wb25lbnQsXHJcbiAgICAgICAgdG9vbHRpcDogJ+awtOW5s+a7muWKqOeahCBTY3JvbGxCYXInLFxyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogNixcclxuICAgIH0pXHJcbiAgICBnZXQgaG9yaXpvbnRhbFNjcm9sbEJhciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGhvcml6b250YWxTY3JvbGxCYXIgKHZhbHVlOiBTY3JvbGxCYXJDb21wb25lbnQgfCBudWxsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXIgPT09IHZhbHVlKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faG9yaXpvbnRhbFNjcm9sbEJhciA9IHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5faG9yaXpvbnRhbFNjcm9sbEJhcikge1xyXG4gICAgICAgICAgICB0aGlzLl9ob3Jpem9udGFsU2Nyb2xsQmFyLnNldFNjcm9sbFZpZXcodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbEJhcihaRVJPKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEVuYWJsZSB2ZXJ0aWNhbCBzY3JvbGwuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmmK/lkKblvIDlkK/lnoLnm7Tmu5rliqjjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0b29sdGlwOiAn5piv5ZCm5byA5ZCv5Z6C55u05rua5YqoJyxcclxuICAgICAgICBkaXNwbGF5T3JkZXI6IDcsXHJcbiAgICB9KVxyXG4gICAgcHVibGljIHZlcnRpY2FsID0gdHJ1ZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogVGhlIHZlcnRpY2FsIHNjcm9sbGJhciByZWZlcmVuY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlnoLnm7Tmu5rliqjnmoQgU2Nyb2xsQmFy44CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdHlwZTogU2Nyb2xsQmFyQ29tcG9uZW50LFxyXG4gICAgICAgIHRvb2x0aXA6ICflnoLnm7Tmu5rliqjnmoQgU2Nyb2xsQmFyJyxcclxuICAgICAgICBkaXNwbGF5T3JkZXI6IDgsXHJcbiAgICB9KVxyXG4gICAgZ2V0IHZlcnRpY2FsU2Nyb2xsQmFyICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmVydGljYWxTY3JvbGxCYXI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHZlcnRpY2FsU2Nyb2xsQmFyICh2YWx1ZTogU2Nyb2xsQmFyQ29tcG9uZW50IHwgbnVsbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl92ZXJ0aWNhbFNjcm9sbEJhciA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmVydGljYWxTY3JvbGxCYXIgPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRpY2FsU2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2FsU2Nyb2xsQmFyLnNldFNjcm9sbFZpZXcodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbEJhcihaRVJPKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIElmIGNhbmNlbElubmVyRXZlbnRzIGlzIHNldCB0byB0cnVlLCB0aGUgc2Nyb2xsIGJlaGF2aW9yIHdpbGwgY2FuY2VsIHRvdWNoIGV2ZW50cyBvbiBpbm5lciBjb250ZW50IG5vZGVzXHJcbiAgICAgKiBJdCdzIHNldCB0byB0cnVlIGJ5IGRlZmF1bHQuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlpoLmnpzov5nkuKrlsZ7mgKfooqvorr7nva7kuLogdHJ1Ze+8jOmCo+S5iOa7muWKqOihjOS4uuS8muWPlua2iOWtkOiKgueCueS4iuazqOWGjOeahOinpuaRuOS6i+S7tu+8jOm7mOiupOiiq+iuvue9ruS4uiB0cnVl44CCPGJyLz5cclxuICAgICAqIOazqOaEj++8jOWtkOiKgueCueS4iueahCB0b3VjaHN0YXJ0IOS6i+S7tuS7jeeEtuS8muinpuWPke+8jOinpueCueenu+WKqOi3neemu+mdnuW4uOefreeahOaDheWGteS4iyB0b3VjaG1vdmUg5ZKMIHRvdWNoZW5kIOS5n+S4jeS8muWPl+W9seWTjeOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6ICfmu5rliqjooYzkuLrmmK/lkKbkvJrlj5bmtojlrZDoioLngrnkuIrms6jlhoznmoTop6bmkbjkuovku7YnLFxyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogOSxcclxuICAgIH0pXHJcbiAgICBwdWJsaWMgY2FuY2VsSW5uZXJFdmVudHMgPSB0cnVlO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBTY3JvbGx2aWV3IGV2ZW50cyBjYWxsYmFjay5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOa7muWKqOinhuWbvueahOS6i+S7tuWbnuiwg+WHveaVsOOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IFtDb21wb25lbnRFdmVudEhhbmRsZXJdLFxyXG4gICAgICAgIHRvb2x0aXA6ICfmu5rliqjop4blm77nmoTkuovku7blm57osIPlh73mlbAnLFxyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogMTAsXHJcbiAgICB9KVxyXG4gICAgcHVibGljIHNjcm9sbEV2ZW50czogQ29tcG9uZW50RXZlbnRIYW5kbGVyW10gPSBbXTtcclxuXHJcbiAgICBnZXQgdmlldyAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb250ZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQucGFyZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfYXV0b1Njcm9sbGluZyA9IGZhbHNlO1xyXG4gICAgcHJvdGVjdGVkIF9zY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJvdGVjdGVkIF9jb250ZW50OiBOb2RlIHwgbnVsbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByb3RlY3RlZCBfaG9yaXpvbnRhbFNjcm9sbEJhcjogU2Nyb2xsQmFyQ29tcG9uZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByb3RlY3RlZCBfdmVydGljYWxTY3JvbGxCYXI6IFNjcm9sbEJhckNvbXBvbmVudCB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHByb3RlY3RlZCBfdG9wQm91bmRhcnkgPSAwO1xyXG4gICAgcHJvdGVjdGVkIF9ib3R0b21Cb3VuZGFyeSA9IDA7XHJcbiAgICBwcm90ZWN0ZWQgX2xlZnRCb3VuZGFyeSA9IDA7XHJcbiAgICBwcm90ZWN0ZWQgX3JpZ2h0Qm91bmRhcnkgPSAwO1xyXG5cclxuICAgIHByb3RlY3RlZCBfdG91Y2hNb3ZlRGlzcGxhY2VtZW50czogVmVjM1tdID0gW107XHJcbiAgICBwcm90ZWN0ZWQgX3RvdWNoTW92ZVRpbWVEZWx0YXM6IG51bWJlcltdID0gW107XHJcbiAgICBwcm90ZWN0ZWQgX3RvdWNoTW92ZVByZXZpb3VzVGltZXN0YW1wID0gMDtcclxuICAgIHByb3RlY3RlZCBfdG91Y2hNb3ZlZCA9IGZhbHNlO1xyXG4gICAgcHJvdGVjdGVkIF9hdXRvU2Nyb2xsQXR0ZW51YXRlID0gZmFsc2U7XHJcbiAgICBwcm90ZWN0ZWQgX2F1dG9TY3JvbGxTdGFydFBvc2l0aW9uID0gbmV3IFZlYzMoKTtcclxuICAgIHByb3RlY3RlZCBfYXV0b1Njcm9sbFRhcmdldERlbHRhID0gbmV3IFZlYzMoKTtcclxuICAgIHByb3RlY3RlZCBfYXV0b1Njcm9sbFRvdGFsVGltZSA9IDA7XHJcbiAgICBwcm90ZWN0ZWQgX2F1dG9TY3JvbGxBY2N1bXVsYXRlZFRpbWUgPSAwO1xyXG4gICAgcHJvdGVjdGVkIF9hdXRvU2Nyb2xsQ3VycmVudGx5T3V0T2ZCb3VuZGFyeSA9IGZhbHNlO1xyXG4gICAgcHJvdGVjdGVkIF9hdXRvU2Nyb2xsQnJha2luZyA9IGZhbHNlO1xyXG4gICAgcHJvdGVjdGVkIF9hdXRvU2Nyb2xsQnJha2luZ1N0YXJ0UG9zaXRpb24gPSBuZXcgVmVjMygpO1xyXG5cclxuICAgIHByb3RlY3RlZCBfb3V0T2ZCb3VuZGFyeUFtb3VudCA9IG5ldyBWZWMzKCk7XHJcbiAgICBwcm90ZWN0ZWQgX291dE9mQm91bmRhcnlBbW91bnREaXJ0eSA9IHRydWU7XHJcbiAgICBwcm90ZWN0ZWQgX3N0b3BNb3VzZVdoZWVsID0gZmFsc2U7XHJcbiAgICBwcm90ZWN0ZWQgX21vdXNlV2hlZWxFdmVudEVsYXBzZWRUaW1lID0gMC4wO1xyXG4gICAgcHJvdGVjdGVkIF9pc1Njcm9sbEVuZGVkV2l0aFRocmVzaG9sZEV2ZW50RmlyZWQgPSBmYWxzZTtcclxuICAgIC8vIHVzZSBiaXQgd2lzZSBvcGVyYXRpb25zIHRvIGluZGljYXRlIHRoZSBkaXJlY3Rpb25cclxuICAgIHByb3RlY3RlZCBfc2Nyb2xsRXZlbnRFbWl0TWFzayA9IDA7XHJcbiAgICBwcm90ZWN0ZWQgX2lzQm91bmNpbmcgPSBmYWxzZTtcclxuICAgIHByb3RlY3RlZCBfY29udGVudFBvcyA9IG5ldyBWZWMzKCk7XHJcbiAgICBwcm90ZWN0ZWQgX2RlbHRhUG9zID0gbmV3IFZlYzMoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogU2Nyb2xsIHRoZSBjb250ZW50IHRvIHRoZSBib3R0b20gYm91bmRhcnkgb2YgU2Nyb2xsVmlldy5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOinhuWbvuWGheWuueWwhuWcqOinhOWumuaXtumXtOWGhea7muWKqOWIsOinhuWbvuW6lemDqOOAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0aW1lSW5TZWNvbmQgLSDmu5rliqjml7bpl7TvvIhz77yJ44CCIOWmguaenOi2heaXtu+8jOWGheWuueWwhueri+WNs+i3s+WIsOW6lemDqOi+ueeVjOOAglxyXG4gICAgICogQHBhcmFtIGF0dGVudWF0ZWQgLSDmu5rliqjliqDpgJ/mmK/lkKboobDlh4/vvIzpu5jorqTkuLogdHJ1ZeOAglxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqIGBgYHR5cGVzY3JpcHRcclxuICAgICAqIC8vIFNjcm9sbCB0byB0aGUgYm90dG9tIG9mIHRoZSB2aWV3LlxyXG4gICAgICogc2Nyb2xsVmlldy5zY3JvbGxUb0JvdHRvbSgwLjEpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzY3JvbGxUb0JvdHRvbSAodGltZUluU2Vjb25kPzogbnVtYmVyLCBhdHRlbnVhdGVkID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IG1vdmVEZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZU1vdmVQZXJjZW50RGVsdGEoe1xyXG4gICAgICAgICAgICBhbmNob3I6IG5ldyBWZWMyKDAsIDApLFxyXG4gICAgICAgICAgICBhcHBseVRvSG9yaXpvbnRhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIGFwcGx5VG9WZXJ0aWNhbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRpbWVJblNlY29uZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydEF1dG9TY3JvbGwobW92ZURlbHRhLCB0aW1lSW5TZWNvbmQsIGF0dGVudWF0ZWQgIT09IGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9tb3ZlQ29udGVudChtb3ZlRGVsdGEsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogU2Nyb2xsIHRoZSBjb250ZW50IHRvIHRoZSB0b3AgYm91bmRhcnkgb2YgU2Nyb2xsVmlldy5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOinhuWbvuWGheWuueWwhuWcqOinhOWumuaXtumXtOWGhea7muWKqOWIsOinhuWbvumhtumDqOOAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0aW1lSW5TZWNvbmQgLSDmu5rliqjml7bpl7TvvIhz77yJ44CCIOWmguaenOi2heaXtu+8jOWGheWuueWwhueri+WNs+i3s+WIsOmhtumDqOi+ueeVjOOAglxyXG4gICAgICogQHBhcmFtIGF0dGVudWF0ZWQgLSDmu5rliqjliqDpgJ/mmK/lkKboobDlh4/vvIzpu5jorqTkuLogdHJ1ZeOAglxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqIGBgYHR5cGVzY3JpcHRcclxuICAgICAqIC8vIFNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSB2aWV3LlxyXG4gICAgICogc2Nyb2xsVmlldy5zY3JvbGxUb1RvcCgwLjEpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzY3JvbGxUb1RvcCAodGltZUluU2Vjb25kPzogbnVtYmVyLCBhdHRlbnVhdGVkID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IG1vdmVEZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZU1vdmVQZXJjZW50RGVsdGEoe1xyXG4gICAgICAgICAgICBhbmNob3I6IG5ldyBWZWMyKDAsIDEpLFxyXG4gICAgICAgICAgICBhcHBseVRvSG9yaXpvbnRhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIGFwcGx5VG9WZXJ0aWNhbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRpbWVJblNlY29uZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydEF1dG9TY3JvbGwobW92ZURlbHRhLCB0aW1lSW5TZWNvbmQsIGF0dGVudWF0ZWQgIT09IGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9tb3ZlQ29udGVudChtb3ZlRGVsdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogU2Nyb2xsIHRoZSBjb250ZW50IHRvIHRoZSBsZWZ0IGJvdW5kYXJ5IG9mIFNjcm9sbFZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDop4blm77lhoXlrrnlsIblnKjop4Tlrprml7bpl7TlhoXmu5rliqjliLDop4blm77lt6bovrnjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdGltZUluU2Vjb25kIC0g5rua5Yqo5pe26Ze077yIc++8ieOAgiDlpoLmnpzotoXml7bvvIzlhoXlrrnlsIbnq4vljbPot7PliLDlt6bovrnovrnnlYzjgIJcclxuICAgICAqIEBwYXJhbSBhdHRlbnVhdGVkIC0g5rua5Yqo5Yqg6YCf5piv5ZCm6KGw5YeP77yM6buY6K6k5Li6IHRydWXjgIJcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBgYGB0eXBlc2NyaXB0XHJcbiAgICAgKiAvLyBTY3JvbGwgdG8gdGhlIGxlZnQgb2YgdGhlIHZpZXcuXHJcbiAgICAgKiBzY3JvbGxWaWV3LnNjcm9sbFRvTGVmdCgwLjEpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzY3JvbGxUb0xlZnQgKHRpbWVJblNlY29uZD86IG51bWJlciwgYXR0ZW51YXRlZCA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBtb3ZlRGVsdGEgPSB0aGlzLl9jYWxjdWxhdGVNb3ZlUGVyY2VudERlbHRhKHtcclxuICAgICAgICAgICAgYW5jaG9yOiBuZXcgVmVjMigwLCAwKSxcclxuICAgICAgICAgICAgYXBwbHlUb0hvcml6b250YWw6IHRydWUsXHJcbiAgICAgICAgICAgIGFwcGx5VG9WZXJ0aWNhbDogZmFsc2UsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh0aW1lSW5TZWNvbmQpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnRBdXRvU2Nyb2xsKG1vdmVEZWx0YSwgdGltZUluU2Vjb25kLCBhdHRlbnVhdGVkICE9PSBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fbW92ZUNvbnRlbnQobW92ZURlbHRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFNjcm9sbCB0aGUgY29udGVudCB0byB0aGUgcmlnaHQgYm91bmRhcnkgb2YgU2Nyb2xsVmlldy5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOinhuWbvuWGheWuueWwhuWcqOinhOWumuaXtumXtOWGhea7muWKqOWIsOinhuWbvuWPs+i+ueOAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0aW1lSW5TZWNvbmQgLSDmu5rliqjml7bpl7TvvIhz77yJ44CCIOWmguaenOi2heaXtu+8jOWGheWuueWwhueri+WNs+i3s+WIsOWPs+i+uei+ueeVjOOAglxyXG4gICAgICogQHBhcmFtIGF0dGVudWF0ZWQgLSDmu5rliqjliqDpgJ/mmK/lkKboobDlh4/vvIzpu5jorqTkuLogdHJ1ZeOAglxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqIGBgYHR5cGVzY3JpcHRcclxuICAgICAqIC8vIFNjcm9sbCB0byB0aGUgcmlnaHQgb2YgdGhlIHZpZXcuXHJcbiAgICAgKiBzY3JvbGxWaWV3LnNjcm9sbFRvUmlnaHQoMC4xKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2Nyb2xsVG9SaWdodCAodGltZUluU2Vjb25kPzogbnVtYmVyLCBhdHRlbnVhdGVkID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IG1vdmVEZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZU1vdmVQZXJjZW50RGVsdGEoe1xyXG4gICAgICAgICAgICBhbmNob3I6IG5ldyBWZWMyKDEsIDApLFxyXG4gICAgICAgICAgICBhcHBseVRvSG9yaXpvbnRhbDogdHJ1ZSxcclxuICAgICAgICAgICAgYXBwbHlUb1ZlcnRpY2FsOiBmYWxzZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRpbWVJblNlY29uZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydEF1dG9TY3JvbGwobW92ZURlbHRhLCB0aW1lSW5TZWNvbmQsIGF0dGVudWF0ZWQgIT09IGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9tb3ZlQ29udGVudChtb3ZlRGVsdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogU2Nyb2xsIHRoZSBjb250ZW50IHRvIHRoZSB0b3AgbGVmdCBib3VuZGFyeSBvZiBTY3JvbGxWaWV3LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog6KeG5Zu+5YaF5a655bCG5Zyo6KeE5a6a5pe26Ze05YaF5rua5Yqo5Yiw6KeG5Zu+5bem5LiK6KeS44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRpbWVJblNlY29uZCAtIOa7muWKqOaXtumXtO+8iHPvvInjgIIg5aaC5p6c6LaF5pe277yM5YaF5a655bCG56uL5Y2z6Lez5Yiw5bem5LiK6L656L6555WM44CCXHJcbiAgICAgKiBAcGFyYW0gYXR0ZW51YXRlZCAtIOa7muWKqOWKoOmAn+aYr+WQpuihsOWHj++8jOm7mOiupOS4uiB0cnVl44CCXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICogLy8gU2Nyb2xsIHRvIHRoZSB1cHBlciBsZWZ0IGNvcm5lciBvZiB0aGUgdmlldy5cclxuICAgICAqIHNjcm9sbFZpZXcuc2Nyb2xsVG9Ub3BMZWZ0KDAuMSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNjcm9sbFRvVG9wTGVmdCAodGltZUluU2Vjb25kPzogbnVtYmVyLCBhdHRlbnVhdGVkID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IG1vdmVEZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZU1vdmVQZXJjZW50RGVsdGEoe1xyXG4gICAgICAgICAgICBhbmNob3I6IG5ldyBWZWMyKDAsIDEpLFxyXG4gICAgICAgICAgICBhcHBseVRvSG9yaXpvbnRhbDogdHJ1ZSxcclxuICAgICAgICAgICAgYXBwbHlUb1ZlcnRpY2FsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGltZUluU2Vjb25kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0QXV0b1Njcm9sbChtb3ZlRGVsdGEsIHRpbWVJblNlY29uZCwgYXR0ZW51YXRlZCAhPT0gZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDb250ZW50KG1vdmVEZWx0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBTY3JvbGwgdGhlIGNvbnRlbnQgdG8gdGhlIHRvcCByaWdodCBib3VuZGFyeSBvZiBTY3JvbGxWaWV3LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog6KeG5Zu+5YaF5a655bCG5Zyo6KeE5a6a5pe26Ze05YaF5rua5Yqo5Yiw6KeG5Zu+5Y+z5LiK6KeS44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRpbWVJblNlY29uZCAtIOa7muWKqOaXtumXtO+8iHPvvInjgIIg5aaC5p6c6LaF5pe277yM5YaF5a655bCG56uL5Y2z6Lez5Yiw5Y+z5LiK6L6555WM44CCXHJcbiAgICAgKiBAcGFyYW0gYXR0ZW51YXRlZCAtIOa7muWKqOWKoOmAn+aYr+WQpuihsOWHj++8jOm7mOiupOS4uiB0cnVl44CCXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICogLy8gU2Nyb2xsIHRvIHRoZSB0b3AgcmlnaHQgY29ybmVyIG9mIHRoZSB2aWV3LlxyXG4gICAgICogc2Nyb2xsVmlldy5zY3JvbGxUb1RvcFJpZ2h0KDAuMSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNjcm9sbFRvVG9wUmlnaHQgKHRpbWVJblNlY29uZD86IG51bWJlciwgYXR0ZW51YXRlZCA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBtb3ZlRGVsdGEgPSB0aGlzLl9jYWxjdWxhdGVNb3ZlUGVyY2VudERlbHRhKHtcclxuICAgICAgICAgICAgYW5jaG9yOiBuZXcgVmVjMigxLCAxKSxcclxuICAgICAgICAgICAgYXBwbHlUb0hvcml6b250YWw6IHRydWUsXHJcbiAgICAgICAgICAgIGFwcGx5VG9WZXJ0aWNhbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRpbWVJblNlY29uZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydEF1dG9TY3JvbGwobW92ZURlbHRhLCB0aW1lSW5TZWNvbmQsIGF0dGVudWF0ZWQgIT09IGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9tb3ZlQ29udGVudChtb3ZlRGVsdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogU2Nyb2xsIHRoZSBjb250ZW50IHRvIHRoZSBib3R0b20gbGVmdCBib3VuZGFyeSBvZiBTY3JvbGxWaWV3LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog6KeG5Zu+5YaF5a655bCG5Zyo6KeE5a6a5pe26Ze05YaF5rua5Yqo5Yiw6KeG5Zu+5bem5LiL6KeS44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRpbWVJblNlY29uZCAtIOa7muWKqOaXtumXtO+8iHPvvInjgIIg5aaC5p6c6LaF5pe277yM5YaF5a655bCG56uL5Y2z6Lez5Yiw5bem5LiL6L6555WM44CCXHJcbiAgICAgKiBAcGFyYW0gYXR0ZW51YXRlZCAtIOa7muWKqOWKoOmAn+aYr+WQpuihsOWHj++8jOm7mOiupOS4uiB0cnVl44CCXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICogLy8gU2Nyb2xsIHRvIHRoZSBsb3dlciBsZWZ0IGNvcm5lciBvZiB0aGUgdmlldy5cclxuICAgICAqIHNjcm9sbFZpZXcuc2Nyb2xsVG9Cb3R0b21MZWZ0KDAuMSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNjcm9sbFRvQm90dG9tTGVmdCAodGltZUluU2Vjb25kPzogbnVtYmVyLCBhdHRlbnVhdGVkID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IG1vdmVEZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZU1vdmVQZXJjZW50RGVsdGEoe1xyXG4gICAgICAgICAgICBhbmNob3I6IG5ldyBWZWMyKDAsIDApLFxyXG4gICAgICAgICAgICBhcHBseVRvSG9yaXpvbnRhbDogdHJ1ZSxcclxuICAgICAgICAgICAgYXBwbHlUb1ZlcnRpY2FsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGltZUluU2Vjb25kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0QXV0b1Njcm9sbChtb3ZlRGVsdGEsIHRpbWVJblNlY29uZCwgYXR0ZW51YXRlZCAhPT0gZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDb250ZW50KG1vdmVEZWx0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBTY3JvbGwgdGhlIGNvbnRlbnQgdG8gdGhlIGJvdHRvbSByaWdodCBib3VuZGFyeSBvZiBTY3JvbGxWaWV3LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog6KeG5Zu+5YaF5a655bCG5Zyo6KeE5a6a5pe26Ze05YaF5rua5Yqo5Yiw6KeG5Zu+5Y+z5LiL6KeS44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHRpbWVJblNlY29uZCAtIOa7muWKqOaXtumXtO+8iHPvvInjgIIg5aaC5p6c6LaF5pe277yM5YaF5a655bCG56uL5Y2z6Lez5Yiw5Y+z6L655LiL6L6555WM44CCXHJcbiAgICAgKiBAcGFyYW0gYXR0ZW51YXRlZCAtIOa7muWKqOWKoOmAn+aYr+WQpuihsOWHj++8jOm7mOiupOS4uiB0cnVl44CCXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICogLy8gU2Nyb2xsIHRvIHRoZSBsb3dlciByaWdodCBjb3JuZXIgb2YgdGhlIHZpZXcuXHJcbiAgICAgKiBzY3JvbGxWaWV3LnNjcm9sbFRvQm90dG9tUmlnaHQoMC4xKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2Nyb2xsVG9Cb3R0b21SaWdodCAodGltZUluU2Vjb25kPzogbnVtYmVyLCBhdHRlbnVhdGVkID0gdHJ1ZSkge1xyXG4gICAgICAgIGNvbnN0IG1vdmVEZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZU1vdmVQZXJjZW50RGVsdGEoe1xyXG4gICAgICAgICAgICBhbmNob3I6IG5ldyBWZWMyKDEsIDApLFxyXG4gICAgICAgICAgICBhcHBseVRvSG9yaXpvbnRhbDogdHJ1ZSxcclxuICAgICAgICAgICAgYXBwbHlUb1ZlcnRpY2FsOiB0cnVlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGltZUluU2Vjb25kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0QXV0b1Njcm9sbChtb3ZlRGVsdGEsIHRpbWVJblNlY29uZCwgYXR0ZW51YXRlZCAhPT0gZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDb250ZW50KG1vdmVEZWx0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBTY3JvbGwgd2l0aCBhbiBvZmZzZXQgcmVsYXRlZCB0byB0aGUgU2Nyb2xsVmlldydzIHRvcCBsZWZ0IG9yaWdpbiwgaWYgdGltZUluU2Vjb25kIGlzIG9taXR0ZWQsIHRoZW4gaXQgd2lsbCBqdW1wIHRvIHRoZSBzcGVjaWZpYyBvZmZzZXQgaW1tZWRpYXRlbHkuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDop4blm77lhoXlrrnlnKjop4Tlrprml7bpl7TlhoXlsIbmu5rliqjliLAgU2Nyb2xsVmlldyDnm7jlr7nlt6bkuIrop5Lljp/ngrnnmoTlgY/np7vkvY3nva4sIOWmguaenCB0aW1lSW5TZWNvbmQg5Y+C5pWw5LiN5Lyg77yM5YiZ56uL5Y2z5rua5Yqo5Yiw5oyH5a6a5YGP56e75L2N572u44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG9mZnNldCAtIOaMh+Wumuenu+WKqOWBj+enu+mHj+OAglxyXG4gICAgICogQHBhcmFtIHRpbWVJblNlY29uZCAtIOa7muWKqOaXtumXtO+8iHPvvInjgIIg5aaC5p6c6LaF5pe277yM5YaF5a655bCG56uL5Y2z6Lez5Yiw5oyH5a6a5YGP56e76YeP5aSE44CCXHJcbiAgICAgKiBAcGFyYW0gYXR0ZW51YXRlZCAtIOa7muWKqOWKoOmAn+aYr+WQpuihsOWHj++8jOm7mOiupOS4uiB0cnVl44CCXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICogLy8gU2Nyb2xsIHRvIG1pZGRsZSBwb3NpdGlvbiBpbiAwLjEgc2Vjb25kIGluIHgtYXhpc1xyXG4gICAgICogbGV0IG1heFNjcm9sbE9mZnNldCA9IHRoaXMuZ2V0TWF4U2Nyb2xsT2Zmc2V0KCk7XHJcbiAgICAgKiBzY3JvbGxWaWV3LnNjcm9sbFRvT2Zmc2V0KG5ldyBWZWMzKG1heFNjcm9sbE9mZnNldC54IC8gMiwgMCwgMCksIDAuMSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNjcm9sbFRvT2Zmc2V0IChvZmZzZXQ6IFZlYzMsIHRpbWVJblNlY29uZD86IG51bWJlciwgYXR0ZW51YXRlZCA9IHRydWUpIHtcclxuICAgICAgICBjb25zdCBtYXhTY3JvbGxPZmZzZXQgPSB0aGlzLmdldE1heFNjcm9sbE9mZnNldCgpO1xyXG5cclxuICAgICAgICBjb25zdCBhbmNob3IgPSBuZXcgVmVjMigwLCAwKTtcclxuICAgICAgICAvLyBpZiBtYXhTY3JvbGxPZmZzZXQgaXMgMCwgdGhlbiBhbHdheXMgYWxpZ24gdGhlIGNvbnRlbnQncyB0b3AgbGVmdCBvcmlnaW4gdG8gdGhlIHRvcCBsZWZ0IGNvcm5lciBvZiBpdHMgcGFyZW50XHJcbiAgICAgICAgaWYgKG1heFNjcm9sbE9mZnNldC54ID09PSAwKSB7XHJcbiAgICAgICAgICAgIGFuY2hvci54ID0gMDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbmNob3IueCA9IG9mZnNldC54IC8gbWF4U2Nyb2xsT2Zmc2V0Lng7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobWF4U2Nyb2xsT2Zmc2V0LnkgPT09IDApIHtcclxuICAgICAgICAgICAgYW5jaG9yLnkgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFuY2hvci55ID0gKG1heFNjcm9sbE9mZnNldC55IC0gb2Zmc2V0LnkpIC8gbWF4U2Nyb2xsT2Zmc2V0Lnk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjcm9sbFRvKGFuY2hvciwgdGltZUluU2Vjb25kLCBhdHRlbnVhdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogR2V0IHRoZSBwb3NpdGl2ZSBvZmZzZXQgdmFsdWUgY29ycmVzcG9uZHMgdG8gdGhlIGNvbnRlbnQncyB0b3AgbGVmdCBib3VuZGFyeS5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPlua7muWKqOinhuWbvuebuOWvueS6juW3puS4iuinkuWOn+eCueeahOW9k+WJjea7muWKqOWBj+enu+OAglxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gLSDlvZPliY3mu5rliqjlgY/np7vph4/jgIJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFNjcm9sbE9mZnNldCAoKSB7XHJcbiAgICAgICAgY29uc3QgdG9wRGVsdGEgPSB0aGlzLl9nZXRDb250ZW50VG9wQm91bmRhcnkoKSAtIHRoaXMuX3RvcEJvdW5kYXJ5O1xyXG4gICAgICAgIGNvbnN0IGxlZnREZWx0YSA9IHRoaXMuX2dldENvbnRlbnRMZWZ0Qm91bmRhcnkoKSAtIHRoaXMuX2xlZnRCb3VuZGFyeTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKGxlZnREZWx0YSwgdG9wRGVsdGEsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBHZXQgdGhlIG1heGltaXplIGF2YWlsYWJsZSAgc2Nyb2xsIG9mZnNldC5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPlua7muWKqOinhuWbvuacgOWkp+WPr+S7pea7muWKqOeahOWBj+enu+mHj+OAglxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4gLSDmnIDlpKflj6/mu5rliqjlgY/np7vph4/jgIJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1heFNjcm9sbE9mZnNldCAoKSB7XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsU2l6ZSA9IHRoaXMubm9kZS5fdWlQcm9wcy51aVRyYW5zZm9ybUNvbXAhLmNvbnRlbnRTaXplO1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRTaXplID0gdGhpcy5fY29udGVudCEuX3VpUHJvcHMudWlUcmFuc2Zvcm1Db21wIS5jb250ZW50U2l6ZTtcclxuICAgICAgICBsZXQgaG9yaXpvbnRhbE1heGltaXplT2Zmc2V0ID0gY29udGVudFNpemUud2lkdGggLSBzY3JvbGxTaXplLndpZHRoO1xyXG4gICAgICAgIGxldCB2ZXJ0aWNhbE1heGltaXplT2Zmc2V0ID0gY29udGVudFNpemUuaGVpZ2h0IC0gc2Nyb2xsU2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgaG9yaXpvbnRhbE1heGltaXplT2Zmc2V0ID0gaG9yaXpvbnRhbE1heGltaXplT2Zmc2V0ID49IDAgPyBob3Jpem9udGFsTWF4aW1pemVPZmZzZXQgOiAwO1xyXG4gICAgICAgIHZlcnRpY2FsTWF4aW1pemVPZmZzZXQgPSB2ZXJ0aWNhbE1heGltaXplT2Zmc2V0ID49IDAgPyB2ZXJ0aWNhbE1heGltaXplT2Zmc2V0IDogMDtcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBWZWMzKGhvcml6b250YWxNYXhpbWl6ZU9mZnNldCwgdmVydGljYWxNYXhpbWl6ZU9mZnNldCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFNjcm9sbCB0aGUgY29udGVudCB0byB0aGUgaG9yaXpvbnRhbCBwZXJjZW50IHBvc2l0aW9uIG9mIFNjcm9sbFZpZXcuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDop4blm77lhoXlrrnlnKjop4Tlrprml7bpl7TlhoXlsIbmu5rliqjliLAgU2Nyb2xsVmlldyDmsLTlubPmlrnlkJHnmoTnmb7liIbmr5TkvY3nva7kuIrjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcGVyY2VudCAtIDAgLSDkuYvpl7TnmoTnmb7liIbmr5TjgIJcclxuICAgICAqIEBwYXJhbSB0aW1lSW5TZWNvbmQgLSDmu5rliqjml7bpl7TvvIhz77yJ44CCIOWmguaenOi2heaXtu+8jOWGheWuueWwhueri+WNs+i3s+WIsOaMh+WumuawtOW5s+eZvuWIhuavlOS9jee9ruOAglxyXG4gICAgICogQHBhcmFtIGF0dGVudWF0ZWQgLSDmu5rliqjliqDpgJ/mmK/lkKboobDlh4/vvIzpu5jorqTkuLogdHJ1ZeOAglxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAqIGBgYHR5cGVzY3JpcHRcclxuICAgICAqIC8vIFNjcm9sbCB0byBtaWRkbGUgcG9zaXRpb24uXHJcbiAgICAgKiBzY3JvbGxWaWV3LnNjcm9sbFRvQm90dG9tUmlnaHQoMC41LCAwLjEpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzY3JvbGxUb1BlcmNlbnRIb3Jpem9udGFsIChwZXJjZW50OiBudW1iZXIsIHRpbWVJblNlY29uZDogbnVtYmVyLCBhdHRlbnVhdGVkOiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3QgbW92ZURlbHRhID0gdGhpcy5fY2FsY3VsYXRlTW92ZVBlcmNlbnREZWx0YSh7XHJcbiAgICAgICAgICAgIGFuY2hvcjogbmV3IFZlYzIocGVyY2VudCwgMCksXHJcbiAgICAgICAgICAgIGFwcGx5VG9Ib3Jpem9udGFsOiB0cnVlLFxyXG4gICAgICAgICAgICBhcHBseVRvVmVydGljYWw6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGltZUluU2Vjb25kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0QXV0b1Njcm9sbChtb3ZlRGVsdGEsIHRpbWVJblNlY29uZCwgYXR0ZW51YXRlZCAhPT0gZmFsc2UpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDb250ZW50KG1vdmVEZWx0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBTY3JvbGwgdGhlIGNvbnRlbnQgdG8gdGhlIHBlcmNlbnQgcG9zaXRpb24gb2YgU2Nyb2xsVmlldyBpbiBhbnkgZGlyZWN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog6KeG5Zu+5YaF5a655Zyo6KeE5a6a5pe26Ze05YaF6L+b6KGM5Z6C55u05pa55ZCR5ZKM5rC05bmz5pa55ZCR55qE5rua5Yqo77yM5bm25LiU5rua5Yqo5Yiw5oyH5a6a55m+5YiG5q+U5L2N572u5LiK44CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFuY2hvciAtIOWcqCBuZXcgVmVjMigwLDApIGFuZCBuZXcgVmVjMigxLDEpIOS4iuWPluW3ruWAvOeahOS4gOS4queCueOAglxyXG4gICAgICogQHBhcmFtIHRpbWVJblNlY29uZCAtIOa7muWKqOaXtumXtO+8iHPvvInjgIIg5aaC5p6c6LaF5pe277yM5YaF5a655bCG56uL5Y2z6Lez5Yiw5oyH5a6a5rC05bmz5oiW5Z6C55u055m+5YiG5q+U5L2N572u44CCXHJcbiAgICAgKiBAcGFyYW0gYXR0ZW51YXRlZCAtIOa7muWKqOWKoOmAn+aYr+WQpuihsOWHj++8jOm7mOiupOS4uiB0cnVl44CCXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICogLy8gVmVydGljYWwgc2Nyb2xsIHRvIHRoZSBib3R0b20gb2YgdGhlIHZpZXcuXHJcbiAgICAgKiBzY3JvbGxWaWV3LnNjcm9sbFRvKG5ldyBWZWMyKDAsIDEpLCAwLjEpO1xyXG4gICAgICpcclxuICAgICAqIC8vIEhvcml6b250YWwgc2Nyb2xsIHRvIHZpZXcgcmlnaHQuXHJcbiAgICAgKiBzY3JvbGxWaWV3LnNjcm9sbFRvKG5ldyBWZWMyKDEsIDApLCAwLjEpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzY3JvbGxUbyAoYW5jaG9yOiBWZWMyLCB0aW1lSW5TZWNvbmQ/OiBudW1iZXIsIGF0dGVudWF0ZWQ/OiBib29sZWFuKSB7XHJcbiAgICAgICAgY29uc3QgbW92ZURlbHRhID0gdGhpcy5fY2FsY3VsYXRlTW92ZVBlcmNlbnREZWx0YSh7XHJcbiAgICAgICAgICAgIGFuY2hvcjogbmV3IFZlYzIoYW5jaG9yKSxcclxuICAgICAgICAgICAgYXBwbHlUb0hvcml6b250YWw6IHRydWUsXHJcbiAgICAgICAgICAgIGFwcGx5VG9WZXJ0aWNhbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRpbWVJblNlY29uZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydEF1dG9TY3JvbGwobW92ZURlbHRhLCB0aW1lSW5TZWNvbmQsIGF0dGVudWF0ZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDb250ZW50KG1vdmVEZWx0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBTY3JvbGwgdGhlIGNvbnRlbnQgdG8gdGhlIHZlcnRpY2FsIHBlcmNlbnQgcG9zaXRpb24gb2YgU2Nyb2xsVmlldy5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOinhuWbvuWGheWuueWcqOinhOWumuaXtumXtOWGhea7muWKqOWIsCBTY3JvbGxWaWV3IOWeguebtOaWueWQkeeahOeZvuWIhuavlOS9jee9ruS4iuOAglxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwZXJjZW50IC0gMCAtIDEg5LmL6Ze055qE55m+5YiG5q+U44CCXHJcbiAgICAgKiBAcGFyYW0gdGltZUluU2Vjb25kIC0g5rua5Yqo5pe26Ze077yIc++8ieOAgiDlpoLmnpzotoXml7bvvIzlhoXlrrnlsIbnq4vljbPot7PliLDmjIflrprlnoLnm7Tnmb7liIbmr5TkvY3nva7jgIJcclxuICAgICAqIEBwYXJhbSBhdHRlbnVhdGVkIC0g5rua5Yqo5Yqg6YCf5piv5ZCm6KGw5YeP77yM6buY6K6k5Li6IHRydWXjgIJcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgKiBgYGB0eXBlc2NyaXB0XHJcbiAgICAgKiBzY3JvbGxWaWV3LnNjcm9sbFRvUGVyY2VudFZlcnRpY2FsKDAuNSwgMC4xKTtcclxuICAgICAqIGBgYFxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2Nyb2xsVG9QZXJjZW50VmVydGljYWwgKHBlcmNlbnQ6IG51bWJlciwgdGltZUluU2Vjb25kPzogbnVtYmVyLCBhdHRlbnVhdGVkPzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IG1vdmVEZWx0YSA9IHRoaXMuX2NhbGN1bGF0ZU1vdmVQZXJjZW50RGVsdGEoe1xyXG4gICAgICAgICAgICBhbmNob3I6IG5ldyBWZWMyKDAsIHBlcmNlbnQpLFxyXG4gICAgICAgICAgICBhcHBseVRvSG9yaXpvbnRhbDogZmFsc2UsXHJcbiAgICAgICAgICAgIGFwcGx5VG9WZXJ0aWNhbDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRpbWVJblNlY29uZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdGFydEF1dG9TY3JvbGwobW92ZURlbHRhLCB0aW1lSW5TZWNvbmQsIGF0dGVudWF0ZWQpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDb250ZW50KG1vdmVEZWx0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBTdG9wIGF1dG8gc2Nyb2xsIGltbWVkaWF0ZWx5LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5YGc5q2i6Ieq5Yqo5rua5YqoLCDosIPnlKjmraQgQVBJIOWPr+S7peiuqSBTY3JvbGxWaWV3IOeri+WNs+WBnOatoua7muWKqOOAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc3RvcEF1dG9TY3JvbGwgKCkge1xyXG4gICAgICAgIHRoaXMuX2F1dG9TY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLl9hdXRvU2Nyb2xsQWNjdW11bGF0ZWRUaW1lID0gdGhpcy5fYXV0b1Njcm9sbFRvdGFsVGltZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogTW9kaWZ5IHRoZSBjb250ZW50IHBvc2l0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog6K6+572u5b2T5YmN6KeG5Zu+5YaF5a6555qE5Z2Q5qCH54K544CCXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBvc2l0aW9uIC0g5b2T5YmN6KeG5Zu+5Z2Q5qCH54K5LlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0Q29udGVudFBvc2l0aW9uIChwb3NpdGlvbjogVmVjMykge1xyXG4gICAgICAgIGNvbnN0IGNvbnRlbnRQb3MgPSB0aGlzLmdldENvbnRlbnRQb3NpdGlvbigpO1xyXG4gICAgICAgIGlmIChNYXRoLmFicyhwb3NpdGlvbi54IC0gY29udGVudFBvcy54KSA8IEVQU0lMT04gJiYgTWF0aC5hYnMocG9zaXRpb24ueSAtIGNvbnRlbnRQb3MueSkgPCBFUFNJTE9OKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbnRlbnQhLnNldFBvc2l0aW9uKHBvc2l0aW9uKTtcclxuICAgICAgICB0aGlzLl9vdXRPZkJvdW5kYXJ5QW1vdW50RGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBRdWVyeSB0aGUgY29udGVudCdzIHBvc2l0aW9uIGluIGl0cyBwYXJlbnQgc3BhY2UuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDojrflj5blvZPliY3op4blm77lhoXlrrnnmoTlnZDmoIfngrnjgIJcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyAtIOW9k+WJjeinhuWbvuWGheWuueeahOWdkOagh+eCuS5cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldENvbnRlbnRQb3NpdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jb250ZW50KXtcclxuICAgICAgICAgICAgcmV0dXJuIFpFUk87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9jb250ZW50UG9zLnNldCh0aGlzLl9jb250ZW50LnBvc2l0aW9uKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fY29udGVudFBvcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogUXVlcnkgd2hldGhlciB0aGUgdXNlciBpcyBjdXJyZW50bHkgZHJhZ2dpbmcgdGhlIFNjcm9sbFZpZXcgdG8gc2Nyb2xsIGl0LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog55So5oi35piv5ZCm5Zyo5ouW5ou95b2T5YmN5rua5Yqo6KeG5Zu+44CCXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgLSDmmK/lkKblnKjmi5bmi73lvZPliY3mu5rliqjop4blm77jgIJcclxuICAgICAqL1xyXG4gICAgcHVibGljIGlzU2Nyb2xsaW5nICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBRdWVyeSB3aGV0aGVyIHRoZSBTY3JvbGxWaWV3IGlzIGN1cnJlbnRseSBzY3JvbGxpbmcgYmVjYXVzZSBvZiBhIGJvdW5jZWJhY2sgb3IgaW5lcnRpYSBzbG93ZG93bi5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOW9k+WJjea7muWKqOinhuWbvuaYr+WQpuWcqOaDr+aAp+a7muWKqOOAglxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIC0g5rua5Yqo6KeG5Zu+5piv5ZCm5Zyo5oOv5oCn5rua5Yqo44CCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0F1dG9TY3JvbGxpbmcgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRvU2Nyb2xsaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTY3JvbGxFbmRlZEV2ZW50VGltaW5nICgpIHtcclxuICAgICAgICByZXR1cm4gRVBTSUxPTjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnQgKCkge1xyXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kYXJ5KCk7XHJcbiAgICAgICAgLy8gQmVjYXVzZSB3aWRnZXQgY29tcG9uZW50IHdpbGwgYWRqdXN0IGNvbnRlbnQgcG9zaXRpb24gYW5kIHNjcm9sbFZpZXcgcG9zaXRpb24gaXMgY29ycmVjdCBhZnRlciB2aXNpdFxyXG4gICAgICAgIC8vIFNvIHRoaXMgZXZlbnQgY291bGQgbWFrZSBzdXJlIHRoZSBjb250ZW50IGlzIG9uIHRoZSBjb3JyZWN0IHBvc2l0aW9uIGFmdGVyIGxvYWRpbmcuXHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcclxuICAgICAgICAgICAgZGlyZWN0b3Iub25jZShEaXJlY3Rvci5FVkVOVF9CRUZPUkVfRFJBVywgdGhpcy5fYWRqdXN0Q29udGVudE91dE9mQm91bmRhcnksIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25FbmFibGUgKCkge1xyXG4gICAgICAgIGlmICghRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Lm9uKE5vZGUuRXZlbnRUeXBlLlNJWkVfQ0hBTkdFRCwgdGhpcy5fY2FsY3VsYXRlQm91bmRhcnksIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Lm9uKE5vZGUuRXZlbnRUeXBlLlRSQU5TRk9STV9DSEFOR0VELCB0aGlzLl9zY2FsZUNoYW5nZWQsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlldyEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXchLm9uKE5vZGUuRXZlbnRUeXBlLlRSQU5TRk9STV9DSEFOR0VELCB0aGlzLl9zY2FsZUNoYW5nZWQsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldyEub24oTm9kZS5FdmVudFR5cGUuU0laRV9DSEFOR0VELCB0aGlzLl9jYWxjdWxhdGVCb3VuZGFyeSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUJvdW5kYXJ5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3Nob3dTY3JvbGxCYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlIChkdDogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2F1dG9TY3JvbGxpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0F1dG9TY3JvbGxpbmcoZHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EaXNhYmxlICgpIHtcclxuICAgICAgICBpZiAoIUVESVRPUikge1xyXG4gICAgICAgICAgICB0aGlzLl91bnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Lm9mZihOb2RlLkV2ZW50VHlwZS5TSVpFX0NIQU5HRUQsIHRoaXMuX2NhbGN1bGF0ZUJvdW5kYXJ5LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5vZmYoTm9kZS5FdmVudFR5cGUuVFJBTlNGT1JNX0NIQU5HRUQsIHRoaXMuX3NjYWxlQ2hhbmdlZCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3ISkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldyEub2ZmKE5vZGUuRXZlbnRUeXBlLlRSQU5TRk9STV9DSEFOR0VELCB0aGlzLl9zY2FsZUNoYW5nZWQsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlldyEub2ZmKE5vZGUuRXZlbnRUeXBlLlNJWkVfQ0hBTkdFRCwgdGhpcy5fY2FsY3VsYXRlQm91bmRhcnksIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2hpZGVTY3JvbGxCYXIoKTtcclxuICAgICAgICB0aGlzLnN0b3BBdXRvU2Nyb2xsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBtZXRob2RzXHJcbiAgICBwcm90ZWN0ZWQgX3JlZ2lzdGVyRXZlbnQgKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihOb2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy5fb25Ub3VjaEJlZ2FuLCB0aGlzLCB0cnVlKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSwgdGhpcy5fb25Ub3VjaE1vdmVkLCB0aGlzLCB0cnVlKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLl9vblRvdWNoRW5kZWQsIHRoaXMsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihOb2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsIHRoaXMuX29uVG91Y2hDYW5jZWxsZWQsIHRoaXMsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihOb2RlLkV2ZW50VHlwZS5NT1VTRV9XSEVFTCwgdGhpcy5fb25Nb3VzZVdoZWVsLCB0aGlzLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3VucmVnaXN0ZXJFdmVudCAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihOb2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy5fb25Ub3VjaEJlZ2FuLCB0aGlzLCB0cnVlKTtcclxuICAgICAgICB0aGlzLm5vZGUub2ZmKE5vZGUuRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMuX29uVG91Y2hNb3ZlZCwgdGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihOb2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMuX29uVG91Y2hFbmRlZCwgdGhpcywgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihOb2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsIHRoaXMuX29uVG91Y2hDYW5jZWxsZWQsIHRoaXMsIHRydWUpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vZmYoTm9kZS5FdmVudFR5cGUuTU9VU0VfV0hFRUwsIHRoaXMuX29uTW91c2VXaGVlbCwgdGhpcywgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9vbk1vdXNlV2hlZWwgKGV2ZW50OiBFdmVudE1vdXNlLCBjYXB0dXJlTGlzdGVuZXJzPzogTm9kZVtdKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWRJbkhpZXJhcmNoeSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5faGFzTmVzdGVkVmlld0dyb3VwKGV2ZW50LCBjYXB0dXJlTGlzdGVuZXJzKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkZWx0YU1vdmUgPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIGNvbnN0IHdoZWVsUHJlY2lzaW9uID0gLTAuMTtcclxuICAgICAgICBjb25zdCBzY3JvbGxZID0gZXZlbnQuZ2V0U2Nyb2xsWSgpO1xyXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIGRlbHRhTW92ZS5zZXQoMCwgc2Nyb2xsWSAqIHdoZWVsUHJlY2lzaW9uLCAwKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaG9yaXpvbnRhbCkge1xyXG4gICAgICAgICAgICBkZWx0YU1vdmUuc2V0KHNjcm9sbFkgKiB3aGVlbFByZWNpc2lvbiwgMCwgMCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9tb3VzZVdoZWVsRXZlbnRFbGFwc2VkVGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0RlbHRhTW92ZShkZWx0YU1vdmUpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuX3N0b3BNb3VzZVdoZWVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVByZXNzTG9naWMoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSh0aGlzLl9jaGVja01vdXNlV2hlZWwsIDEuMCAvIDYwLCBOYU4sIDApO1xyXG4gICAgICAgICAgICB0aGlzLl9zdG9wTW91c2VXaGVlbCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9zdG9wUHJvcGFnYXRpb25JZlRhcmdldElzTWUoZXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfb25Ub3VjaEJlZ2FuIChldmVudDogRXZlbnRUb3VjaCwgY2FwdHVyZUxpc3RlbmVycz86IE5vZGVbXSkge1xyXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkSW5IaWVyYXJjaHkgfHwgIXRoaXMuX2NvbnRlbnQpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgaWYgKHRoaXMuX2hhc05lc3RlZFZpZXdHcm91cChldmVudCwgY2FwdHVyZUxpc3RlbmVycykpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIC8vIGxldCB0b3VjaCA9IGV2ZW50LnRvdWNoO1xyXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVByZXNzTG9naWMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdG91Y2hNb3ZlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX3N0b3BQcm9wYWdhdGlvbklmVGFyZ2V0SXNNZShldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9vblRvdWNoTW92ZWQgKGV2ZW50OiBFdmVudFRvdWNoLCBjYXB0dXJlTGlzdGVuZXJzPzogTm9kZVtdKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVuYWJsZWRJbkhpZXJhcmNoeSB8fCAhdGhpcy5fY29udGVudCkgeyByZXR1cm47IH1cclxuICAgICAgICBpZiAodGhpcy5faGFzTmVzdGVkVmlld0dyb3VwKGV2ZW50LCBjYXB0dXJlTGlzdGVuZXJzKSkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgY29uc3QgdG91Y2ggPSBldmVudC50b3VjaCE7XHJcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5faGFuZGxlTW92ZUxvZ2ljKHRvdWNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG8gbm90IHByZXZlbnQgdG91Y2ggZXZlbnRzIGluIGlubmVyIG5vZGVzXHJcbiAgICAgICAgaWYgKCF0aGlzLmNhbmNlbElubmVyRXZlbnRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRlbHRhTW92ZSA9IHRvdWNoLmdldFVJTG9jYXRpb24oX3RlbXBWZWMyKTtcclxuICAgICAgICBkZWx0YU1vdmUuc3VidHJhY3QodG91Y2guZ2V0VUlTdGFydExvY2F0aW9uKF90ZW1wVmVjMl8xKSk7XHJcbiAgICAgICAgLy8gRklYTUU6IHRvdWNoIG1vdmUgZGVsdGEgc2hvdWxkIGJlIGNhbGN1bGF0ZWQgYnkgRFBJLlxyXG4gICAgICAgIGlmIChkZWx0YU1vdmUubGVuZ3RoKCkgPiA3KSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fdG91Y2hNb3ZlZCAmJiBldmVudC50YXJnZXQgIT09IHRoaXMubm9kZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU2ltdWxhdGUgdG91Y2ggY2FuY2VsIGZvciB0YXJnZXQgbm9kZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgY2FuY2VsRXZlbnQgPSBuZXcgRXZlbnRUb3VjaChldmVudC5nZXRUb3VjaGVzKCksIGV2ZW50LmJ1YmJsZXMpO1xyXG4gICAgICAgICAgICAgICAgY2FuY2VsRXZlbnQudHlwZSA9IE5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTDtcclxuICAgICAgICAgICAgICAgIGNhbmNlbEV2ZW50LnRvdWNoID0gZXZlbnQudG91Y2g7XHJcbiAgICAgICAgICAgICAgICBjYW5jZWxFdmVudC5zaW11bGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAoZXZlbnQudGFyZ2V0IGFzIE5vZGUpLmRpc3BhdGNoRXZlbnQoY2FuY2VsRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdG91Y2hNb3ZlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RvcFByb3BhZ2F0aW9uSWZUYXJnZXRJc01lKGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX29uVG91Y2hFbmRlZCAoZXZlbnQ6IEV2ZW50VG91Y2gsIGNhcHR1cmVMaXN0ZW5lcnM/OiBOb2RlW10pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZEluSGllcmFyY2h5IHx8ICF0aGlzLl9jb250ZW50IHx8ICFldmVudCkgeyByZXR1cm47IH1cclxuICAgICAgICBpZiAodGhpcy5faGFzTmVzdGVkVmlld0dyb3VwKGV2ZW50LCBjYXB0dXJlTGlzdGVuZXJzKSkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuVE9VQ0hfVVApO1xyXG5cclxuICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoITtcclxuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVSZWxlYXNlTG9naWModG91Y2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fdG91Y2hNb3ZlZCkge1xyXG4gICAgICAgICAgICBldmVudC5wcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0b3BQcm9wYWdhdGlvbklmVGFyZ2V0SXNNZShldmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfb25Ub3VjaENhbmNlbGxlZCAoZXZlbnQ6IEV2ZW50VG91Y2gsIGNhcHR1cmVMaXN0ZW5lcnM/OiBOb2RlW10pIHtcclxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZEluSGllcmFyY2h5IHx8ICF0aGlzLl9jb250ZW50KSB7IHJldHVybjsgfVxyXG4gICAgICAgIGlmICh0aGlzLl9oYXNOZXN0ZWRWaWV3R3JvdXAoZXZlbnQsIGNhcHR1cmVMaXN0ZW5lcnMpKSB7IHJldHVybjsgfVxyXG5cclxuICAgICAgICAvLyBGaWx0ZXIgdG91Y2ggY2FuY2VsIGV2ZW50IHNlbmQgZnJvbSBzZWxmXHJcbiAgICAgICAgaWYgKGV2ZW50ICYmICFldmVudC5zaW11bGF0ZSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b3VjaCA9IGV2ZW50LnRvdWNoITtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZVJlbGVhc2VMb2dpYyh0b3VjaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fc3RvcFByb3BhZ2F0aW9uSWZUYXJnZXRJc01lKGV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2NhbGN1bGF0ZUJvdW5kYXJ5ICgpIHtcclxuICAgICAgICBpZiAodGhpcy5jb250ZW50KSB7XHJcbiAgICAgICAgICAgIC8vIHJlZnJlc2ggY29udGVudCBzaXplXHJcbiAgICAgICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuY29udGVudC5nZXRDb21wb25lbnQoTGF5b3V0Q29tcG9uZW50KTtcclxuICAgICAgICAgICAgaWYgKGxheW91dCAmJiBsYXlvdXQuZW5hYmxlZEluSGllcmFyY2h5KSB7XHJcbiAgICAgICAgICAgICAgICBsYXlvdXQudXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgdmlld1NpemUgPSB0aGlzLnZpZXchLl91aVByb3BzLnVpVHJhbnNmb3JtQ29tcCEuY29udGVudFNpemU7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhbmNob3JYID0gdmlld1NpemUud2lkdGggKiB0aGlzLnZpZXchLmFuY2hvclg7XHJcbiAgICAgICAgICAgIGNvbnN0IGFuY2hvclkgPSB2aWV3U2l6ZS5oZWlnaHQgKiB0aGlzLnZpZXchLmFuY2hvclk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9sZWZ0Qm91bmRhcnkgPSAtYW5jaG9yWDtcclxuICAgICAgICAgICAgdGhpcy5fYm90dG9tQm91bmRhcnkgPSAtYW5jaG9yWTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3JpZ2h0Qm91bmRhcnkgPSB0aGlzLl9sZWZ0Qm91bmRhcnkgKyB2aWV3U2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fdG9wQm91bmRhcnkgPSB0aGlzLl9ib3R0b21Cb3VuZGFyeSArIHZpZXdTaXplLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX21vdmVDb250ZW50VG9Ub3BMZWZ0KHZpZXdTaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfaGFzTmVzdGVkVmlld0dyb3VwIChldmVudDogRXZlbnQsIGNhcHR1cmVMaXN0ZW5lcnM/OiBOb2RlW10pIHtcclxuICAgICAgICBpZiAoIWV2ZW50IHx8IGV2ZW50LmV2ZW50UGhhc2UgIT09IEV2ZW50LkNBUFRVUklOR19QSEFTRSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2FwdHVyZUxpc3RlbmVycykge1xyXG4gICAgICAgICAgICAvLyBjYXB0dXJlTGlzdGVuZXJzIGFyZSBhcnJhbmdlZCBmcm9tIGNoaWxkIHRvIHBhcmVudFxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIGNhcHR1cmVMaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBsaXN0ZW5lcjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ub2RlID09PSBpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAmJiAoZXZlbnQudGFyZ2V0IGFzIE5vZGUpLmdldENvbXBvbmVudChWaWV3R3JvdXBDb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uZ2V0Q29tcG9uZW50KFZpZXdHcm91cENvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9zdGFydEluZXJ0aWFTY3JvbGwgKHRvdWNoTW92ZVZlbG9jaXR5OiBWZWMzKSB7XHJcbiAgICAgICAgY29uc3QgaW5lcnRpYVRvdGFsTW92ZW1lbnQgPSBuZXcgVmVjMyh0b3VjaE1vdmVWZWxvY2l0eSk7XHJcbiAgICAgICAgaW5lcnRpYVRvdGFsTW92ZW1lbnQubXVsdGlwbHlTY2FsYXIoTU9WRU1FTlRfRkFDVE9SKTtcclxuICAgICAgICB0aGlzLl9zdGFydEF0dGVudWF0aW5nQXV0b1Njcm9sbChpbmVydGlhVG90YWxNb3ZlbWVudCwgdG91Y2hNb3ZlVmVsb2NpdHkpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfY2FsY3VsYXRlQXR0ZW51YXRlZEZhY3RvciAoZGlzdGFuY2U6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLmJyYWtlIDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICgxIC0gdGhpcy5icmFrZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBhdHRlbnVhdGUgZm9ybXVsYSBmcm9tOiBodHRwOi8vbGVhcm5vcGVuZ2wuY29tLyMhTGlnaHRpbmcvTGlnaHQtY2FzdGVyc1xyXG4gICAgICAgIHJldHVybiAoMSAtIHRoaXMuYnJha2UpICogKDEgLyAoMSArIGRpc3RhbmNlICogMC4wMDAwMTQgKyBkaXN0YW5jZSAqIGRpc3RhbmNlICogMC4wMDAwMDAwMDgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3N0YXJ0QXR0ZW51YXRpbmdBdXRvU2Nyb2xsIChkZWx0YU1vdmU6IFZlYzMsIGluaXRpYWxWZWxvY2l0eTogVmVjMykge1xyXG4gICAgICAgIGxldCB0aW1lID0gdGhpcy5fY2FsY3VsYXRlQXV0b1Njcm9sbFRpbWVCeUluaXRpYWxTcGVlZChpbml0aWFsVmVsb2NpdHkubGVuZ3RoKCkpO1xyXG5cclxuICAgICAgICBjb25zdCB0YXJnZXREZWx0YSA9IG5ldyBWZWMzKGRlbHRhTW92ZSk7XHJcbiAgICAgICAgdGFyZ2V0RGVsdGEubm9ybWFsaXplKCk7XHJcbiAgICAgICAgY29uc3QgY29udGVudFNpemUgPSB0aGlzLl9jb250ZW50IS5fdWlQcm9wcy51aVRyYW5zZm9ybUNvbXAhLmNvbnRlbnRTaXplO1xyXG4gICAgICAgIGNvbnN0IHNjcm9sbFZpZXdTaXplID0gdGhpcy5ub2RlLl91aVByb3BzLnVpVHJhbnNmb3JtQ29tcCEuY29udGVudFNpemU7XHJcblxyXG4gICAgICAgIGNvbnN0IHRvdGFsTW92ZVdpZHRoID0gKGNvbnRlbnRTaXplLndpZHRoIC0gc2Nyb2xsVmlld1NpemUud2lkdGgpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsTW92ZUhlaWdodCA9IChjb250ZW50U2l6ZS5oZWlnaHQgLSBzY3JvbGxWaWV3U2l6ZS5oZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCBhdHRlbnVhdGVkRmFjdG9yWCA9IHRoaXMuX2NhbGN1bGF0ZUF0dGVudWF0ZWRGYWN0b3IodG90YWxNb3ZlV2lkdGgpO1xyXG4gICAgICAgIGNvbnN0IGF0dGVudWF0ZWRGYWN0b3JZID0gdGhpcy5fY2FsY3VsYXRlQXR0ZW51YXRlZEZhY3Rvcih0b3RhbE1vdmVIZWlnaHQpO1xyXG5cclxuICAgICAgICB0YXJnZXREZWx0YS54ID0gdGFyZ2V0RGVsdGEueCAqIHRvdGFsTW92ZVdpZHRoICogKDEgLSB0aGlzLmJyYWtlKSAqIGF0dGVudWF0ZWRGYWN0b3JYO1xyXG4gICAgICAgIHRhcmdldERlbHRhLnkgPSB0YXJnZXREZWx0YS55ICogdG90YWxNb3ZlSGVpZ2h0ICogYXR0ZW51YXRlZEZhY3RvclkgKiAoMSAtIHRoaXMuYnJha2UpO1xyXG4gICAgICAgIHRhcmdldERlbHRhLnogPSAwO1xyXG5cclxuICAgICAgICBjb25zdCBvcmlnaW5hbE1vdmVMZW5ndGggPSBkZWx0YU1vdmUubGVuZ3RoKCk7XHJcbiAgICAgICAgbGV0IGZhY3RvciA9IHRhcmdldERlbHRhLmxlbmd0aCgpIC8gb3JpZ2luYWxNb3ZlTGVuZ3RoO1xyXG4gICAgICAgIHRhcmdldERlbHRhLmFkZChkZWx0YU1vdmUpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5icmFrZSA+IDAgJiYgZmFjdG9yID4gNykge1xyXG4gICAgICAgICAgICBmYWN0b3IgPSBNYXRoLnNxcnQoZmFjdG9yKTtcclxuICAgICAgICAgICAgY29uc3QgYSA9IG5ldyBWZWMzKGRlbHRhTW92ZSk7XHJcbiAgICAgICAgICAgIGEubXVsdGlwbHlTY2FsYXIoZmFjdG9yKTtcclxuICAgICAgICAgICAgdGFyZ2V0RGVsdGEuc2V0KGEpO1xyXG4gICAgICAgICAgICB0YXJnZXREZWx0YS5hZGQoZGVsdGFNb3ZlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmJyYWtlID4gMCAmJiBmYWN0b3IgPiAzKSB7XHJcbiAgICAgICAgICAgIGZhY3RvciA9IDM7XHJcbiAgICAgICAgICAgIHRpbWUgPSB0aW1lICogZmFjdG9yO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYnJha2UgPT09IDAgJiYgZmFjdG9yID4gMSkge1xyXG4gICAgICAgICAgICB0aW1lID0gdGltZSAqIGZhY3RvcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3N0YXJ0QXV0b1Njcm9sbCh0YXJnZXREZWx0YSwgdGltZSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9jYWxjdWxhdGVBdXRvU2Nyb2xsVGltZUJ5SW5pdGlhbFNwZWVkIChpbml0aWFsU3BlZWQ6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5zcXJ0KGluaXRpYWxTcGVlZCAvIDUpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3N0YXJ0QXV0b1Njcm9sbCAoZGVsdGFNb3ZlOiBWZWMzLCB0aW1lSW5TZWNvbmQ6IG51bWJlciwgYXR0ZW51YXRlZDogYm9vbGVhbiA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgYWRqdXN0ZWREZWx0YU1vdmUgPSB0aGlzLl9mbGF0dGVuVmVjdG9yQnlEaXJlY3Rpb24oZGVsdGFNb3ZlKTtcclxuXHJcbiAgICAgICAgdGhpcy5fYXV0b1Njcm9sbGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fYXV0b1Njcm9sbFRhcmdldERlbHRhID0gYWRqdXN0ZWREZWx0YU1vdmU7XHJcbiAgICAgICAgdGhpcy5fYXV0b1Njcm9sbEF0dGVudWF0ZSA9IGF0dGVudWF0ZWQ7XHJcbiAgICAgICAgVmVjMy5jb3B5KHRoaXMuX2F1dG9TY3JvbGxTdGFydFBvc2l0aW9uLCB0aGlzLmdldENvbnRlbnRQb3NpdGlvbigpKTtcclxuICAgICAgICB0aGlzLl9hdXRvU2Nyb2xsVG90YWxUaW1lID0gdGltZUluU2Vjb25kO1xyXG4gICAgICAgIHRoaXMuX2F1dG9TY3JvbGxBY2N1bXVsYXRlZFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuX2F1dG9TY3JvbGxCcmFraW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faXNTY3JvbGxFbmRlZFdpdGhUaHJlc2hvbGRFdmVudEZpcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fYXV0b1Njcm9sbEJyYWtpbmdTdGFydFBvc2l0aW9uID0gbmV3IFZlYzMoKTtcclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudE91dE9mQm91bmRhcnkgPSB0aGlzLl9nZXRIb3dNdWNoT3V0T2ZCb3VuZGFyeSgpO1xyXG4gICAgICAgIGlmICghY3VycmVudE91dE9mQm91bmRhcnkuZXF1YWxzKFpFUk8sIEVQU0lMT04pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F1dG9TY3JvbGxDdXJyZW50bHlPdXRPZkJvdW5kYXJ5ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9jYWxjdWxhdGVUb3VjaE1vdmVWZWxvY2l0eSAoKSB7XHJcbiAgICAgICAgbGV0IHRvdGFsVGltZSA9IDA7XHJcbiAgICAgICAgdG90YWxUaW1lID0gdGhpcy5fdG91Y2hNb3ZlVGltZURlbHRhcy5yZWR1Y2UoKGEsIGIpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIGEgKyBiO1xyXG4gICAgICAgIH0sIHRvdGFsVGltZSk7XHJcblxyXG4gICAgICAgIGlmICh0b3RhbFRpbWUgPD0gMCB8fCB0b3RhbFRpbWUgPj0gMC41KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjMygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHRvdGFsTW92ZW1lbnQgPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIHRvdGFsTW92ZW1lbnQgPSB0aGlzLl90b3VjaE1vdmVEaXNwbGFjZW1lbnRzLnJlZHVjZSgoYSwgYikgPT4ge1xyXG4gICAgICAgICAgICBhLmFkZChiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGE7XHJcbiAgICAgICAgfSwgdG90YWxNb3ZlbWVudCk7XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjMyh0b3RhbE1vdmVtZW50LnggKiAoMSAtIHRoaXMuYnJha2UpIC8gdG90YWxUaW1lLFxyXG4gICAgICAgICAgICB0b3RhbE1vdmVtZW50LnkgKiAoMSAtIHRoaXMuYnJha2UpIC8gdG90YWxUaW1lLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2ZsYXR0ZW5WZWN0b3JCeURpcmVjdGlvbiAodmVjdG9yOiBWZWMzKSB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdmVjdG9yO1xyXG4gICAgICAgIHJlc3VsdC54ID0gdGhpcy5ob3Jpem9udGFsID8gcmVzdWx0LnggOiAwO1xyXG4gICAgICAgIHJlc3VsdC55ID0gdGhpcy52ZXJ0aWNhbCA/IHJlc3VsdC55IDogMDtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfbW92ZUNvbnRlbnQgKGRlbHRhTW92ZTogVmVjMywgY2FuU3RhcnRCb3VuY2VCYWNrPzogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IGFkanVzdGVkTW92ZSA9IHRoaXMuX2ZsYXR0ZW5WZWN0b3JCeURpcmVjdGlvbihkZWx0YU1vdmUpO1xyXG4gICAgICAgIF90ZW1wVmVjMy5zZXQodGhpcy5nZXRDb250ZW50UG9zaXRpb24oKSk7XHJcbiAgICAgICAgX3RlbXBWZWMzLmFkZChhZGp1c3RlZE1vdmUpO1xyXG4gICAgICAgIF90ZW1wVmVjMy5zZXQoTWF0aC5mbG9vcihfdGVtcFZlYzMueCAqIFRPTEVSQU5DRSkgKiBFUFNJTE9OLCBNYXRoLmZsb29yKF90ZW1wVmVjMy55ICogVE9MRVJBTkNFKSAqIEVQU0lMT04sIF90ZW1wVmVjMy56KTtcclxuICAgICAgICB0aGlzLnNldENvbnRlbnRQb3NpdGlvbihfdGVtcFZlYzMpO1xyXG4gICAgICAgIGNvbnN0IG91dE9mQm91bmRhcnkgPSB0aGlzLl9nZXRIb3dNdWNoT3V0T2ZCb3VuZGFyeSgpO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVNjcm9sbEJhcihvdXRPZkJvdW5kYXJ5KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxhc3RpYyAmJiBjYW5TdGFydEJvdW5jZUJhY2spIHtcclxuICAgICAgICAgICAgdGhpcy5fc3RhcnRCb3VuY2VCYWNrSWZOZWVkZWQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9nZXRDb250ZW50TGVmdEJvdW5kYXJ5ICgpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50UG9zID0gdGhpcy5nZXRDb250ZW50UG9zaXRpb24oKTtcclxuICAgICAgICByZXR1cm4gY29udGVudFBvcy54IC0gdGhpcy5fY29udGVudCEuYW5jaG9yWCAqIHRoaXMuX2NvbnRlbnQhLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfZ2V0Q29udGVudFJpZ2h0Qm91bmRhcnkgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRDb250ZW50TGVmdEJvdW5kYXJ5KCkgKyB0aGlzLl9jb250ZW50IS53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2dldENvbnRlbnRUb3BCb3VuZGFyeSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldENvbnRlbnRCb3R0b21Cb3VuZGFyeSgpICsgdGhpcy5fY29udGVudCEuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfZ2V0Q29udGVudEJvdHRvbUJvdW5kYXJ5ICgpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50UG9zID0gdGhpcy5nZXRDb250ZW50UG9zaXRpb24oKTtcclxuICAgICAgICByZXR1cm4gY29udGVudFBvcy55IC0gdGhpcy5fY29udGVudCEuYW5jaG9yWSAqIHRoaXMuX2NvbnRlbnQhLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2dldEhvd011Y2hPdXRPZkJvdW5kYXJ5IChhZGRpdGlvbj86IFZlYzMpIHtcclxuICAgICAgICBhZGRpdGlvbiA9IGFkZGl0aW9uIHx8IG5ldyBWZWMzKCk7XHJcbiAgICAgICAgaWYgKGFkZGl0aW9uLmVxdWFscyhaRVJPLCBFUFNJTE9OKSAmJiAhdGhpcy5fb3V0T2ZCb3VuZGFyeUFtb3VudERpcnR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vdXRPZkJvdW5kYXJ5QW1vdW50O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG91dE9mQm91bmRhcnlBbW91bnQgPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIGlmICh0aGlzLl9nZXRDb250ZW50TGVmdEJvdW5kYXJ5KCkgKyBhZGRpdGlvbi54ID4gdGhpcy5fbGVmdEJvdW5kYXJ5KSB7XHJcbiAgICAgICAgICAgIG91dE9mQm91bmRhcnlBbW91bnQueCA9IHRoaXMuX2xlZnRCb3VuZGFyeSAtICh0aGlzLl9nZXRDb250ZW50TGVmdEJvdW5kYXJ5KCkgKyBhZGRpdGlvbi54KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2dldENvbnRlbnRSaWdodEJvdW5kYXJ5KCkgKyBhZGRpdGlvbi54IDwgdGhpcy5fcmlnaHRCb3VuZGFyeSkge1xyXG4gICAgICAgICAgICBvdXRPZkJvdW5kYXJ5QW1vdW50LnggPSB0aGlzLl9yaWdodEJvdW5kYXJ5IC0gKHRoaXMuX2dldENvbnRlbnRSaWdodEJvdW5kYXJ5KCkgKyBhZGRpdGlvbi54KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9nZXRDb250ZW50VG9wQm91bmRhcnkoKSArIGFkZGl0aW9uLnkgPCB0aGlzLl90b3BCb3VuZGFyeSkge1xyXG4gICAgICAgICAgICBvdXRPZkJvdW5kYXJ5QW1vdW50LnkgPSB0aGlzLl90b3BCb3VuZGFyeSAtICh0aGlzLl9nZXRDb250ZW50VG9wQm91bmRhcnkoKSArIGFkZGl0aW9uLnkpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fZ2V0Q29udGVudEJvdHRvbUJvdW5kYXJ5KCkgKyBhZGRpdGlvbi55ID4gdGhpcy5fYm90dG9tQm91bmRhcnkpIHtcclxuICAgICAgICAgICAgb3V0T2ZCb3VuZGFyeUFtb3VudC55ID0gdGhpcy5fYm90dG9tQm91bmRhcnkgLSAodGhpcy5fZ2V0Q29udGVudEJvdHRvbUJvdW5kYXJ5KCkgKyBhZGRpdGlvbi55KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhZGRpdGlvbi5lcXVhbHMoWkVSTywgRVBTSUxPTikpIHtcclxuICAgICAgICAgICAgdGhpcy5fb3V0T2ZCb3VuZGFyeUFtb3VudCA9IG91dE9mQm91bmRhcnlBbW91bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX291dE9mQm91bmRhcnlBbW91bnREaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3V0T2ZCb3VuZGFyeUFtb3VudCA9IHRoaXMuX2NsYW1wRGVsdGEob3V0T2ZCb3VuZGFyeUFtb3VudCk7XHJcbiAgICAgICAgcmV0dXJuIG91dE9mQm91bmRhcnlBbW91bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF91cGRhdGVTY3JvbGxCYXIgKG91dE9mQm91bmRhcnk6IFZlYzMpIHtcclxuICAgICAgICBpZiAodGhpcy5faG9yaXpvbnRhbFNjcm9sbEJhcikge1xyXG4gICAgICAgICAgICB0aGlzLl9ob3Jpem9udGFsU2Nyb2xsQmFyLm9uU2Nyb2xsKG91dE9mQm91bmRhcnkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMudmVydGljYWxTY3JvbGxCYXIpIHtcclxuICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbFNjcm9sbEJhci5vblNjcm9sbChvdXRPZkJvdW5kYXJ5KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9vblNjcm9sbEJhclRvdWNoQmVnYW4gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9ob3Jpem9udGFsU2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXIub25Ub3VjaEJlZ2FuKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy52ZXJ0aWNhbFNjcm9sbEJhcikge1xyXG4gICAgICAgICAgICB0aGlzLnZlcnRpY2FsU2Nyb2xsQmFyLm9uVG91Y2hCZWdhbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX29uU2Nyb2xsQmFyVG91Y2hFbmRlZCAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5faG9yaXpvbnRhbFNjcm9sbEJhci5vblRvdWNoRW5kZWQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMudmVydGljYWxTY3JvbGxCYXIub25Ub3VjaEVuZGVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfZGlzcGF0Y2hFdmVudCAoZXZlbnQ6IHN0cmluZykge1xyXG4gICAgICAgIGlmIChldmVudCA9PT0gRXZlbnRUeXBlLlNDUk9MTF9FTkRFRCkge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxFdmVudEVtaXRNYXNrID0gMDtcclxuXHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gRXZlbnRUeXBlLlNDUk9MTF9UT19UT1BcclxuICAgICAgICAgICAgfHwgZXZlbnQgPT09IEV2ZW50VHlwZS5TQ1JPTExfVE9fQk9UVE9NXHJcbiAgICAgICAgICAgIHx8IGV2ZW50ID09PSBFdmVudFR5cGUuU0NST0xMX1RPX0xFRlRcclxuICAgICAgICAgICAgfHwgZXZlbnQgPT09IEV2ZW50VHlwZS5TQ1JPTExfVE9fUklHSFQpIHtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGZsYWcgPSAoMSA8PCBldmVudE1hcFtldmVudF0pO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc2Nyb2xsRXZlbnRFbWl0TWFzayAmIGZsYWcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3Njcm9sbEV2ZW50RW1pdE1hc2sgfD0gZmxhZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQ29tcG9uZW50RXZlbnRIYW5kbGVyLmVtaXRFdmVudHModGhpcy5zY3JvbGxFdmVudHMsIHRoaXMsIGV2ZW50TWFwW2V2ZW50XSk7XHJcbiAgICAgICAgdGhpcy5ub2RlLmVtaXQoZXZlbnQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfYWRqdXN0Q29udGVudE91dE9mQm91bmRhcnkgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fY29udGVudCl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX291dE9mQm91bmRhcnlBbW91bnREaXJ0eSA9IHRydWU7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzT3V0T2ZCb3VuZGFyeSgpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dE9mQm91bmRhcnkgPSB0aGlzLl9nZXRIb3dNdWNoT3V0T2ZCb3VuZGFyeSgpO1xyXG4gICAgICAgICAgICBfdGVtcFZlYzMuc2V0KHRoaXMuZ2V0Q29udGVudFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICBfdGVtcFZlYzMuYWRkKG91dE9mQm91bmRhcnkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGVudC5zZXRQb3NpdGlvbihfdGVtcFZlYzMpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlU2Nyb2xsQmFyKFpFUk8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfaGlkZVNjcm9sbEJhciAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5faG9yaXpvbnRhbFNjcm9sbEJhci5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fdmVydGljYWxTY3JvbGxCYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmVydGljYWxTY3JvbGxCYXIuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3Nob3dTY3JvbGxCYXIgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9ob3Jpem9udGFsU2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXIuc2hvdygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3ZlcnRpY2FsU2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRpY2FsU2Nyb2xsQmFyLnNob3coKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVGhpcyBpcyBmb3IgU2Nyb2xsVmlldyBhcyBjaGlsZHJlbiBvZiBhIEJ1dHRvblxyXG4gICAgcHJvdGVjdGVkIF9zdG9wUHJvcGFnYXRpb25JZlRhcmdldElzTWUgKGV2ZW50OiBFdmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC5ldmVudFBoYXNlID09PSBFdmVudC5BVF9UQVJHRVQgJiYgZXZlbnQudGFyZ2V0ID09PSB0aGlzLm5vZGUpIHtcclxuICAgICAgICAgICAgZXZlbnQucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9wcm9jZXNzRGVsdGFNb3ZlIChkZWx0YU1vdmU6IFZlYzMpIHtcclxuICAgICAgICB0aGlzLl9zY3JvbGxDaGlsZHJlbihkZWx0YU1vdmUpO1xyXG4gICAgICAgIHRoaXMuX2dhdGhlclRvdWNoTW92ZShkZWx0YU1vdmUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfaGFuZGxlTW92ZUxvZ2ljICh0b3VjaDogVG91Y2gpIHtcclxuICAgICAgICB0aGlzLl9kZWx0YVBvcy5zZXQodGhpcy5fZ2V0TG9jYWxBeGlzQWxpZ25EZWx0YSh0b3VjaCkpO1xyXG4gICAgICAgIHRoaXMuX3Byb2Nlc3NEZWx0YU1vdmUodGhpcy5fZGVsdGFQb3MpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfaGFuZGxlUmVsZWFzZUxvZ2ljICh0b3VjaDogVG91Y2gpIHtcclxuICAgICAgICB0aGlzLl9kZWx0YVBvcy5zZXQodGhpcy5fZ2V0TG9jYWxBeGlzQWxpZ25EZWx0YSh0b3VjaCkpO1xyXG4gICAgICAgIHRoaXMuX2dhdGhlclRvdWNoTW92ZSh0aGlzLl9kZWx0YVBvcyk7XHJcbiAgICAgICAgdGhpcy5fcHJvY2Vzc0luZXJ0aWFTY3JvbGwoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3Njcm9sbGluZykge1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvU2Nyb2xsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5TQ1JPTExfRU5ERUQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfZ2V0TG9jYWxBeGlzQWxpZ25EZWx0YSAodG91Y2g6IFRvdWNoKXtcclxuICAgICAgICBjb25zdCB1aVRyYW5zZm9ybUNvbXAgPSB0aGlzLm5vZGUuX3VpUHJvcHMudWlUcmFuc2Zvcm1Db21wO1xyXG4gICAgICAgIGNvbnN0IHZlYyA9IG5ldyBWZWMzKCk7XHJcblxyXG4gICAgICAgIGlmICh1aVRyYW5zZm9ybUNvbXApIHtcclxuICAgICAgICAgICAgdG91Y2guZ2V0VUlMb2NhdGlvbihfdGVtcFZlYzIpO1xyXG4gICAgICAgICAgICB0b3VjaC5nZXRVSVByZXZpb3VzTG9jYXRpb24oX3RlbXBWZWMyXzEpO1xyXG4gICAgICAgICAgICBfdGVtcFZlYzMuc2V0KF90ZW1wVmVjMi54LCBfdGVtcFZlYzIueSwgMCk7XHJcbiAgICAgICAgICAgIF90ZW1wVmVjM18xLnNldChfdGVtcFZlYzJfMS54LCBfdGVtcFZlYzJfMS55LCAwKTtcclxuICAgICAgICAgICAgdWlUcmFuc2Zvcm1Db21wLmNvbnZlcnRUb05vZGVTcGFjZUFSKF90ZW1wVmVjMywgX3RlbXBWZWMzKTtcclxuICAgICAgICAgICAgdWlUcmFuc2Zvcm1Db21wLmNvbnZlcnRUb05vZGVTcGFjZUFSKF90ZW1wVmVjM18xLCBfdGVtcFZlYzNfMSk7XHJcbiAgICAgICAgICAgIFZlYzMuc3VidHJhY3QodmVjLCBfdGVtcFZlYzMsIF90ZW1wVmVjM18xKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB2ZWM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9zY3JvbGxDaGlsZHJlbiAoZGVsdGFNb3ZlOiBWZWMzKSB7XHJcbiAgICAgICAgZGVsdGFNb3ZlID0gdGhpcy5fY2xhbXBEZWx0YShkZWx0YU1vdmUpO1xyXG5cclxuICAgICAgICBjb25zdCByZWFsTW92ZSA9IGRlbHRhTW92ZTtcclxuICAgICAgICBsZXQgb3V0T2ZCb3VuZGFyeTogVmVjMztcclxuICAgICAgICBpZiAodGhpcy5lbGFzdGljKSB7XHJcbiAgICAgICAgICAgIG91dE9mQm91bmRhcnkgPSB0aGlzLl9nZXRIb3dNdWNoT3V0T2ZCb3VuZGFyeSgpO1xyXG4gICAgICAgICAgICByZWFsTW92ZS54ICo9IChvdXRPZkJvdW5kYXJ5LnggPT09IDAgPyAxIDogMC41KTtcclxuICAgICAgICAgICAgcmVhbE1vdmUueSAqPSAob3V0T2ZCb3VuZGFyeS55ID09PSAwID8gMSA6IDAuNSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXRoaXMuZWxhc3RpYykge1xyXG4gICAgICAgICAgICBvdXRPZkJvdW5kYXJ5ID0gdGhpcy5fZ2V0SG93TXVjaE91dE9mQm91bmRhcnkocmVhbE1vdmUpO1xyXG4gICAgICAgICAgICByZWFsTW92ZS5hZGQob3V0T2ZCb3VuZGFyeSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgc2Nyb2xsRXZlbnRUeXBlO1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuX2NvbnRlbnQhLnBvc2l0aW9uO1xyXG5cclxuICAgICAgICBpZiAocmVhbE1vdmUueSA+IDApIHsgLy8gdXBcclxuICAgICAgICAgICAgY29uc3QgaWNCb3R0b21Qb3MgPSBwb3MueSAtIHRoaXMuX2NvbnRlbnQhLmFuY2hvclkgKiB0aGlzLl9jb250ZW50IS5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoaWNCb3R0b21Qb3MgKyByZWFsTW92ZS55ID49IHRoaXMuX2JvdHRvbUJvdW5kYXJ5KSB7XHJcbiAgICAgICAgICAgICAgICBzY3JvbGxFdmVudFR5cGUgPSBFdmVudFR5cGUuU0NST0xMX1RPX0JPVFRPTTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocmVhbE1vdmUueSA8IDApIHsgLy8gZG93blxyXG4gICAgICAgICAgICBjb25zdCBpY1RvcFBvcyA9IHBvcy55IC0gdGhpcy5fY29udGVudCEuYW5jaG9yWSAqIHRoaXMuX2NvbnRlbnQhLmhlaWdodCArIHRoaXMuX2NvbnRlbnQhLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgIGlmIChpY1RvcFBvcyArIHJlYWxNb3ZlLnkgPD0gdGhpcy5fdG9wQm91bmRhcnkpIHtcclxuICAgICAgICAgICAgICAgIHNjcm9sbEV2ZW50VHlwZSA9IEV2ZW50VHlwZS5TQ1JPTExfVE9fVE9QO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChyZWFsTW92ZS54IDwgMCkgeyAvLyBsZWZ0XHJcbiAgICAgICAgICAgIGNvbnN0IGljUmlnaHRQb3MgPSBwb3MueCAtIHRoaXMuX2NvbnRlbnQhLmFuY2hvclggKiB0aGlzLl9jb250ZW50IS53aWR0aCArIHRoaXMuX2NvbnRlbnQhLndpZHRoO1xyXG4gICAgICAgICAgICBpZiAoaWNSaWdodFBvcyArIHJlYWxNb3ZlLnggPD0gdGhpcy5fcmlnaHRCb3VuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsRXZlbnRUeXBlID0gRXZlbnRUeXBlLlNDUk9MTF9UT19SSUdIVDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAocmVhbE1vdmUueCA+IDApIHsgLy8gcmlnaHRcclxuICAgICAgICAgICAgY29uc3QgaWNMZWZ0UG9zID0gcG9zLnggLSB0aGlzLl9jb250ZW50IS5hbmNob3JYICogdGhpcy5fY29udGVudCEud2lkdGg7XHJcbiAgICAgICAgICAgIGlmIChpY0xlZnRQb3MgKyByZWFsTW92ZS54ID49IHRoaXMuX2xlZnRCb3VuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgc2Nyb2xsRXZlbnRUeXBlID0gRXZlbnRUeXBlLlNDUk9MTF9UT19MRUZUO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9tb3ZlQ29udGVudChyZWFsTW92ZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICBpZiAocmVhbE1vdmUueCAhPT0gMCB8fCByZWFsTW92ZS55ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fc2Nyb2xsaW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zY3JvbGxpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuU0NST0xMX0JFR0FOKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5TQ1JPTExJTkcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNjcm9sbEV2ZW50VHlwZSAmJiBzY3JvbGxFdmVudFR5cGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KHNjcm9sbEV2ZW50VHlwZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2hhbmRsZVByZXNzTG9naWMgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hdXRvU2Nyb2xsaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLlNDUk9MTF9FTkRFRCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9hdXRvU2Nyb2xsaW5nID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5faXNCb3VuY2luZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLl90b3VjaE1vdmVQcmV2aW91c1RpbWVzdGFtcCA9IGdldFRpbWVJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgIHRoaXMuX3RvdWNoTW92ZURpc3BsYWNlbWVudHMubGVuZ3RoID0gMDtcclxuICAgICAgICB0aGlzLl90b3VjaE1vdmVUaW1lRGVsdGFzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuX29uU2Nyb2xsQmFyVG91Y2hCZWdhbigpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfY2xhbXBEZWx0YSAoZGVsdGE6IFZlYzMpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50U2l6ZSA9IHRoaXMuX2NvbnRlbnQhLl91aVByb3BzLnVpVHJhbnNmb3JtQ29tcCEuY29udGVudFNpemU7XHJcbiAgICAgICAgY29uc3Qgc2Nyb2xsVmlld1NpemUgPSB0aGlzLm5vZGUuX3VpUHJvcHMudWlUcmFuc2Zvcm1Db21wIS5jb250ZW50U2l6ZTtcclxuICAgICAgICBpZiAoY29udGVudFNpemUud2lkdGggPCBzY3JvbGxWaWV3U2l6ZS53aWR0aCkge1xyXG4gICAgICAgICAgICBkZWx0YS54ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbnRlbnRTaXplLmhlaWdodCA8IHNjcm9sbFZpZXdTaXplLmhlaWdodCkge1xyXG4gICAgICAgICAgICBkZWx0YS55ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkZWx0YTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2dhdGhlclRvdWNoTW92ZSAoZGVsdGE6IFZlYzMpIHtcclxuICAgICAgICBjb25zdCBjbGFtcER0ID0gZGVsdGEuY2xvbmUoKTtcclxuICAgICAgICB0aGlzLl9jbGFtcERlbHRhKGNsYW1wRHQpO1xyXG5cclxuICAgICAgICB3aGlsZSAodGhpcy5fdG91Y2hNb3ZlRGlzcGxhY2VtZW50cy5sZW5ndGggPj0gTlVNQkVSX09GX0dBVEhFUkVEX1RPVUNIRVNfRk9SX01PVkVfU1BFRUQpIHtcclxuICAgICAgICAgICAgdGhpcy5fdG91Y2hNb3ZlRGlzcGxhY2VtZW50cy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB0aGlzLl90b3VjaE1vdmVUaW1lRGVsdGFzLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl90b3VjaE1vdmVEaXNwbGFjZW1lbnRzLnB1c2goY2xhbXBEdCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHRpbWVTdGFtcCA9IGdldFRpbWVJbk1pbGxpc2Vjb25kcygpO1xyXG4gICAgICAgIHRoaXMuX3RvdWNoTW92ZVRpbWVEZWx0YXMucHVzaCgodGltZVN0YW1wIC0gdGhpcy5fdG91Y2hNb3ZlUHJldmlvdXNUaW1lc3RhbXApIC8gMTAwMCk7XHJcbiAgICAgICAgdGhpcy5fdG91Y2hNb3ZlUHJldmlvdXNUaW1lc3RhbXAgPSB0aW1lU3RhbXA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9zdGFydEJvdW5jZUJhY2tJZk5lZWRlZCAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmVsYXN0aWMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGJvdW5jZUJhY2tBbW91bnQgPSB0aGlzLl9nZXRIb3dNdWNoT3V0T2ZCb3VuZGFyeSgpO1xyXG4gICAgICAgIGJvdW5jZUJhY2tBbW91bnQgPSB0aGlzLl9jbGFtcERlbHRhKGJvdW5jZUJhY2tBbW91bnQpO1xyXG5cclxuICAgICAgICBpZiAoYm91bmNlQmFja0Ftb3VudC5lcXVhbHMoWkVSTywgRVBTSUxPTikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYm91bmNlQmFja1RpbWUgPSBNYXRoLm1heCh0aGlzLmJvdW5jZUR1cmF0aW9uLCAwKTtcclxuICAgICAgICB0aGlzLl9zdGFydEF1dG9TY3JvbGwoYm91bmNlQmFja0Ftb3VudCwgYm91bmNlQmFja1RpbWUsIHRydWUpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuX2lzQm91bmNpbmcpIHtcclxuICAgICAgICAgICAgaWYgKGJvdW5jZUJhY2tBbW91bnQueSA+IDApIHsgdGhpcy5fZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQk9VTkNFX1RPUCk7IH1cclxuICAgICAgICAgICAgaWYgKGJvdW5jZUJhY2tBbW91bnQueSA8IDApIHsgdGhpcy5fZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQk9VTkNFX0JPVFRPTSk7IH1cclxuICAgICAgICAgICAgaWYgKGJvdW5jZUJhY2tBbW91bnQueCA+IDApIHsgdGhpcy5fZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuQk9VTkNFX1JJR0hUKTsgfVxyXG4gICAgICAgICAgICBpZiAoYm91bmNlQmFja0Ftb3VudC54IDwgMCkgeyB0aGlzLl9kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5CT1VOQ0VfTEVGVCk7IH1cclxuICAgICAgICAgICAgdGhpcy5faXNCb3VuY2luZyA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3Byb2Nlc3NJbmVydGlhU2Nyb2xsICgpIHtcclxuICAgICAgICBjb25zdCBib3VuY2VCYWNrU3RhcnRlZCA9IHRoaXMuX3N0YXJ0Qm91bmNlQmFja0lmTmVlZGVkKCk7XHJcbiAgICAgICAgaWYgKCFib3VuY2VCYWNrU3RhcnRlZCAmJiB0aGlzLmluZXJ0aWEpIHtcclxuICAgICAgICAgICAgY29uc3QgdG91Y2hNb3ZlVmVsb2NpdHkgPSB0aGlzLl9jYWxjdWxhdGVUb3VjaE1vdmVWZWxvY2l0eSgpO1xyXG4gICAgICAgICAgICBpZiAoIXRvdWNoTW92ZVZlbG9jaXR5LmVxdWFscyhfdGVtcFZlYzMsIEVQU0lMT04pICYmIHRoaXMuYnJha2UgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydEluZXJ0aWFTY3JvbGwodG91Y2hNb3ZlVmVsb2NpdHkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9vblNjcm9sbEJhclRvdWNoRW5kZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2lzT3V0T2ZCb3VuZGFyeSAoKSB7XHJcbiAgICAgICAgY29uc3Qgb3V0T2ZCb3VuZGFyeSA9IHRoaXMuX2dldEhvd011Y2hPdXRPZkJvdW5kYXJ5KCk7XHJcbiAgICAgICAgcmV0dXJuICFvdXRPZkJvdW5kYXJ5LmVxdWFscyhaRVJPLCBFUFNJTE9OKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2lzTmVjZXNzYXJ5QXV0b1Njcm9sbEJyYWtlICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fYXV0b1Njcm9sbEJyYWtpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5faXNPdXRPZkJvdW5kYXJ5KCkpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLl9hdXRvU2Nyb2xsQ3VycmVudGx5T3V0T2ZCb3VuZGFyeSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1Njcm9sbEN1cnJlbnRseU91dE9mQm91bmRhcnkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1Njcm9sbEJyYWtpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fYXV0b1Njcm9sbEJyYWtpbmdTdGFydFBvc2l0aW9uID0gdGhpcy5nZXRDb250ZW50UG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F1dG9TY3JvbGxDdXJyZW50bHlPdXRPZkJvdW5kYXJ5ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9wcm9jZXNzQXV0b1Njcm9sbGluZyAoZHQpIHtcclxuICAgICAgICBjb25zdCBpc0F1dG9TY3JvbGxCcmFrZSA9IHRoaXMuX2lzTmVjZXNzYXJ5QXV0b1Njcm9sbEJyYWtlKCk7XHJcbiAgICAgICAgY29uc3QgYnJha2luZ0ZhY3RvciA9IGlzQXV0b1Njcm9sbEJyYWtlID8gT1VUX09GX0JPVU5EQVJZX0JSRUFLSU5HX0ZBQ1RPUiA6IDE7XHJcbiAgICAgICAgdGhpcy5fYXV0b1Njcm9sbEFjY3VtdWxhdGVkVGltZSArPSBkdCAqICgxIC8gYnJha2luZ0ZhY3Rvcik7XHJcblxyXG4gICAgICAgIGxldCBwZXJjZW50YWdlID0gTWF0aC5taW4oMSwgdGhpcy5fYXV0b1Njcm9sbEFjY3VtdWxhdGVkVGltZSAvIHRoaXMuX2F1dG9TY3JvbGxUb3RhbFRpbWUpO1xyXG4gICAgICAgIGlmICh0aGlzLl9hdXRvU2Nyb2xsQXR0ZW51YXRlKSB7XHJcbiAgICAgICAgICAgIHBlcmNlbnRhZ2UgPSBxdWludEVhc2VPdXQocGVyY2VudGFnZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhID0gbmV3IFZlYzModGhpcy5fYXV0b1Njcm9sbFRhcmdldERlbHRhKTtcclxuICAgICAgICBhLm11bHRpcGx5U2NhbGFyKHBlcmNlbnRhZ2UpO1xyXG4gICAgICAgIGNvbnN0IG5ld1Bvc2l0aW9uID0gbmV3IFZlYzModGhpcy5fYXV0b1Njcm9sbFN0YXJ0UG9zaXRpb24pO1xyXG4gICAgICAgIG5ld1Bvc2l0aW9uLmFkZChhKTtcclxuICAgICAgICBsZXQgcmVhY2hlZEVuZCA9IE1hdGguYWJzKHBlcmNlbnRhZ2UgLSAxKSA8PSBFUFNJTE9OO1xyXG5cclxuICAgICAgICBjb25zdCBmaXJlRXZlbnQgPSBNYXRoLmFicyhwZXJjZW50YWdlIC0gMSkgPD0gdGhpcy5nZXRTY3JvbGxFbmRlZEV2ZW50VGltaW5nKCk7XHJcbiAgICAgICAgaWYgKGZpcmVFdmVudCAmJiAhdGhpcy5faXNTY3JvbGxFbmRlZFdpdGhUaHJlc2hvbGRFdmVudEZpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoRXZlbnQoRXZlbnRUeXBlLlNDUk9MTF9FTkdfV0lUSF9USFJFU0hPTEQpO1xyXG4gICAgICAgICAgICB0aGlzLl9pc1Njcm9sbEVuZGVkV2l0aFRocmVzaG9sZEV2ZW50RmlyZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZWxhc3RpYykge1xyXG4gICAgICAgICAgICBjb25zdCBicmFrZU9mZnNldFBvc2l0aW9uID0gbmV3IFZlYzMobmV3UG9zaXRpb24pO1xyXG4gICAgICAgICAgICBicmFrZU9mZnNldFBvc2l0aW9uLnN1YnRyYWN0KHRoaXMuX2F1dG9TY3JvbGxCcmFraW5nU3RhcnRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIGlmIChpc0F1dG9TY3JvbGxCcmFrZSkge1xyXG4gICAgICAgICAgICAgICAgYnJha2VPZmZzZXRQb3NpdGlvbi5tdWx0aXBseVNjYWxhcihicmFraW5nRmFjdG9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBuZXdQb3NpdGlvbi5zZXQodGhpcy5fYXV0b1Njcm9sbEJyYWtpbmdTdGFydFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgbmV3UG9zaXRpb24uYWRkKGJyYWtlT2Zmc2V0UG9zaXRpb24pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vdmVEZWx0YSA9IG5ldyBWZWMzKG5ld1Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgbW92ZURlbHRhLnN1YnRyYWN0KHRoaXMuZ2V0Q29udGVudFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICBjb25zdCBvdXRPZkJvdW5kYXJ5ID0gdGhpcy5fZ2V0SG93TXVjaE91dE9mQm91bmRhcnkobW92ZURlbHRhKTtcclxuICAgICAgICAgICAgaWYgKCFvdXRPZkJvdW5kYXJ5LmVxdWFscyhaRVJPLCBFUFNJTE9OKSkge1xyXG4gICAgICAgICAgICAgICAgbmV3UG9zaXRpb24uYWRkKG91dE9mQm91bmRhcnkpO1xyXG4gICAgICAgICAgICAgICAgcmVhY2hlZEVuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZWFjaGVkRW5kKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2F1dG9TY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGRlbHRhTW92ZSA9IG5ldyBWZWMzKG5ld1Bvc2l0aW9uKTtcclxuICAgICAgICBkZWx0YU1vdmUuc3VidHJhY3QodGhpcy5nZXRDb250ZW50UG9zaXRpb24oKSk7XHJcbiAgICAgICAgdGhpcy5fbW92ZUNvbnRlbnQodGhpcy5fY2xhbXBEZWx0YShkZWx0YU1vdmUpLCByZWFjaGVkRW5kKTtcclxuICAgICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KEV2ZW50VHlwZS5TQ1JPTExJTkcpO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuX2F1dG9TY3JvbGxpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNCb3VuY2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLl9zY3JvbGxpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2hFdmVudChFdmVudFR5cGUuU0NST0xMX0VOREVEKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9jaGVja01vdXNlV2hlZWwgKGR0OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50T3V0T2ZCb3VuZGFyeSA9IHRoaXMuX2dldEhvd011Y2hPdXRPZkJvdW5kYXJ5KCk7XHJcbiAgICAgICAgY29uc3QgbWF4RWxhcHNlZFRpbWUgPSAwLjE7XHJcblxyXG4gICAgICAgIGlmICghY3VycmVudE91dE9mQm91bmRhcnkuZXF1YWxzKFpFUk8sIEVQU0lMT04pKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NJbmVydGlhU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLl9jaGVja01vdXNlV2hlZWwpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdG9wTW91c2VXaGVlbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9tb3VzZVdoZWVsRXZlbnRFbGFwc2VkVGltZSArPSBkdDtcclxuXHJcbiAgICAgICAgLy8gbW91c2Ugd2hlZWwgZXZlbnQgaXMgZW5kZWRcclxuICAgICAgICBpZiAodGhpcy5fbW91c2VXaGVlbEV2ZW50RWxhcHNlZFRpbWUgPiBtYXhFbGFwc2VkVGltZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vblNjcm9sbEJhclRvdWNoRW5kZWQoKTtcclxuICAgICAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuX2NoZWNrTW91c2VXaGVlbCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N0b3BNb3VzZVdoZWVsID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfY2FsY3VsYXRlTW92ZVBlcmNlbnREZWx0YSAob3B0aW9ucykge1xyXG4gICAgICAgIGNvbnN0IGFuY2hvciA9IG9wdGlvbnMuYW5jaG9yO1xyXG4gICAgICAgIGNvbnN0IGFwcGx5VG9Ib3Jpem9udGFsID0gb3B0aW9ucy5hcHBseVRvSG9yaXpvbnRhbDtcclxuICAgICAgICBjb25zdCBhcHBseVRvVmVydGljYWwgPSBvcHRpb25zLmFwcGx5VG9WZXJ0aWNhbDtcclxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZGFyeSgpO1xyXG5cclxuICAgICAgICBhbmNob3IuY2xhbXBmKG5ldyBWZWMyKDAsIDApLCBuZXcgVmVjMigxLCAxKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNjcm9sbFNpemUgPSB0aGlzLm5vZGUuX3VpUHJvcHMudWlUcmFuc2Zvcm1Db21wIS5jb250ZW50U2l6ZTtcclxuICAgICAgICBjb25zdCBjb250ZW50U2l6ZSA9IHRoaXMuX2NvbnRlbnQhLl91aVByb3BzLnVpVHJhbnNmb3JtQ29tcCEuY29udGVudFNpemU7XHJcbiAgICAgICAgbGV0IGJvdHRvbURlbHRhID0gdGhpcy5fZ2V0Q29udGVudEJvdHRvbUJvdW5kYXJ5KCkgLSB0aGlzLl9ib3R0b21Cb3VuZGFyeTtcclxuICAgICAgICBib3R0b21EZWx0YSA9IC1ib3R0b21EZWx0YTtcclxuXHJcbiAgICAgICAgbGV0IGxlZnREZWx0YSA9IHRoaXMuX2dldENvbnRlbnRMZWZ0Qm91bmRhcnkoKSAtIHRoaXMuX2xlZnRCb3VuZGFyeTtcclxuICAgICAgICBsZWZ0RGVsdGEgPSAtbGVmdERlbHRhO1xyXG5cclxuICAgICAgICBjb25zdCBtb3ZlRGVsdGEgPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIGxldCB0b3RhbFNjcm9sbERlbHRhID0gMDtcclxuICAgICAgICBpZiAoYXBwbHlUb0hvcml6b250YWwpIHtcclxuICAgICAgICAgICAgdG90YWxTY3JvbGxEZWx0YSA9IGNvbnRlbnRTaXplLndpZHRoIC0gc2Nyb2xsU2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgbW92ZURlbHRhLnggPSBsZWZ0RGVsdGEgLSB0b3RhbFNjcm9sbERlbHRhICogYW5jaG9yLng7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYXBwbHlUb1ZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIHRvdGFsU2Nyb2xsRGVsdGEgPSBjb250ZW50U2l6ZS5oZWlnaHQgLSBzY3JvbGxTaXplLmhlaWdodDtcclxuICAgICAgICAgICAgbW92ZURlbHRhLnkgPSBib3R0b21EZWx0YSAtIHRvdGFsU2Nyb2xsRGVsdGEgKiBhbmNob3IueTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBtb3ZlRGVsdGE7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9tb3ZlQ29udGVudFRvVG9wTGVmdCAoc2Nyb2xsVmlld1NpemU6IFNpemUpIHtcclxuICAgICAgICBjb25zdCBjb250ZW50U2l6ZSA9IHRoaXMuX2NvbnRlbnQhLl91aVByb3BzLnVpVHJhbnNmb3JtQ29tcCEuY29udGVudFNpemU7XHJcblxyXG4gICAgICAgIGxldCBib3R0b21EZWx0YSA9IHRoaXMuX2dldENvbnRlbnRCb3R0b21Cb3VuZGFyeSgpIC0gdGhpcy5fYm90dG9tQm91bmRhcnk7XHJcbiAgICAgICAgYm90dG9tRGVsdGEgPSAtYm90dG9tRGVsdGE7XHJcbiAgICAgICAgY29uc3QgbW92ZURlbHRhID0gbmV3IFZlYzMoKTtcclxuICAgICAgICBsZXQgdG90YWxTY3JvbGxEZWx0YSA9IDA7XHJcblxyXG4gICAgICAgIGxldCBsZWZ0RGVsdGEgPSB0aGlzLl9nZXRDb250ZW50TGVmdEJvdW5kYXJ5KCkgLSB0aGlzLl9sZWZ0Qm91bmRhcnk7XHJcbiAgICAgICAgbGVmdERlbHRhID0gLWxlZnREZWx0YTtcclxuXHJcbiAgICAgICAgLy8g5piv5ZCm6ZmQ5Yi25Zyo5LiK6KeG5Yy65LiK6L65XHJcbiAgICAgICAgaWYgKGNvbnRlbnRTaXplLmhlaWdodCA8IHNjcm9sbFZpZXdTaXplLmhlaWdodCkge1xyXG4gICAgICAgICAgICB0b3RhbFNjcm9sbERlbHRhID0gY29udGVudFNpemUuaGVpZ2h0IC0gc2Nyb2xsVmlld1NpemUuaGVpZ2h0O1xyXG4gICAgICAgICAgICBtb3ZlRGVsdGEueSA9IGJvdHRvbURlbHRhIC0gdG90YWxTY3JvbGxEZWx0YTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsU2Nyb2xsQmFyLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZlcnRpY2FsU2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsU2Nyb2xsQmFyLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g5piv5ZCm6ZmQ5Yi25Zyo5LiK6KeG5Yy65bem6L65XHJcbiAgICAgICAgaWYgKGNvbnRlbnRTaXplLndpZHRoIDwgc2Nyb2xsVmlld1NpemUud2lkdGgpIHtcclxuICAgICAgICAgICAgdG90YWxTY3JvbGxEZWx0YSA9IGNvbnRlbnRTaXplLndpZHRoIC0gc2Nyb2xsVmlld1NpemUud2lkdGg7XHJcbiAgICAgICAgICAgIG1vdmVEZWx0YS54ID0gbGVmdERlbHRhO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hvcml6b250YWxTY3JvbGxCYXIuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9ob3Jpem9udGFsU2Nyb2xsQmFyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ob3Jpem9udGFsU2Nyb2xsQmFyLnNob3coKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fbW92ZUNvbnRlbnQobW92ZURlbHRhKTtcclxuICAgICAgICB0aGlzLl9hZGp1c3RDb250ZW50T3V0T2ZCb3VuZGFyeSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfc2NhbGVDaGFuZ2VkICh2YWx1ZTogVHJhbnNmb3JtQml0KXtcclxuICAgICAgICBpZiAodmFsdWUgPT09IFRyYW5zZm9ybUJpdC5TQ0FMRSkge1xyXG4gICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZGFyeSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY2MuU2Nyb2xsVmlld0NvbXBvbmVudCA9IFNjcm9sbFZpZXdDb21wb25lbnQ7XHJcblxyXG4vKipcclxuICogQGVuXHJcbiAqIE5vdGU6IFRoaXMgZXZlbnQgaXMgZW1pdHRlZCBmcm9tIHRoZSBub2RlIHRvIHdoaWNoIHRoZSBjb21wb25lbnQgYmVsb25ncy5cclxuICogQHpoXHJcbiAqIOazqOaEj++8muatpOS6i+S7tuaYr+S7juivpee7hOS7tuaJgOWxnueahCBOb2RlIOS4iumdoua0vuWPkeWHuuadpeeahO+8jOmcgOimgeeUqCBub2RlLm9uIOadpeebkeWQrOOAglxyXG4gKiBAZXZlbnQgc2Nyb2xsLXRvLXRvcFxyXG4gKiBAcGFyYW0ge0V2ZW50LkV2ZW50Q3VzdG9tfSBldmVudFxyXG4gKiBAcGFyYW0ge1Njcm9sbFZpZXd9IHNjcm9sbFZpZXcgLSBUaGUgU2Nyb2xsVmlldyBjb21wb25lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBlblxyXG4gKiBOb3RlOiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgZnJvbSB0aGUgbm9kZSB0byB3aGljaCB0aGUgY29tcG9uZW50IGJlbG9uZ3MuXHJcbiAqIEB6aFxyXG4gKiDms6jmhI/vvJrmraTkuovku7bmmK/ku47or6Xnu4Tku7bmiYDlsZ7nmoQgTm9kZSDkuIrpnaLmtL7lj5Hlh7rmnaXnmoTvvIzpnIDopoHnlKggbm9kZS5vbiDmnaXnm5HlkKzjgIJcclxuICogQGV2ZW50IHNjcm9sbC10by1ib3R0b21cclxuICogQHBhcmFtIHtFdmVudC5FdmVudEN1c3RvbX0gZXZlbnRcclxuICogQHBhcmFtIHtTY3JvbGxWaWV3fSBzY3JvbGxWaWV3IC0gVGhlIFNjcm9sbFZpZXcgY29tcG9uZW50LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZW5cclxuICogTm90ZTogVGhpcyBldmVudCBpcyBlbWl0dGVkIGZyb20gdGhlIG5vZGUgdG8gd2hpY2ggdGhlIGNvbXBvbmVudCBiZWxvbmdzLlxyXG4gKiBAemhcclxuICog5rOo5oSP77ya5q2k5LqL5Lu25piv5LuO6K+l57uE5Lu25omA5bGe55qEIE5vZGUg5LiK6Z2i5rS+5Y+R5Ye65p2l55qE77yM6ZyA6KaB55SoIG5vZGUub24g5p2l55uR5ZCs44CCXHJcbiAqIEBldmVudCBzY3JvbGwtdG8tbGVmdFxyXG4gKiBAcGFyYW0ge0V2ZW50LkV2ZW50Q3VzdG9tfSBldmVudFxyXG4gKiBAcGFyYW0ge1Njcm9sbFZpZXd9IHNjcm9sbFZpZXcgLSBUaGUgU2Nyb2xsVmlldyBjb21wb25lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBlblxyXG4gKiBOb3RlOiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgZnJvbSB0aGUgbm9kZSB0byB3aGljaCB0aGUgY29tcG9uZW50IGJlbG9uZ3MuXHJcbiAqIEB6aFxyXG4gKiDms6jmhI/vvJrmraTkuovku7bmmK/ku47or6Xnu4Tku7bmiYDlsZ7nmoQgTm9kZSDkuIrpnaLmtL7lj5Hlh7rmnaXnmoTvvIzpnIDopoHnlKggbm9kZS5vbiDmnaXnm5HlkKzjgIJcclxuICogQGV2ZW50IHNjcm9sbC10by1yaWdodFxyXG4gKiBAcGFyYW0ge0V2ZW50LkV2ZW50Q3VzdG9tfSBldmVudFxyXG4gKiBAcGFyYW0ge1Njcm9sbFZpZXd9IHNjcm9sbFZpZXcgLSBUaGUgU2Nyb2xsVmlldyBjb21wb25lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBlblxyXG4gKiBOb3RlOiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgZnJvbSB0aGUgbm9kZSB0byB3aGljaCB0aGUgY29tcG9uZW50IGJlbG9uZ3MuXHJcbiAqIEB6aFxyXG4gKiDms6jmhI/vvJrmraTkuovku7bmmK/ku47or6Xnu4Tku7bmiYDlsZ7nmoQgTm9kZSDkuIrpnaLmtL7lj5Hlh7rmnaXnmoTvvIzpnIDopoHnlKggbm9kZS5vbiDmnaXnm5HlkKzjgIJcclxuICogQGV2ZW50IHNjcm9sbGluZ1xyXG4gKiBAcGFyYW0ge0V2ZW50LkV2ZW50Q3VzdG9tfSBldmVudFxyXG4gKiBAcGFyYW0ge1Njcm9sbFZpZXd9IHNjcm9sbFZpZXcgLSBUaGUgU2Nyb2xsVmlldyBjb21wb25lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBlblxyXG4gKiBOb3RlOiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgZnJvbSB0aGUgbm9kZSB0byB3aGljaCB0aGUgY29tcG9uZW50IGJlbG9uZ3MuXHJcbiAqIEB6aFxyXG4gKiDms6jmhI/vvJrmraTkuovku7bmmK/ku47or6Xnu4Tku7bmiYDlsZ7nmoQgTm9kZSDkuIrpnaLmtL7lj5Hlh7rmnaXnmoTvvIzpnIDopoHnlKggbm9kZS5vbiDmnaXnm5HlkKzjgIJcclxuICogQGV2ZW50IGJvdW5jZS1ib3R0b21cclxuICogQHBhcmFtIHtFdmVudC5FdmVudEN1c3RvbX0gZXZlbnRcclxuICogQHBhcmFtIHtTY3JvbGxWaWV3fSBzY3JvbGxWaWV3IC0gVGhlIFNjcm9sbFZpZXcgY29tcG9uZW50LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZW5cclxuICogTm90ZTogVGhpcyBldmVudCBpcyBlbWl0dGVkIGZyb20gdGhlIG5vZGUgdG8gd2hpY2ggdGhlIGNvbXBvbmVudCBiZWxvbmdzLlxyXG4gKiBAemhcclxuICog5rOo5oSP77ya5q2k5LqL5Lu25piv5LuO6K+l57uE5Lu25omA5bGe55qEIE5vZGUg5LiK6Z2i5rS+5Y+R5Ye65p2l55qE77yM6ZyA6KaB55SoIG5vZGUub24g5p2l55uR5ZCs44CCXHJcbiAqIEBldmVudCBib3VuY2UtdG9wXHJcbiAqIEBwYXJhbSB7RXZlbnQuRXZlbnRDdXN0b219IGV2ZW50XHJcbiAqIEBwYXJhbSB7U2Nyb2xsVmlld30gc2Nyb2xsVmlldyAtIFRoZSBTY3JvbGxWaWV3IGNvbXBvbmVudC5cclxuICovXHJcblxyXG4vKipcclxuICogQGVuXHJcbiAqIE5vdGU6IFRoaXMgZXZlbnQgaXMgZW1pdHRlZCBmcm9tIHRoZSBub2RlIHRvIHdoaWNoIHRoZSBjb21wb25lbnQgYmVsb25ncy5cclxuICogQHpoXHJcbiAqIOazqOaEj++8muatpOS6i+S7tuaYr+S7juivpee7hOS7tuaJgOWxnueahCBOb2RlIOS4iumdoua0vuWPkeWHuuadpeeahO+8jOmcgOimgeeUqCBub2RlLm9uIOadpeebkeWQrOOAglxyXG4gKiBAZXZlbnQgYm91bmNlLWxlZnRcclxuICogQHBhcmFtIHtFdmVudC5FdmVudEN1c3RvbX0gZXZlbnRcclxuICogQHBhcmFtIHtTY3JvbGxWaWV3fSBzY3JvbGxWaWV3IC0gVGhlIFNjcm9sbFZpZXcgY29tcG9uZW50LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZW5cclxuICogTm90ZTogVGhpcyBldmVudCBpcyBlbWl0dGVkIGZyb20gdGhlIG5vZGUgdG8gd2hpY2ggdGhlIGNvbXBvbmVudCBiZWxvbmdzLlxyXG4gKiBAemhcclxuICog5rOo5oSP77ya5q2k5LqL5Lu25piv5LuO6K+l57uE5Lu25omA5bGe55qEIE5vZGUg5LiK6Z2i5rS+5Y+R5Ye65p2l55qE77yM6ZyA6KaB55SoIG5vZGUub24g5p2l55uR5ZCs44CCXHJcbiAqIEBldmVudCBib3VuY2UtcmlnaHRcclxuICogQHBhcmFtIHtFdmVudC5FdmVudEN1c3RvbX0gZXZlbnRcclxuICogQHBhcmFtIHtTY3JvbGxWaWV3fSBzY3JvbGxWaWV3IC0gVGhlIFNjcm9sbFZpZXcgY29tcG9uZW50LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZW5cclxuICogTm90ZTogVGhpcyBldmVudCBpcyBlbWl0dGVkIGZyb20gdGhlIG5vZGUgdG8gd2hpY2ggdGhlIGNvbXBvbmVudCBiZWxvbmdzLlxyXG4gKiBAemhcclxuICog5rOo5oSP77ya5q2k5LqL5Lu25piv5LuO6K+l57uE5Lu25omA5bGe55qEIE5vZGUg5LiK6Z2i5rS+5Y+R5Ye65p2l55qE77yM6ZyA6KaB55SoIG5vZGUub24g5p2l55uR5ZCs44CCXHJcbiAqIEBldmVudCBzY3JvbGwtZW5kZWRcclxuICogQHBhcmFtIHtFdmVudC5FdmVudEN1c3RvbX0gZXZlbnRcclxuICogQHBhcmFtIHtTY3JvbGxWaWV3fSBzY3JvbGxWaWV3IC0gVGhlIFNjcm9sbFZpZXcgY29tcG9uZW50LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAZW5cclxuICogTm90ZTogVGhpcyBldmVudCBpcyBlbWl0dGVkIGZyb20gdGhlIG5vZGUgdG8gd2hpY2ggdGhlIGNvbXBvbmVudCBiZWxvbmdzLlxyXG4gKiBAemhcclxuICog5rOo5oSP77ya5q2k5LqL5Lu25piv5LuO6K+l57uE5Lu25omA5bGe55qEIE5vZGUg5LiK6Z2i5rS+5Y+R5Ye65p2l55qE77yM6ZyA6KaB55SoIG5vZGUub24g5p2l55uR5ZCs44CCXHJcbiAqIEBldmVudCB0b3VjaC11cFxyXG4gKiBAcGFyYW0ge0V2ZW50LkV2ZW50Q3VzdG9tfSBldmVudFxyXG4gKiBAcGFyYW0ge1Njcm9sbFZpZXd9IHNjcm9sbFZpZXcgLSBUaGUgU2Nyb2xsVmlldyBjb21wb25lbnQuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBlblxyXG4gKiBOb3RlOiBUaGlzIGV2ZW50IGlzIGVtaXR0ZWQgZnJvbSB0aGUgbm9kZSB0byB3aGljaCB0aGUgY29tcG9uZW50IGJlbG9uZ3MuXHJcbiAqIEB6aFxyXG4gKiDms6jmhI/vvJrmraTkuovku7bmmK/ku47or6Xnu4Tku7bmiYDlsZ7nmoQgTm9kZSDkuIrpnaLmtL7lj5Hlh7rmnaXnmoTvvIzpnIDopoHnlKggbm9kZS5vbiDmnaXnm5HlkKzjgIJcclxuICogQGV2ZW50IHNjcm9sbC1iZWdhblxyXG4gKiBAcGFyYW0ge0V2ZW50LkV2ZW50Q3VzdG9tfSBldmVudFxyXG4gKiBAcGFyYW0ge1Njcm9sbFZpZXd9IHNjcm9sbFZpZXcgLSBUaGUgU2Nyb2xsVmlldyBjb21wb25lbnQuXHJcbiAqL1xyXG4iXX0=