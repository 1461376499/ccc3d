(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../platform/index.js", "../define.js", "../device.js", "./webgl2-binding-layout.js", "./webgl2-buffer.js", "./webgl2-command-allocator.js", "./webgl2-command-buffer.js", "./webgl2-commands.js", "./webgl2-framebuffer.js", "./webgl2-input-assembler.js", "./webgl2-pipeline-layout.js", "./webgl2-pipeline-state.js", "./webgl2-primary-command-buffer.js", "./webgl2-queue.js", "./webgl2-render-pass.js", "./webgl2-sampler.js", "./webgl2-shader.js", "./webgl2-state-cache.js", "./webgl2-texture.js", "./webgl2-texture-view.js", "./webgl2-window.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../platform/index.js"), require("../define.js"), require("../device.js"), require("./webgl2-binding-layout.js"), require("./webgl2-buffer.js"), require("./webgl2-command-allocator.js"), require("./webgl2-command-buffer.js"), require("./webgl2-commands.js"), require("./webgl2-framebuffer.js"), require("./webgl2-input-assembler.js"), require("./webgl2-pipeline-layout.js"), require("./webgl2-pipeline-state.js"), require("./webgl2-primary-command-buffer.js"), require("./webgl2-queue.js"), require("./webgl2-render-pass.js"), require("./webgl2-sampler.js"), require("./webgl2-shader.js"), require("./webgl2-state-cache.js"), require("./webgl2-texture.js"), require("./webgl2-texture-view.js"), require("./webgl2-window.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.index, global.define, global.device, global.webgl2BindingLayout, global.webgl2Buffer, global.webgl2CommandAllocator, global.webgl2CommandBuffer, global.webgl2Commands, global.webgl2Framebuffer, global.webgl2InputAssembler, global.webgl2PipelineLayout, global.webgl2PipelineState, global.webgl2PrimaryCommandBuffer, global.webgl2Queue, global.webgl2RenderPass, global.webgl2Sampler, global.webgl2Shader, global.webgl2StateCache, global.webgl2Texture, global.webgl2TextureView, global.webgl2Window);
    global.webgl2Device = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _index, _define, _device, _webgl2BindingLayout, _webgl2Buffer, _webgl2CommandAllocator, _webgl2CommandBuffer, _webgl2Commands, _webgl2Framebuffer, _webgl2InputAssembler, _webgl2PipelineLayout, _webgl2PipelineState, _webgl2PrimaryCommandBuffer, _webgl2Queue, _webgl2RenderPass, _webgl2Sampler, _webgl2Shader, _webgl2StateCache, _webgl2Texture, _webgl2TextureView, _webgl2Window) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.WebGL2GFXDevice = void 0;

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  var WebGL2GFXDevice = /*#__PURE__*/function (_GFXDevice) {
    _inherits(WebGL2GFXDevice, _GFXDevice);

    _createClass(WebGL2GFXDevice, [{
      key: "gl",
      get: function get() {
        return this._webGL2RC;
      }
    }, {
      key: "isAntialias",
      get: function get() {
        return this._isAntialias;
      }
    }, {
      key: "isPremultipliedAlpha",
      get: function get() {
        return this._isPremultipliedAlpha;
      }
    }, {
      key: "useVAO",
      get: function get() {
        return this._useVAO;
      }
    }, {
      key: "EXT_texture_filter_anisotropic",
      get: function get() {
        return this._EXT_texture_filter_anisotropic;
      }
    }, {
      key: "OES_texture_float_linear",
      get: function get() {
        return this._OES_texture_float_linear;
      }
    }, {
      key: "EXT_color_buffer_float",
      get: function get() {
        return this._EXT_color_buffer_float;
      }
    }, {
      key: "EXT_disjoint_timer_query_webgl2",
      get: function get() {
        return this._EXT_disjoint_timer_query_webgl2;
      }
    }, {
      key: "WEBGL_compressed_texture_etc1",
      get: function get() {
        return this._WEBGL_compressed_texture_etc1;
      }
    }, {
      key: "WEBGL_compressed_texture_etc",
      get: function get() {
        return this._WEBGL_compressed_texture_etc;
      }
    }, {
      key: "WEBGL_compressed_texture_pvrtc",
      get: function get() {
        return this._WEBGL_compressed_texture_pvrtc;
      }
    }, {
      key: "WEBGL_compressed_texture_s3tc",
      get: function get() {
        return this._WEBGL_compressed_texture_s3tc;
      }
    }, {
      key: "WEBGL_compressed_texture_s3tc_srgb",
      get: function get() {
        return this._WEBGL_compressed_texture_s3tc_srgb;
      }
    }]);

    function WebGL2GFXDevice() {
      var _this;

      _classCallCheck(this, WebGL2GFXDevice);

      _this = _possibleConstructorReturn(this, _getPrototypeOf(WebGL2GFXDevice).call(this));
      _this.stateCache = new _webgl2StateCache.WebGL2StateCache();
      _this.nullTex2D = null;
      _this.nullTexCube = null;
      _this._webGL2RC = null;
      _this._isAntialias = true;
      _this._isPremultipliedAlpha = true;
      _this._useVAO = true;
      _this._extensions = null;
      _this._EXT_texture_filter_anisotropic = null;
      _this._OES_texture_float_linear = null;
      _this._OES_texture_half_float_linear = null;
      _this._EXT_color_buffer_float = null;
      _this._EXT_disjoint_timer_query_webgl2 = null;
      _this._WEBGL_compressed_texture_etc1 = null;
      _this._WEBGL_compressed_texture_etc = null;
      _this._WEBGL_compressed_texture_pvrtc = null;
      _this._WEBGL_compressed_texture_astc = null;
      _this._WEBGL_compressed_texture_s3tc = null;
      _this._WEBGL_compressed_texture_s3tc_srgb = null;
      _this._WEBGL_debug_renderer_info = null;
      _this._WEBGL_texture_storage_multisample = null;
      _this._WEBGL_debug_shaders = null;
      _this._WEBGL_lose_context = null;
      return _this;
    }

    _createClass(WebGL2GFXDevice, [{
      key: "initialize",
      value: function initialize(info) {
        this._canvas = info.canvasElm;
        this._isAntialias = info.isAntialias !== undefined ? info.isAntialias : true;
        this._isPremultipliedAlpha = info.isPremultipliedAlpha !== undefined ? info.isPremultipliedAlpha : true;

        try {
          var webGLCtxAttribs = {
            alpha: _index.macro.ENABLE_TRANSPARENT_CANVAS,
            antialias: this._isAntialias,
            depth: true,
            stencil: true,
            premultipliedAlpha: this._isPremultipliedAlpha,
            preserveDrawingBuffer: false,
            powerPreference: 'default',
            failIfMajorPerformanceCaveat: false
          };
          this._webGL2RC = this._canvas.getContext('webgl2', webGLCtxAttribs);
        } catch (err) {
          console.error(err);
          return false;
        }

        if (!this._webGL2RC) {
          console.error('This device does not support WebGL2.');
          return false;
        }

        this._canvas2D = document.createElement('canvas');
        console.info('WebGL2 device initialized.');
        this._gfxAPI = _device.GFXAPI.WEBGL2;
        this._deviceName = 'WebGL2';
        var gl = this._webGL2RC;
        this._WEBGL_debug_renderer_info = this.getExtension('WEBGL_debug_renderer_info');

        if (this._WEBGL_debug_renderer_info) {
          this._renderer = gl.getParameter(this._WEBGL_debug_renderer_info.UNMASKED_RENDERER_WEBGL);
          this._vendor = gl.getParameter(this._WEBGL_debug_renderer_info.UNMASKED_VENDOR_WEBGL);
        } else {
          this._renderer = gl.getParameter(gl.RENDERER);
          this._vendor = gl.getParameter(gl.VENDOR);
        }

        this._version = gl.getParameter(gl.VERSION);
        this._maxVertexAttributes = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);
        this._maxVertexUniformVectors = gl.getParameter(gl.MAX_VERTEX_UNIFORM_VECTORS);
        this._maxFragmentUniformVectors = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_VECTORS);
        this._maxTextureUnits = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);
        this._maxVertexTextureUnits = gl.getParameter(gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS);
        this._maxUniformBufferBindings = gl.getParameter(gl.MAX_UNIFORM_BUFFER_BINDINGS);
        this._maxUniformBlockSize = gl.getParameter(gl.MAX_UNIFORM_BLOCK_SIZE);
        this._maxTextureSize = gl.getParameter(gl.MAX_TEXTURE_SIZE);
        this._maxCubeMapTextureSize = gl.getParameter(gl.MAX_CUBE_MAP_TEXTURE_SIZE);
        this._depthBits = gl.getParameter(gl.DEPTH_BITS);
        this._stencilBits = gl.getParameter(gl.STENCIL_BITS); // let maxVertexUniformBlocks = gl.getParameter(gl.MAX_VERTEX_UNIFORM_BLOCKS);
        // let maxFragmentUniformBlocks = gl.getParameter(gl.MAX_FRAGMENT_UNIFORM_BLOCKS);
        // let uboOffsetAlignment = gl.getParameter(gl.UNIFORM_BUFFER_OFFSET_ALIGNMENT);

        this._devicePixelRatio = info.devicePixelRatio || 1.0;
        this._width = this._canvas.width;
        this._height = this._canvas.height;
        this._nativeWidth = Math.max(info.nativeWidth || this._width, 0);
        this._nativeHeight = Math.max(info.nativeHeight || this._height, 0);
        this._colorFmt = _define.GFXFormat.RGBA8;

        if (this._depthBits === 32) {
          if (this._stencilBits === 8) {
            this._depthStencilFmt = _define.GFXFormat.D32F_S8;
          } else {
            this._depthStencilFmt = _define.GFXFormat.D32F;
          }
        } else if (this._depthBits === 24) {
          if (this._stencilBits === 8) {
            this._depthStencilFmt = _define.GFXFormat.D24S8;
          } else {
            this._depthStencilFmt = _define.GFXFormat.D24;
          }
        } else {
          if (this._stencilBits === 8) {
            this._depthStencilFmt = _define.GFXFormat.D16S8;
          } else {
            this._depthStencilFmt = _define.GFXFormat.D16;
          }
        }

        this._extensions = gl.getSupportedExtensions();
        var extensions = '';

        if (this._extensions) {
          var _iterator = _createForOfIteratorHelper(this._extensions),
              _step;

          try {
            for (_iterator.s(); !(_step = _iterator.n()).done;) {
              var ext = _step.value;
              extensions += ext + ' ';
            }
          } catch (err) {
            _iterator.e(err);
          } finally {
            _iterator.f();
          }

          console.debug('EXTENSIONS: ' + extensions);
        }

        this._EXT_texture_filter_anisotropic = this.getExtension('EXT_texture_filter_anisotropic');
        this._EXT_color_buffer_float = this.getExtension('EXT_color_buffer_float');
        this._EXT_disjoint_timer_query_webgl2 = this.getExtension('EXT_disjoint_timer_query_webgl2');
        this._OES_texture_float_linear = this.getExtension('OES_texture_float_linear');
        this._OES_texture_half_float_linear = this.getExtension('OES_texture_half_float_linear');
        this._WEBGL_compressed_texture_etc1 = this.getExtension('WEBGL_compressed_texture_etc1');
        this._WEBGL_compressed_texture_etc = this.getExtension('WEBGL_compressed_texture_etc');
        this._WEBGL_compressed_texture_pvrtc = this.getExtension('WEBGL_compressed_texture_pvrtc');
        this._WEBGL_compressed_texture_astc = this.getExtension('WEBGL_compressed_texture_astc');
        this._WEBGL_compressed_texture_s3tc = this.getExtension('WEBGL_compressed_texture_s3tc');
        this._WEBGL_compressed_texture_s3tc_srgb = this.getExtension('WEBGL_compressed_texture_s3tc_srgb');
        this._WEBGL_texture_storage_multisample = this.getExtension('WEBGL_texture_storage_multisample');
        this._WEBGL_debug_shaders = this.getExtension('WEBGL_debug_shaders');
        this._WEBGL_lose_context = this.getExtension('WEBGL_lose_context');

        this._features.fill(false);

        this._features[_device.GFXFeature.TEXTURE_FLOAT] = true;
        this._features[_device.GFXFeature.TEXTURE_HALF_FLOAT] = true;
        this._features[_device.GFXFeature.FORMAT_R11G11B10F] = true;
        this._features[_device.GFXFeature.FORMAT_D24S8] = true;
        this._features[_device.GFXFeature.MSAA] = true;
        this._features[_device.GFXFeature.ELEMENT_INDEX_UINT] = true;
        this._features[_device.GFXFeature.INSTANCED_ARRAYS] = true;

        if (this._EXT_color_buffer_float) {
          this._features[_device.GFXFeature.COLOR_FLOAT] = true;
          this._features[_device.GFXFeature.COLOR_HALF_FLOAT] = true;
        }

        if (this._OES_texture_float_linear) {
          this._features[_device.GFXFeature.TEXTURE_FLOAT_LINEAR] = true;
        }

        if (this._OES_texture_half_float_linear) {
          this._features[_device.GFXFeature.TEXTURE_HALF_FLOAT_LINEAR] = true;
        }

        var compressedFormat = '';

        if (this._WEBGL_compressed_texture_etc1) {
          this._features[_device.GFXFeature.FORMAT_ETC1] = true;
          compressedFormat += 'etc1 ';
        }

        if (this._WEBGL_compressed_texture_etc) {
          this._features[_device.GFXFeature.FORMAT_ETC2] = true;
          compressedFormat += 'etc2 ';
        }

        if (this._WEBGL_compressed_texture_s3tc) {
          this._features[_device.GFXFeature.FORMAT_DXT] = true;
          compressedFormat += 'dxt ';
        }

        if (this._WEBGL_compressed_texture_pvrtc) {
          this._features[_device.GFXFeature.FORMAT_PVRTC] = true;
          compressedFormat += 'pvrtc ';
        }

        if (this._WEBGL_compressed_texture_astc) {
          this._features[_device.GFXFeature.FORMAT_ASTC] = true;
          compressedFormat += 'astc ';
        }

        console.info('RENDERER: ' + this._renderer);
        console.info('VENDOR: ' + this._vendor);
        console.info('VERSION: ' + this._version);
        console.info('DPR: ' + this._devicePixelRatio);
        console.info('SCREEN_SIZE: ' + this._width + ' x ' + this._height);
        console.info('NATIVE_SIZE: ' + this._nativeWidth + ' x ' + this._nativeHeight); // console.info('COLOR_FORMAT: ' + GFXFormatInfos[this._colorFmt].name);
        // console.info('DEPTH_STENCIL_FORMAT: ' + GFXFormatInfos[this._depthStencilFmt].name);
        // console.info('MAX_VERTEX_ATTRIBS: ' + this._maxVertexAttributes);

        console.info('MAX_VERTEX_UNIFORM_VECTORS: ' + this._maxVertexUniformVectors); // console.info('MAX_FRAGMENT_UNIFORM_VECTORS: ' + this._maxFragmentUniformVectors);
        // console.info('MAX_TEXTURE_IMAGE_UNITS: ' + this._maxTextureUnits);
        // console.info('MAX_VERTEX_TEXTURE_IMAGE_UNITS: ' + this._maxVertexTextureUnits);

        console.info('MAX_UNIFORM_BUFFER_BINDINGS: ' + this._maxUniformBufferBindings); // console.info('MAX_UNIFORM_BLOCK_SIZE: ' + this._maxUniformBlockSize);

        console.info('DEPTH_BITS: ' + this._depthBits);
        console.info('STENCIL_BITS: ' + this._stencilBits); // console.info('UNIFORM_BUFFER_OFFSET_ALIGNMENT: ' + uboOffsetAlignment);

        if (this._EXT_texture_filter_anisotropic) {
          console.info('MAX_TEXTURE_MAX_ANISOTROPY_EXT: ' + this._EXT_texture_filter_anisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT);
        }

        console.info('USE_VAO: ' + this._useVAO);
        console.info('COMPRESSED_FORMAT: ' + compressedFormat); // init states

        this.initStates(gl); // create queue

        this._queue = this.createQueue({
          type: _define.GFXQueueType.GRAPHICS
        }); // create primary window

        var canvas = this._webGL2RC.canvas;
        this._mainWindow = this.createWindow({
          title: canvas.title || '',
          left: canvas.offsetLeft || 0,
          top: canvas.offsetTop || 0,
          width: this._webGL2RC.drawingBufferWidth,
          height: this._webGL2RC.drawingBufferHeight,
          colorFmt: this._colorFmt,
          depthStencilFmt: this._depthStencilFmt
        });
        this._cmdAllocator = this.createCommandAllocator({}); // create default null texture

        this.nullTex2D = new _webgl2Texture.WebGL2GFXTexture(this);
        this.nullTex2D.initialize({
          type: _define.GFXTextureType.TEX2D,
          usage: _define.GFXTextureUsageBit.SAMPLED,
          format: _define.GFXFormat.RGBA8,
          width: 2,
          height: 2,
          flags: _define.GFXTextureFlagBit.GEN_MIPMAP
        });
        this.nullTexCube = new _webgl2Texture.WebGL2GFXTexture(this);
        this.nullTexCube.initialize({
          type: _define.GFXTextureType.TEX2D,
          usage: _define.GFXTextureUsageBit.SAMPLED,
          format: _define.GFXFormat.RGBA8,
          width: 2,
          height: 2,
          arrayLayer: 6,
          flags: _define.GFXTextureFlagBit.CUBEMAP | _define.GFXTextureFlagBit.GEN_MIPMAP
        });
        var nullTexRegion = {
          buffOffset: 0,
          buffStride: 0,
          buffTexHeight: 0,
          texOffset: {
            x: 0,
            y: 0,
            z: 0
          },
          texExtent: {
            width: 2,
            height: 2,
            depth: 1
          },
          texSubres: {
            baseMipLevel: 0,
            levelCount: 1,
            baseArrayLayer: 0,
            layerCount: 1
          }
        };
        var nullTexBuff = new Uint8Array(this.nullTex2D.size);
        nullTexBuff.fill(0);
        this.copyBuffersToTexture([nullTexBuff], this.nullTex2D, [nullTexRegion]);
        nullTexRegion.texSubres.layerCount = 6;
        this.copyBuffersToTexture([nullTexBuff, nullTexBuff, nullTexBuff, nullTexBuff, nullTexBuff, nullTexBuff], this.nullTexCube, [nullTexRegion]);
        return true;
      }
    }, {
      key: "destroy",
      value: function destroy() {
        if (this.nullTex2D) {
          this.nullTex2D.destroy();
          this.nullTex2D = null;
        }

        if (this.nullTexCube) {
          this.nullTexCube.destroy();
          this.nullTexCube = null;
        }

        if (this._mainWindow) {
          this._mainWindow.destroy();

          this._mainWindow = null;
        }

        if (this._cmdAllocator) {
          this._cmdAllocator.destroy();

          this._cmdAllocator = null;
        }

        if (this._queue) {
          this._queue.destroy();

          this._queue = null;
        }

        this._webGL2RC = null;
      }
    }, {
      key: "resize",
      value: function resize(width, height) {
        if (this._width !== width || this._height !== height) {
          console.info('Resizing device: ' + width + 'x' + height);
          this._canvas.width = width;
          this._canvas.height = height;
          this._width = width;
          this._height = height;
        }
      }
    }, {
      key: "createBuffer",
      value: function createBuffer(info) {
        var buffer = new _webgl2Buffer.WebGL2GFXBuffer(this);
        buffer.initialize(info);
        return buffer;
      }
    }, {
      key: "createTexture",
      value: function createTexture(info) {
        var texture = new _webgl2Texture.WebGL2GFXTexture(this);
        texture.initialize(info);
        return texture;
      }
    }, {
      key: "createTextureView",
      value: function createTextureView(info) {
        var texView = new _webgl2TextureView.WebGL2GFXTextureView(this);
        texView.initialize(info);
        return texView;
      }
    }, {
      key: "createSampler",
      value: function createSampler(info) {
        var sampler = new _webgl2Sampler.WebGL2GFXSampler(this);
        sampler.initialize(info);
        return sampler;
      }
    }, {
      key: "createBindingLayout",
      value: function createBindingLayout(info) {
        var bindingLayout = new _webgl2BindingLayout.WebGL2GFXBindingLayout(this);
        bindingLayout.initialize(info);
        return bindingLayout;
      }
    }, {
      key: "createShader",
      value: function createShader(info) {
        var shader = new _webgl2Shader.WebGL2GFXShader(this);
        shader.initialize(info);
        return shader;
      }
    }, {
      key: "createInputAssembler",
      value: function createInputAssembler(info) {
        var inputAssembler = new _webgl2InputAssembler.WebGL2GFXInputAssembler(this);
        inputAssembler.initialize(info);
        return inputAssembler;
      }
    }, {
      key: "createRenderPass",
      value: function createRenderPass(info) {
        var renderPass = new _webgl2RenderPass.WebGL2GFXRenderPass(this);
        renderPass.initialize(info);
        return renderPass;
      }
    }, {
      key: "createFramebuffer",
      value: function createFramebuffer(info) {
        var framebuffer = new _webgl2Framebuffer.WebGL2GFXFramebuffer(this);
        framebuffer.initialize(info);
        return framebuffer;
      }
    }, {
      key: "createPipelineLayout",
      value: function createPipelineLayout(info) {
        var pipelineLayout = new _webgl2PipelineLayout.WebGL2GFXPipelineLayout(this);
        pipelineLayout.initialize(info);
        return pipelineLayout;
      }
    }, {
      key: "createPipelineState",
      value: function createPipelineState(info) {
        var pipelineState = new _webgl2PipelineState.WebGL2GFXPipelineState(this);
        pipelineState.initialize(info);
        return pipelineState;
      }
    }, {
      key: "createCommandAllocator",
      value: function createCommandAllocator(info) {
        var cmdAllocator = new _webgl2CommandAllocator.WebGL2GFXCommandAllocator(this);
        cmdAllocator.initialize(info);
        return cmdAllocator;
      }
    }, {
      key: "createCommandBuffer",
      value: function createCommandBuffer(info) {
        // const ctor = WebGL2GFXCommandBuffer; // opt to instant invocation
        var ctor = info.type === _define.GFXCommandBufferType.PRIMARY ? _webgl2PrimaryCommandBuffer.WebGL2GFXPrimaryCommandBuffer : _webgl2CommandBuffer.WebGL2GFXCommandBuffer;
        var cmdBuff = new ctor(this);
        cmdBuff.initialize(info);
        return cmdBuff;
      }
    }, {
      key: "createQueue",
      value: function createQueue(info) {
        var queue = new _webgl2Queue.WebGL2GFXQueue(this);
        queue.initialize(info);
        return queue;
      }
    }, {
      key: "createWindow",
      value: function createWindow(info) {
        var window = new _webgl2Window.WebGL2GFXWindow(this);
        window.initialize(info);
        return window;
      }
    }, {
      key: "present",
      value: function present() {
        this._cmdAllocator.releaseCmds();

        var queue = this._queue;
        this._numDrawCalls = queue.numDrawCalls;
        this._numInstances = queue.numInstances;
        this._numTris = queue.numTris;
        queue.clear();
      }
    }, {
      key: "copyBuffersToTexture",
      value: function copyBuffersToTexture(buffers, texture, regions) {
        (0, _webgl2Commands.WebGL2CmdFuncCopyBuffersToTexture)(this, buffers, texture.gpuTexture, regions);
      }
    }, {
      key: "copyTexImagesToTexture",
      value: function copyTexImagesToTexture(texImages, texture, regions) {
        (0, _webgl2Commands.WebGL2CmdFuncCopyTexImagesToTexture)(this, texImages, texture.gpuTexture, regions);
      }
    }, {
      key: "copyFramebufferToBuffer",
      value: function copyFramebufferToBuffer(srcFramebuffer, dstBuffer, regions) {
        var gl = this._webGL2RC;
        var gpuFramebuffer = srcFramebuffer.gpuFramebuffer;
        var format = gpuFramebuffer.gpuColorViews[0].format;
        var glFormat = (0, _webgl2Commands.GFXFormatToWebGLFormat)(format, gl);
        var glType = (0, _webgl2Commands.GFXFormatToWebGLType)(format, gl);
        var ctor = (0, _define.getTypedArrayConstructor)(_define.GFXFormatInfos[format]);
        var curFBO = this.stateCache.glFramebuffer;

        if (this.stateCache.glFramebuffer !== gpuFramebuffer.glFramebuffer) {
          gl.bindFramebuffer(gl.FRAMEBUFFER, gpuFramebuffer.glFramebuffer);
          this.stateCache.glFramebuffer = gpuFramebuffer.glFramebuffer;
        }

        var view = new ctor(dstBuffer);

        var _iterator2 = _createForOfIteratorHelper(regions),
            _step2;

        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var region = _step2.value;
            var buffOffset = region.buffOffset + region.buffTexHeight * region.buffStride;
            var w = region.texExtent.width;
            var h = region.texExtent.height;
            var memSize = (0, _define.GFXFormatSize)(format, w, h, 1);
            var data = view.subarray(buffOffset, buffOffset + memSize);
            gl.readPixels(region.texOffset.x, region.texOffset.y, w, h, glFormat, glType, data);
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }

        if (this.stateCache.glFramebuffer !== curFBO) {
          gl.bindFramebuffer(gl.FRAMEBUFFER, curFBO);
          this.stateCache.glFramebuffer = curFBO;
        }
      }
    }, {
      key: "blitFramebuffer",
      value: function blitFramebuffer(src, dst, srcRect, dstRect, filter) {
        var srcFBO = src.gpuFramebuffer;
        var dstFBO = dst.gpuFramebuffer;
        (0, _webgl2Commands.WebGL2CmdFuncBlitFramebuffer)(this, srcFBO, dstFBO, srcRect, dstRect, filter);
      }
    }, {
      key: "getExtension",
      value: function getExtension(ext) {
        var prefixes = ['', 'WEBKIT_', 'MOZ_'];

        for (var i = 0; i < prefixes.length; ++i) {
          var _ext = this._webGL2RC.getExtension(prefixes[i] + ext);

          if (_ext) {
            return _ext;
          }
        }

        return null;
      }
    }, {
      key: "initStates",
      value: function initStates(gl) {
        gl.activeTexture(gl.TEXTURE0);
        gl.pixelStorei(gl.PACK_ALIGNMENT, 1);
        gl.pixelStorei(gl.UNPACK_ALIGNMENT, 1);
        gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 0);
        gl.bindFramebuffer(gl.FRAMEBUFFER, null); // rasteriazer state

        gl.enable(gl.CULL_FACE);
        gl.cullFace(gl.BACK);
        gl.frontFace(gl.CCW);
        gl.polygonOffset(0.0, 0.0); // depth stencil state

        gl.enable(gl.DEPTH_TEST);
        gl.depthMask(true);
        gl.depthFunc(gl.LESS);
        gl.stencilFuncSeparate(gl.FRONT, gl.ALWAYS, 1, 0xffff);
        gl.stencilOpSeparate(gl.FRONT, gl.KEEP, gl.KEEP, gl.KEEP);
        gl.stencilMaskSeparate(gl.FRONT, 0xffff);
        gl.stencilFuncSeparate(gl.BACK, gl.ALWAYS, 1, 0xffff);
        gl.stencilOpSeparate(gl.BACK, gl.KEEP, gl.KEEP, gl.KEEP);
        gl.stencilMaskSeparate(gl.BACK, 0xffff);
        gl.disable(gl.STENCIL_TEST); // blend state

        gl.disable(gl.SAMPLE_ALPHA_TO_COVERAGE);
        gl.disable(gl.BLEND);
        gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);
        gl.blendFuncSeparate(gl.ONE, gl.ZERO, gl.ONE, gl.ZERO);
        gl.colorMask(true, true, true, true);
        gl.blendColor(0.0, 0.0, 0.0, 0.0);
      }
    }]);

    return WebGL2GFXDevice;
  }(_device.GFXDevice);

  _exports.WebGL2GFXDevice = WebGL2GFXDevice;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvY29yZS9nZngvd2ViZ2wyL3dlYmdsMi1kZXZpY2UudHMiXSwibmFtZXMiOlsiV2ViR0wyR0ZYRGV2aWNlIiwiX3dlYkdMMlJDIiwiX2lzQW50aWFsaWFzIiwiX2lzUHJlbXVsdGlwbGllZEFscGhhIiwiX3VzZVZBTyIsIl9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMiLCJfT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyIiwiX0VYVF9jb2xvcl9idWZmZXJfZmxvYXQiLCJfRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiIsIl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSIsIl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIiwiX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyIsIl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YyIsIl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiIiwic3RhdGVDYWNoZSIsIldlYkdMMlN0YXRlQ2FjaGUiLCJudWxsVGV4MkQiLCJudWxsVGV4Q3ViZSIsIl9leHRlbnNpb25zIiwiX09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyIiwiX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIiwiX1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8iLCJfV0VCR0xfdGV4dHVyZV9zdG9yYWdlX211bHRpc2FtcGxlIiwiX1dFQkdMX2RlYnVnX3NoYWRlcnMiLCJfV0VCR0xfbG9zZV9jb250ZXh0IiwiaW5mbyIsIl9jYW52YXMiLCJjYW52YXNFbG0iLCJpc0FudGlhbGlhcyIsInVuZGVmaW5lZCIsImlzUHJlbXVsdGlwbGllZEFscGhhIiwid2ViR0xDdHhBdHRyaWJzIiwiYWxwaGEiLCJtYWNybyIsIkVOQUJMRV9UUkFOU1BBUkVOVF9DQU5WQVMiLCJhbnRpYWxpYXMiLCJkZXB0aCIsInN0ZW5jaWwiLCJwcmVtdWx0aXBsaWVkQWxwaGEiLCJwcmVzZXJ2ZURyYXdpbmdCdWZmZXIiLCJwb3dlclByZWZlcmVuY2UiLCJmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0IiwiZ2V0Q29udGV4dCIsImVyciIsImNvbnNvbGUiLCJlcnJvciIsIl9jYW52YXMyRCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIl9nZnhBUEkiLCJHRlhBUEkiLCJXRUJHTDIiLCJfZGV2aWNlTmFtZSIsImdsIiwiZ2V0RXh0ZW5zaW9uIiwiX3JlbmRlcmVyIiwiZ2V0UGFyYW1ldGVyIiwiVU5NQVNLRURfUkVOREVSRVJfV0VCR0wiLCJfdmVuZG9yIiwiVU5NQVNLRURfVkVORE9SX1dFQkdMIiwiUkVOREVSRVIiLCJWRU5ET1IiLCJfdmVyc2lvbiIsIlZFUlNJT04iLCJfbWF4VmVydGV4QXR0cmlidXRlcyIsIk1BWF9WRVJURVhfQVRUUklCUyIsIl9tYXhWZXJ0ZXhVbmlmb3JtVmVjdG9ycyIsIk1BWF9WRVJURVhfVU5JRk9STV9WRUNUT1JTIiwiX21heEZyYWdtZW50VW5pZm9ybVZlY3RvcnMiLCJNQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTIiwiX21heFRleHR1cmVVbml0cyIsIk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTIiwiX21heFZlcnRleFRleHR1cmVVbml0cyIsIk1BWF9WRVJURVhfVEVYVFVSRV9JTUFHRV9VTklUUyIsIl9tYXhVbmlmb3JtQnVmZmVyQmluZGluZ3MiLCJNQVhfVU5JRk9STV9CVUZGRVJfQklORElOR1MiLCJfbWF4VW5pZm9ybUJsb2NrU2l6ZSIsIk1BWF9VTklGT1JNX0JMT0NLX1NJWkUiLCJfbWF4VGV4dHVyZVNpemUiLCJNQVhfVEVYVFVSRV9TSVpFIiwiX21heEN1YmVNYXBUZXh0dXJlU2l6ZSIsIk1BWF9DVUJFX01BUF9URVhUVVJFX1NJWkUiLCJfZGVwdGhCaXRzIiwiREVQVEhfQklUUyIsIl9zdGVuY2lsQml0cyIsIlNURU5DSUxfQklUUyIsIl9kZXZpY2VQaXhlbFJhdGlvIiwiZGV2aWNlUGl4ZWxSYXRpbyIsIl93aWR0aCIsIndpZHRoIiwiX2hlaWdodCIsImhlaWdodCIsIl9uYXRpdmVXaWR0aCIsIk1hdGgiLCJtYXgiLCJuYXRpdmVXaWR0aCIsIl9uYXRpdmVIZWlnaHQiLCJuYXRpdmVIZWlnaHQiLCJfY29sb3JGbXQiLCJHRlhGb3JtYXQiLCJSR0JBOCIsIl9kZXB0aFN0ZW5jaWxGbXQiLCJEMzJGX1M4IiwiRDMyRiIsIkQyNFM4IiwiRDI0IiwiRDE2UzgiLCJEMTYiLCJnZXRTdXBwb3J0ZWRFeHRlbnNpb25zIiwiZXh0ZW5zaW9ucyIsImV4dCIsImRlYnVnIiwiX2ZlYXR1cmVzIiwiZmlsbCIsIkdGWEZlYXR1cmUiLCJURVhUVVJFX0ZMT0FUIiwiVEVYVFVSRV9IQUxGX0ZMT0FUIiwiRk9STUFUX1IxMUcxMUIxMEYiLCJGT1JNQVRfRDI0UzgiLCJNU0FBIiwiRUxFTUVOVF9JTkRFWF9VSU5UIiwiSU5TVEFOQ0VEX0FSUkFZUyIsIkNPTE9SX0ZMT0FUIiwiQ09MT1JfSEFMRl9GTE9BVCIsIlRFWFRVUkVfRkxPQVRfTElORUFSIiwiVEVYVFVSRV9IQUxGX0ZMT0FUX0xJTkVBUiIsImNvbXByZXNzZWRGb3JtYXQiLCJGT1JNQVRfRVRDMSIsIkZPUk1BVF9FVEMyIiwiRk9STUFUX0RYVCIsIkZPUk1BVF9QVlJUQyIsIkZPUk1BVF9BU1RDIiwiTUFYX1RFWFRVUkVfTUFYX0FOSVNPVFJPUFlfRVhUIiwiaW5pdFN0YXRlcyIsIl9xdWV1ZSIsImNyZWF0ZVF1ZXVlIiwidHlwZSIsIkdGWFF1ZXVlVHlwZSIsIkdSQVBISUNTIiwiY2FudmFzIiwiX21haW5XaW5kb3ciLCJjcmVhdGVXaW5kb3ciLCJ0aXRsZSIsImxlZnQiLCJvZmZzZXRMZWZ0IiwidG9wIiwib2Zmc2V0VG9wIiwiZHJhd2luZ0J1ZmZlcldpZHRoIiwiZHJhd2luZ0J1ZmZlckhlaWdodCIsImNvbG9yRm10IiwiZGVwdGhTdGVuY2lsRm10IiwiX2NtZEFsbG9jYXRvciIsImNyZWF0ZUNvbW1hbmRBbGxvY2F0b3IiLCJXZWJHTDJHRlhUZXh0dXJlIiwiaW5pdGlhbGl6ZSIsIkdGWFRleHR1cmVUeXBlIiwiVEVYMkQiLCJ1c2FnZSIsIkdGWFRleHR1cmVVc2FnZUJpdCIsIlNBTVBMRUQiLCJmb3JtYXQiLCJmbGFncyIsIkdGWFRleHR1cmVGbGFnQml0IiwiR0VOX01JUE1BUCIsImFycmF5TGF5ZXIiLCJDVUJFTUFQIiwibnVsbFRleFJlZ2lvbiIsImJ1ZmZPZmZzZXQiLCJidWZmU3RyaWRlIiwiYnVmZlRleEhlaWdodCIsInRleE9mZnNldCIsIngiLCJ5IiwieiIsInRleEV4dGVudCIsInRleFN1YnJlcyIsImJhc2VNaXBMZXZlbCIsImxldmVsQ291bnQiLCJiYXNlQXJyYXlMYXllciIsImxheWVyQ291bnQiLCJudWxsVGV4QnVmZiIsIlVpbnQ4QXJyYXkiLCJzaXplIiwiY29weUJ1ZmZlcnNUb1RleHR1cmUiLCJkZXN0cm95IiwiYnVmZmVyIiwiV2ViR0wyR0ZYQnVmZmVyIiwidGV4dHVyZSIsInRleFZpZXciLCJXZWJHTDJHRlhUZXh0dXJlVmlldyIsInNhbXBsZXIiLCJXZWJHTDJHRlhTYW1wbGVyIiwiYmluZGluZ0xheW91dCIsIldlYkdMMkdGWEJpbmRpbmdMYXlvdXQiLCJzaGFkZXIiLCJXZWJHTDJHRlhTaGFkZXIiLCJpbnB1dEFzc2VtYmxlciIsIldlYkdMMkdGWElucHV0QXNzZW1ibGVyIiwicmVuZGVyUGFzcyIsIldlYkdMMkdGWFJlbmRlclBhc3MiLCJmcmFtZWJ1ZmZlciIsIldlYkdMMkdGWEZyYW1lYnVmZmVyIiwicGlwZWxpbmVMYXlvdXQiLCJXZWJHTDJHRlhQaXBlbGluZUxheW91dCIsInBpcGVsaW5lU3RhdGUiLCJXZWJHTDJHRlhQaXBlbGluZVN0YXRlIiwiY21kQWxsb2NhdG9yIiwiV2ViR0wyR0ZYQ29tbWFuZEFsbG9jYXRvciIsImN0b3IiLCJHRlhDb21tYW5kQnVmZmVyVHlwZSIsIlBSSU1BUlkiLCJXZWJHTDJHRlhQcmltYXJ5Q29tbWFuZEJ1ZmZlciIsIldlYkdMMkdGWENvbW1hbmRCdWZmZXIiLCJjbWRCdWZmIiwicXVldWUiLCJXZWJHTDJHRlhRdWV1ZSIsIndpbmRvdyIsIldlYkdMMkdGWFdpbmRvdyIsInJlbGVhc2VDbWRzIiwiX251bURyYXdDYWxscyIsIm51bURyYXdDYWxscyIsIl9udW1JbnN0YW5jZXMiLCJudW1JbnN0YW5jZXMiLCJfbnVtVHJpcyIsIm51bVRyaXMiLCJjbGVhciIsImJ1ZmZlcnMiLCJyZWdpb25zIiwiZ3B1VGV4dHVyZSIsInRleEltYWdlcyIsInNyY0ZyYW1lYnVmZmVyIiwiZHN0QnVmZmVyIiwiZ3B1RnJhbWVidWZmZXIiLCJncHVDb2xvclZpZXdzIiwiZ2xGb3JtYXQiLCJnbFR5cGUiLCJHRlhGb3JtYXRJbmZvcyIsImN1ckZCTyIsImdsRnJhbWVidWZmZXIiLCJiaW5kRnJhbWVidWZmZXIiLCJGUkFNRUJVRkZFUiIsInZpZXciLCJyZWdpb24iLCJ3IiwiaCIsIm1lbVNpemUiLCJkYXRhIiwic3ViYXJyYXkiLCJyZWFkUGl4ZWxzIiwic3JjIiwiZHN0Iiwic3JjUmVjdCIsImRzdFJlY3QiLCJmaWx0ZXIiLCJzcmNGQk8iLCJkc3RGQk8iLCJwcmVmaXhlcyIsImkiLCJsZW5ndGgiLCJfZXh0IiwiYWN0aXZlVGV4dHVyZSIsIlRFWFRVUkUwIiwicGl4ZWxTdG9yZWkiLCJQQUNLX0FMSUdOTUVOVCIsIlVOUEFDS19BTElHTk1FTlQiLCJVTlBBQ0tfRkxJUF9ZX1dFQkdMIiwiZW5hYmxlIiwiQ1VMTF9GQUNFIiwiY3VsbEZhY2UiLCJCQUNLIiwiZnJvbnRGYWNlIiwiQ0NXIiwicG9seWdvbk9mZnNldCIsIkRFUFRIX1RFU1QiLCJkZXB0aE1hc2siLCJkZXB0aEZ1bmMiLCJMRVNTIiwic3RlbmNpbEZ1bmNTZXBhcmF0ZSIsIkZST05UIiwiQUxXQVlTIiwic3RlbmNpbE9wU2VwYXJhdGUiLCJLRUVQIiwic3RlbmNpbE1hc2tTZXBhcmF0ZSIsImRpc2FibGUiLCJTVEVOQ0lMX1RFU1QiLCJTQU1QTEVfQUxQSEFfVE9fQ09WRVJBR0UiLCJCTEVORCIsImJsZW5kRXF1YXRpb25TZXBhcmF0ZSIsIkZVTkNfQUREIiwiYmxlbmRGdW5jU2VwYXJhdGUiLCJPTkUiLCJaRVJPIiwiY29sb3JNYXNrIiwiYmxlbmRDb2xvciIsIkdGWERldmljZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFxRGFBLGU7Ozs7OzBCQUVnQztBQUNyQyxlQUFPLEtBQUtDLFNBQVo7QUFDSDs7OzBCQUVrQztBQUMvQixlQUFPLEtBQUtDLFlBQVo7QUFDSDs7OzBCQUUyQztBQUN4QyxlQUFPLEtBQUtDLHFCQUFaO0FBQ0g7OzswQkFFNkI7QUFDMUIsZUFBTyxLQUFLQyxPQUFaO0FBQ0g7OzswQkFFbUY7QUFDaEYsZUFBTyxLQUFLQywrQkFBWjtBQUNIOzs7MEJBRXVFO0FBQ3BFLGVBQU8sS0FBS0MseUJBQVo7QUFDSDs7OzBCQUVtRTtBQUNoRSxlQUFPLEtBQUtDLHVCQUFaO0FBQ0g7OzswQkFFcUY7QUFDbEYsZUFBTyxLQUFLQyxnQ0FBWjtBQUNIOzs7MEJBRWlGO0FBQzlFLGVBQU8sS0FBS0MsOEJBQVo7QUFDSDs7OzBCQUUrRTtBQUM1RSxlQUFPLEtBQUtDLDZCQUFaO0FBQ0g7OzswQkFFbUY7QUFDaEYsZUFBTyxLQUFLQywrQkFBWjtBQUNIOzs7MEJBRWlGO0FBQzlFLGVBQU8sS0FBS0MsOEJBQVo7QUFDSDs7OzBCQUUyRjtBQUN4RixlQUFPLEtBQUtDLG1DQUFaO0FBQ0g7OztBQTRCRCwrQkFBZTtBQUFBOztBQUFBOztBQUNYO0FBRFcsWUExQlJDLFVBMEJRLEdBMUJ1QixJQUFJQyxrQ0FBSixFQTBCdkI7QUFBQSxZQXpCUkMsU0F5QlEsR0F6QjZCLElBeUI3QjtBQUFBLFlBeEJSQyxXQXdCUSxHQXhCK0IsSUF3Qi9CO0FBQUEsWUF0QlBoQixTQXNCTyxHQXRCb0MsSUFzQnBDO0FBQUEsWUFyQlBDLFlBcUJPLEdBckJpQixJQXFCakI7QUFBQSxZQXBCUEMscUJBb0JPLEdBcEIwQixJQW9C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QTNPLFFBQUFBLEVBQUUsQ0FBQzRPLGlCQUFILENBQXFCNU8sRUFBRSxDQUFDNk8sR0FBeEIsRUFBNkI3TyxFQUFFLENBQUM4TyxJQUFoQyxFQUFzQzlPLEVBQUUsQ0FBQzZPLEdBQXpDLEVBQThDN08sRUFBRSxDQUFDOE8sSUFBakQ7QUFDQTlPLFFBQUFBLEVBQUUsQ0FBQytPLFNBQUgsQ0FBYSxJQUFiLEVBQW1CLElBQW5CLEVBQXlCLElBQXpCLEVBQStCLElBQS9CO0FBQ0EvTyxRQUFBQSxFQUFFLENBQUNnUCxVQUFILENBQWMsR0FBZCxFQUFtQixHQUFuQixFQUF3QixHQUF4QixFQUE2QixHQUE3QjtBQUNIOzs7O0lBam1CZ0NDLGlCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbWFjcm8gfSBmcm9tICcuLi8uLi9wbGF0Zm9ybSc7XHJcbmltcG9ydCB7IEdGWEJpbmRpbmdMYXlvdXQsIElHRlhCaW5kaW5nTGF5b3V0SW5mbyB9IGZyb20gJy4uL2JpbmRpbmctbGF5b3V0JztcclxuaW1wb3J0IHsgR0ZYQnVmZmVyLCBJR0ZYQnVmZmVySW5mbyB9IGZyb20gJy4uL2J1ZmZlcic7XHJcbmltcG9ydCB7IEdGWENvbW1hbmRBbGxvY2F0b3IsIElHRlhDb21tYW5kQWxsb2NhdG9ySW5mbyB9IGZyb20gJy4uL2NvbW1hbmQtYWxsb2NhdG9yJztcclxuaW1wb3J0IHsgR0ZYQ29tbWFuZEJ1ZmZlciwgSUdGWENvbW1hbmRCdWZmZXJJbmZvIH0gZnJvbSAnLi4vY29tbWFuZC1idWZmZXInO1xyXG5pbXBvcnQge1xyXG4gICAgZ2V0VHlwZWRBcnJheUNvbnN0cnVjdG9yLFxyXG4gICAgR0ZYQnVmZmVyVGV4dHVyZUNvcHksXHJcbiAgICBHRlhDb21tYW5kQnVmZmVyVHlwZSxcclxuICAgIEdGWEZpbHRlcixcclxuICAgIEdGWEZvcm1hdCxcclxuICAgIEdGWEZvcm1hdEluZm9zLFxyXG4gICAgR0ZYRm9ybWF0U2l6ZSxcclxuICAgIEdGWFF1ZXVlVHlwZSxcclxuICAgIEdGWFRleHR1cmVGbGFnQml0LFxyXG4gICAgR0ZYVGV4dHVyZVR5cGUsXHJcbiAgICBHRlhUZXh0dXJlVXNhZ2VCaXQsXHJcbiAgICBJR0ZYUmVjdCxcclxufSBmcm9tICcuLi9kZWZpbmUnO1xyXG5pbXBvcnQgeyBHRlhBUEksIEdGWERldmljZSwgR0ZYRmVhdHVyZSwgSUdGWERldmljZUluZm8gfSBmcm9tICcuLi9kZXZpY2UnO1xyXG5pbXBvcnQgeyBHRlhGcmFtZWJ1ZmZlciwgSUdGWEZyYW1lYnVmZmVySW5mbyB9IGZyb20gJy4uL2ZyYW1lYnVmZmVyJztcclxuaW1wb3J0IHsgR0ZYSW5wdXRBc3NlbWJsZXIsIElHRlhJbnB1dEFzc2VtYmxlckluZm8gfSBmcm9tICcuLi9pbnB1dC1hc3NlbWJsZXInO1xyXG5pbXBvcnQgeyBHRlhQaXBlbGluZUxheW91dCwgSUdGWFBpcGVsaW5lTGF5b3V0SW5mbyB9IGZyb20gJy4uL3BpcGVsaW5lLWxheW91dCc7XHJcbmltcG9ydCB7IEdGWFBpcGVsaW5lU3RhdGUsIElHRlhQaXBlbGluZVN0YXRlSW5mbyB9IGZyb20gJy4uL3BpcGVsaW5lLXN0YXRlJztcclxuaW1wb3J0IHsgR0ZYUXVldWUsIElHRlhRdWV1ZUluZm8gfSBmcm9tICcuLi9xdWV1ZSc7XHJcbmltcG9ydCB7IEdGWFJlbmRlclBhc3MsIElHRlhSZW5kZXJQYXNzSW5mbyB9IGZyb20gJy4uL3JlbmRlci1wYXNzJztcclxuaW1wb3J0IHsgR0ZYU2FtcGxlciwgSUdGWFNhbXBsZXJJbmZvIH0gZnJvbSAnLi4vc2FtcGxlcic7XHJcbmltcG9ydCB7IEdGWFNoYWRlciwgSUdGWFNoYWRlckluZm8gfSBmcm9tICcuLi9zaGFkZXInO1xyXG5pbXBvcnQgeyBHRlhUZXh0dXJlLCBJR0ZYVGV4dHVyZUluZm8gfSBmcm9tICcuLi90ZXh0dXJlJztcclxuaW1wb3J0IHsgR0ZYVGV4dHVyZVZpZXcsIElHRlhUZXh0dXJlVmlld0luZm8gfSBmcm9tICcuLi90ZXh0dXJlLXZpZXcnO1xyXG5pbXBvcnQgeyBHRlhXaW5kb3csIElHRlhXaW5kb3dJbmZvIH0gZnJvbSAnLi4vd2luZG93JztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYQmluZGluZ0xheW91dCB9IGZyb20gJy4vd2ViZ2wyLWJpbmRpbmctbGF5b3V0JztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYQnVmZmVyIH0gZnJvbSAnLi93ZWJnbDItYnVmZmVyJztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYQ29tbWFuZEFsbG9jYXRvciB9IGZyb20gJy4vd2ViZ2wyLWNvbW1hbmQtYWxsb2NhdG9yJztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYQ29tbWFuZEJ1ZmZlciB9IGZyb20gJy4vd2ViZ2wyLWNvbW1hbmQtYnVmZmVyJztcclxuaW1wb3J0IHtcclxuICAgIEdGWEZvcm1hdFRvV2ViR0xGb3JtYXQsIEdGWEZvcm1hdFRvV2ViR0xUeXBlLCBXZWJHTDJDbWRGdW5jQmxpdEZyYW1lYnVmZmVyLFxyXG4gICAgV2ViR0wyQ21kRnVuY0NvcHlCdWZmZXJzVG9UZXh0dXJlLCBXZWJHTDJDbWRGdW5jQ29weVRleEltYWdlc1RvVGV4dHVyZSxcclxufSBmcm9tICcuL3dlYmdsMi1jb21tYW5kcyc7XHJcbmltcG9ydCB7IFdlYkdMMkdGWEZyYW1lYnVmZmVyIH0gZnJvbSAnLi93ZWJnbDItZnJhbWVidWZmZXInO1xyXG5pbXBvcnQgeyBXZWJHTDJHRlhJbnB1dEFzc2VtYmxlciB9IGZyb20gJy4vd2ViZ2wyLWlucHV0LWFzc2VtYmxlcic7XHJcbmltcG9ydCB7IFdlYkdMMkdGWFBpcGVsaW5lTGF5b3V0IH0gZnJvbSAnLi93ZWJnbDItcGlwZWxpbmUtbGF5b3V0JztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYUGlwZWxpbmVTdGF0ZSB9IGZyb20gJy4vd2ViZ2wyLXBpcGVsaW5lLXN0YXRlJztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYUHJpbWFyeUNvbW1hbmRCdWZmZXIgfSBmcm9tICcuL3dlYmdsMi1wcmltYXJ5LWNvbW1hbmQtYnVmZmVyJztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYUXVldWUgfSBmcm9tICcuL3dlYmdsMi1xdWV1ZSc7XHJcbmltcG9ydCB7IFdlYkdMMkdGWFJlbmRlclBhc3MgfSBmcm9tICcuL3dlYmdsMi1yZW5kZXItcGFzcyc7XHJcbmltcG9ydCB7IFdlYkdMMkdGWFNhbXBsZXIgfSBmcm9tICcuL3dlYmdsMi1zYW1wbGVyJztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYU2hhZGVyIH0gZnJvbSAnLi93ZWJnbDItc2hhZGVyJztcclxuaW1wb3J0IHsgV2ViR0wyU3RhdGVDYWNoZSB9IGZyb20gJy4vd2ViZ2wyLXN0YXRlLWNhY2hlJztcclxuaW1wb3J0IHsgV2ViR0wyR0ZYVGV4dHVyZSB9IGZyb20gJy4vd2ViZ2wyLXRleHR1cmUnO1xyXG5pbXBvcnQgeyBXZWJHTDJHRlhUZXh0dXJlVmlldyB9IGZyb20gJy4vd2ViZ2wyLXRleHR1cmUtdmlldyc7XHJcbmltcG9ydCB7IFdlYkdMMkdGWFdpbmRvdyB9IGZyb20gJy4vd2ViZ2wyLXdpbmRvdyc7XHJcblxyXG5leHBvcnQgY2xhc3MgV2ViR0wyR0ZYRGV2aWNlIGV4dGVuZHMgR0ZYRGV2aWNlIHtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGdsICgpOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fd2ViR0wyUkMgYXMgV2ViR0wyUmVuZGVyaW5nQ29udGV4dDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGlzQW50aWFsaWFzICgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNBbnRpYWxpYXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBpc1ByZW11bHRpcGxpZWRBbHBoYSAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUHJlbXVsdGlwbGllZEFscGhhO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgdXNlVkFPICgpOiBib29sZWFuIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdXNlVkFPO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljICgpOiBFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fRVhUX3RleHR1cmVfZmlsdGVyX2FuaXNvdHJvcGljO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyICgpOiBPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCAoKTogRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9FWFRfY29sb3JfYnVmZmVyX2Zsb2F0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiAoKTogRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9FWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzEgKCk6IFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyAoKTogV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YyB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjICgpOiBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMgfCBudWxsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3B2cnRjO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMgKCk6IFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjIHwgbnVsbCB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiAoKTogV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiB8IG51bGwge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0ZUNhY2hlOiBXZWJHTDJTdGF0ZUNhY2hlID0gbmV3IFdlYkdMMlN0YXRlQ2FjaGUoKTtcclxuICAgIHB1YmxpYyBudWxsVGV4MkQ6IFdlYkdMMkdGWFRleHR1cmUgfCBudWxsID0gbnVsbDtcclxuICAgIHB1YmxpYyBudWxsVGV4Q3ViZTogV2ViR0wyR0ZYVGV4dHVyZSB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHByaXZhdGUgX3dlYkdMMlJDOiBXZWJHTDJSZW5kZXJpbmdDb250ZXh0IHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9pc0FudGlhbGlhczogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBwcml2YXRlIF9pc1ByZW11bHRpcGxpZWRBbHBoYTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBwcml2YXRlIF91c2VWQU86IGJvb2xlYW4gPSB0cnVlO1xyXG5cclxuICAgIHByaXZhdGUgX2V4dGVuc2lvbnM6IHN0cmluZ1tdIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9FWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWM6IEVYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyOiBPRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX09FU190ZXh0dXJlX2hhbGZfZmxvYXRfbGluZWFyOiBPRVNfdGV4dHVyZV9oYWxmX2Zsb2F0X2xpbmVhciB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdDogRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMjogRVhUX2Rpc2pvaW50X3RpbWVyX3F1ZXJ5X3dlYmdsMiB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YzE6IFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMxIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjOiBXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGM6IFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2FzdGM6IFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9hc3RjIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0YzogV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGMgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2I6IFdFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjX3NyZ2IgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm86IFdFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8gfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX1dFQkdMX3RleHR1cmVfc3RvcmFnZV9tdWx0aXNhbXBsZTogV0VCR0xfdGV4dHVyZV9zdG9yYWdlX211bHRpc2FtcGxlIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9XRUJHTF9kZWJ1Z19zaGFkZXJzOiBXRUJHTF9kZWJ1Z19zaGFkZXJzIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9XRUJHTF9sb3NlX2NvbnRleHQ6IFdFQkdMX2xvc2VfY29udGV4dCB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpbml0aWFsaXplIChpbmZvOiBJR0ZYRGV2aWNlSW5mbyk6IGJvb2xlYW4ge1xyXG5cclxuICAgICAgICB0aGlzLl9jYW52YXMgPSBpbmZvLmNhbnZhc0VsbSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9pc0FudGlhbGlhcyA9IGluZm8uaXNBbnRpYWxpYXMgIT09IHVuZGVmaW5lZCA/IGluZm8uaXNBbnRpYWxpYXMgOiB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2lzUHJlbXVsdGlwbGllZEFscGhhID0gaW5mby5pc1ByZW11bHRpcGxpZWRBbHBoYSAhPT0gdW5kZWZpbmVkID8gaW5mby5pc1ByZW11bHRpcGxpZWRBbHBoYSA6IHRydWU7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdlYkdMQ3R4QXR0cmliczogV2ViR0xDb250ZXh0QXR0cmlidXRlcyA9IHtcclxuICAgICAgICAgICAgICAgIGFscGhhOiBtYWNyby5FTkFCTEVfVFJBTlNQQVJFTlRfQ0FOVkFTLFxyXG4gICAgICAgICAgICAgICAgYW50aWFsaWFzOiB0aGlzLl9pc0FudGlhbGlhcyxcclxuICAgICAgICAgICAgICAgIGRlcHRoOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc3RlbmNpbDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHByZW11bHRpcGxpZWRBbHBoYTogdGhpcy5faXNQcmVtdWx0aXBsaWVkQWxwaGEsXHJcbiAgICAgICAgICAgICAgICBwcmVzZXJ2ZURyYXdpbmdCdWZmZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgcG93ZXJQcmVmZXJlbmNlOiAnZGVmYXVsdCcsXHJcbiAgICAgICAgICAgICAgICBmYWlsSWZNYWpvclBlcmZvcm1hbmNlQ2F2ZWF0OiBmYWxzZSxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3dlYkdMMlJDID0gdGhpcy5fY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicsIHdlYkdMQ3R4QXR0cmlicyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl93ZWJHTDJSQykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUaGlzIGRldmljZSBkb2VzIG5vdCBzdXBwb3J0IFdlYkdMMi4nKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY2FudmFzMkQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdXZWJHTDIgZGV2aWNlIGluaXRpYWxpemVkLicpO1xyXG5cclxuICAgICAgICB0aGlzLl9nZnhBUEkgPSBHRlhBUEkuV0VCR0wyO1xyXG4gICAgICAgIHRoaXMuX2RldmljZU5hbWUgPSAnV2ViR0wyJztcclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuX3dlYkdMMlJDO1xyXG5cclxuICAgICAgICB0aGlzLl9XRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvID0gdGhpcy5nZXRFeHRlbnNpb24oJ1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8nKTtcclxuICAgICAgICBpZiAodGhpcy5fV0VCR0xfZGVidWdfcmVuZGVyZXJfaW5mbykge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlciA9IGdsLmdldFBhcmFtZXRlcih0aGlzLl9XRUJHTF9kZWJ1Z19yZW5kZXJlcl9pbmZvLlVOTUFTS0VEX1JFTkRFUkVSX1dFQkdMKTtcclxuICAgICAgICAgICAgdGhpcy5fdmVuZG9yID0gZ2wuZ2V0UGFyYW1ldGVyKHRoaXMuX1dFQkdMX2RlYnVnX3JlbmRlcmVyX2luZm8uVU5NQVNLRURfVkVORE9SX1dFQkdMKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlciA9IGdsLmdldFBhcmFtZXRlcihnbC5SRU5ERVJFUik7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlbmRvciA9IGdsLmdldFBhcmFtZXRlcihnbC5WRU5ET1IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmVyc2lvbiA9IGdsLmdldFBhcmFtZXRlcihnbC5WRVJTSU9OKTtcclxuICAgICAgICB0aGlzLl9tYXhWZXJ0ZXhBdHRyaWJ1dGVzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9WRVJURVhfQVRUUklCUyk7XHJcbiAgICAgICAgdGhpcy5fbWF4VmVydGV4VW5pZm9ybVZlY3RvcnMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9VTklGT1JNX1ZFQ1RPUlMpO1xyXG4gICAgICAgIHRoaXMuX21heEZyYWdtZW50VW5pZm9ybVZlY3RvcnMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX0ZSQUdNRU5UX1VOSUZPUk1fVkVDVE9SUyk7XHJcbiAgICAgICAgdGhpcy5fbWF4VGV4dHVyZVVuaXRzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcclxuICAgICAgICB0aGlzLl9tYXhWZXJ0ZXhUZXh0dXJlVW5pdHMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1ZFUlRFWF9URVhUVVJFX0lNQUdFX1VOSVRTKTtcclxuICAgICAgICB0aGlzLl9tYXhVbmlmb3JtQnVmZmVyQmluZGluZ3MgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuTUFYX1VOSUZPUk1fQlVGRkVSX0JJTkRJTkdTKTtcclxuICAgICAgICB0aGlzLl9tYXhVbmlmb3JtQmxvY2tTaXplID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9VTklGT1JNX0JMT0NLX1NJWkUpO1xyXG4gICAgICAgIHRoaXMuX21heFRleHR1cmVTaXplID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9URVhUVVJFX1NJWkUpO1xyXG4gICAgICAgIHRoaXMuX21heEN1YmVNYXBUZXh0dXJlU2l6ZSA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfQ1VCRV9NQVBfVEVYVFVSRV9TSVpFKTtcclxuICAgICAgICB0aGlzLl9kZXB0aEJpdHMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuREVQVEhfQklUUyk7XHJcbiAgICAgICAgdGhpcy5fc3RlbmNpbEJpdHMgPSBnbC5nZXRQYXJhbWV0ZXIoZ2wuU1RFTkNJTF9CSVRTKTtcclxuICAgICAgICAvLyBsZXQgbWF4VmVydGV4VW5pZm9ybUJsb2NrcyA9IGdsLmdldFBhcmFtZXRlcihnbC5NQVhfVkVSVEVYX1VOSUZPUk1fQkxPQ0tTKTtcclxuICAgICAgICAvLyBsZXQgbWF4RnJhZ21lbnRVbmlmb3JtQmxvY2tzID0gZ2wuZ2V0UGFyYW1ldGVyKGdsLk1BWF9GUkFHTUVOVF9VTklGT1JNX0JMT0NLUyk7XHJcbiAgICAgICAgLy8gbGV0IHVib09mZnNldEFsaWdubWVudCA9IGdsLmdldFBhcmFtZXRlcihnbC5VTklGT1JNX0JVRkZFUl9PRkZTRVRfQUxJR05NRU5UKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZGV2aWNlUGl4ZWxSYXRpbyA9IGluZm8uZGV2aWNlUGl4ZWxSYXRpbyB8fCAxLjA7XHJcbiAgICAgICAgdGhpcy5fd2lkdGggPSB0aGlzLl9jYW52YXMud2lkdGg7XHJcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdGhpcy5fY2FudmFzLmhlaWdodDtcclxuICAgICAgICB0aGlzLl9uYXRpdmVXaWR0aCA9IE1hdGgubWF4KGluZm8ubmF0aXZlV2lkdGggfHwgdGhpcy5fd2lkdGgsIDApO1xyXG4gICAgICAgIHRoaXMuX25hdGl2ZUhlaWdodCA9IE1hdGgubWF4KGluZm8ubmF0aXZlSGVpZ2h0IHx8IHRoaXMuX2hlaWdodCwgMCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2NvbG9yRm10ID0gR0ZYRm9ybWF0LlJHQkE4O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fZGVwdGhCaXRzID09PSAzMikge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fc3RlbmNpbEJpdHMgPT09IDgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2RlcHRoU3RlbmNpbEZtdCA9IEdGWEZvcm1hdC5EMzJGX1M4O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVwdGhTdGVuY2lsRm10ID0gR0ZYRm9ybWF0LkQzMkY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2RlcHRoQml0cyA9PT0gMjQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0ZW5jaWxCaXRzID09PSA4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXB0aFN0ZW5jaWxGbXQgPSBHRlhGb3JtYXQuRDI0Uzg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXB0aFN0ZW5jaWxGbXQgPSBHRlhGb3JtYXQuRDI0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0ZW5jaWxCaXRzID09PSA4KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXB0aFN0ZW5jaWxGbXQgPSBHRlhGb3JtYXQuRDE2Uzg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9kZXB0aFN0ZW5jaWxGbXQgPSBHRlhGb3JtYXQuRDE2O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9leHRlbnNpb25zID0gZ2wuZ2V0U3VwcG9ydGVkRXh0ZW5zaW9ucygpO1xyXG4gICAgICAgIGxldCBleHRlbnNpb25zID0gJyc7XHJcbiAgICAgICAgaWYgKHRoaXMuX2V4dGVuc2lvbnMpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBleHQgb2YgdGhpcy5fZXh0ZW5zaW9ucykge1xyXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyArPSBleHQgKyAnICc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoJ0VYVEVOU0lPTlM6ICcgKyBleHRlbnNpb25zKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYyA9IHRoaXMuZ2V0RXh0ZW5zaW9uKCdFWFRfdGV4dHVyZV9maWx0ZXJfYW5pc290cm9waWMnKTtcclxuICAgICAgICB0aGlzLl9FWFRfY29sb3JfYnVmZmVyX2Zsb2F0ID0gdGhpcy5nZXRFeHRlbnNpb24oJ0VYVF9jb2xvcl9idWZmZXJfZmxvYXQnKTtcclxuICAgICAgICB0aGlzLl9FWFRfZGlzam9pbnRfdGltZXJfcXVlcnlfd2ViZ2wyID0gdGhpcy5nZXRFeHRlbnNpb24oJ0VYVF9kaXNqb2ludF90aW1lcl9xdWVyeV93ZWJnbDInKTtcclxuICAgICAgICB0aGlzLl9PRVNfdGV4dHVyZV9mbG9hdF9saW5lYXIgPSB0aGlzLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfZmxvYXRfbGluZWFyJyk7XHJcbiAgICAgICAgdGhpcy5fT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIgPSB0aGlzLmdldEV4dGVuc2lvbignT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXInKTtcclxuICAgICAgICB0aGlzLl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSA9IHRoaXMuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMScpO1xyXG4gICAgICAgIHRoaXMuX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9ldGMgPSB0aGlzLmdldEV4dGVuc2lvbignV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX2V0YycpO1xyXG4gICAgICAgIHRoaXMuX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9wdnJ0YyA9IHRoaXMuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMnKTtcclxuICAgICAgICB0aGlzLl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YyA9IHRoaXMuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0YycpO1xyXG4gICAgICAgIHRoaXMuX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjID0gdGhpcy5nZXRFeHRlbnNpb24oJ1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjJyk7XHJcbiAgICAgICAgdGhpcy5fV0VCR0xfY29tcHJlc3NlZF90ZXh0dXJlX3MzdGNfc3JnYiA9IHRoaXMuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfczN0Y19zcmdiJyk7XHJcbiAgICAgICAgdGhpcy5fV0VCR0xfdGV4dHVyZV9zdG9yYWdlX211bHRpc2FtcGxlID0gdGhpcy5nZXRFeHRlbnNpb24oJ1dFQkdMX3RleHR1cmVfc3RvcmFnZV9tdWx0aXNhbXBsZScpO1xyXG4gICAgICAgIHRoaXMuX1dFQkdMX2RlYnVnX3NoYWRlcnMgPSB0aGlzLmdldEV4dGVuc2lvbignV0VCR0xfZGVidWdfc2hhZGVycycpO1xyXG4gICAgICAgIHRoaXMuX1dFQkdMX2xvc2VfY29udGV4dCA9IHRoaXMuZ2V0RXh0ZW5zaW9uKCdXRUJHTF9sb3NlX2NvbnRleHQnKTtcclxuXHJcbiAgICAgICAgdGhpcy5fZmVhdHVyZXMuZmlsbChmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5fZmVhdHVyZXNbR0ZYRmVhdHVyZS5URVhUVVJFX0ZMT0FUXSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fZmVhdHVyZXNbR0ZYRmVhdHVyZS5URVhUVVJFX0hBTEZfRkxPQVRdID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9mZWF0dXJlc1tHRlhGZWF0dXJlLkZPUk1BVF9SMTFHMTFCMTBGXSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fZmVhdHVyZXNbR0ZYRmVhdHVyZS5GT1JNQVRfRDI0UzhdID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9mZWF0dXJlc1tHRlhGZWF0dXJlLk1TQUFdID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLl9mZWF0dXJlc1tHRlhGZWF0dXJlLkVMRU1FTlRfSU5ERVhfVUlOVF0gPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX2ZlYXR1cmVzW0dGWEZlYXR1cmUuSU5TVEFOQ0VEX0FSUkFZU10gPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fRVhUX2NvbG9yX2J1ZmZlcl9mbG9hdCkge1xyXG4gICAgICAgICAgICB0aGlzLl9mZWF0dXJlc1tHRlhGZWF0dXJlLkNPTE9SX0ZMT0FUXSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZlYXR1cmVzW0dGWEZlYXR1cmUuQ09MT1JfSEFMRl9GTE9BVF0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX09FU190ZXh0dXJlX2Zsb2F0X2xpbmVhcikge1xyXG4gICAgICAgICAgICB0aGlzLl9mZWF0dXJlc1tHRlhGZWF0dXJlLlRFWFRVUkVfRkxPQVRfTElORUFSXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fT0VTX3RleHR1cmVfaGFsZl9mbG9hdF9saW5lYXIpIHtcclxuICAgICAgICAgICAgdGhpcy5fZmVhdHVyZXNbR0ZYRmVhdHVyZS5URVhUVVJFX0hBTEZfRkxPQVRfTElORUFSXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgY29tcHJlc3NlZEZvcm1hdDogc3RyaW5nID0gJyc7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjMSkge1xyXG4gICAgICAgICAgICB0aGlzLl9mZWF0dXJlc1tHRlhGZWF0dXJlLkZPUk1BVF9FVEMxXSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbXByZXNzZWRGb3JtYXQgKz0gJ2V0YzEgJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfZXRjKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZlYXR1cmVzW0dGWEZlYXR1cmUuRk9STUFUX0VUQzJdID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29tcHJlc3NlZEZvcm1hdCArPSAnZXRjMiAnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX1dFQkdMX2NvbXByZXNzZWRfdGV4dHVyZV9zM3RjKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZlYXR1cmVzW0dGWEZlYXR1cmUuRk9STUFUX0RYVF0gPSB0cnVlO1xyXG4gICAgICAgICAgICBjb21wcmVzc2VkRm9ybWF0ICs9ICdkeHQgJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfcHZydGMpIHtcclxuICAgICAgICAgICAgdGhpcy5fZmVhdHVyZXNbR0ZYRmVhdHVyZS5GT1JNQVRfUFZSVENdID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29tcHJlc3NlZEZvcm1hdCArPSAncHZydGMgJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9XRUJHTF9jb21wcmVzc2VkX3RleHR1cmVfYXN0Yykge1xyXG4gICAgICAgICAgICB0aGlzLl9mZWF0dXJlc1tHRlhGZWF0dXJlLkZPUk1BVF9BU1RDXSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbXByZXNzZWRGb3JtYXQgKz0gJ2FzdGMgJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnUkVOREVSRVI6ICcgKyB0aGlzLl9yZW5kZXJlcik7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdWRU5ET1I6ICcgKyB0aGlzLl92ZW5kb3IpO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnVkVSU0lPTjogJyArIHRoaXMuX3ZlcnNpb24pO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnRFBSOiAnICsgdGhpcy5fZGV2aWNlUGl4ZWxSYXRpbyk7XHJcbiAgICAgICAgY29uc29sZS5pbmZvKCdTQ1JFRU5fU0laRTogJyArIHRoaXMuX3dpZHRoICsgJyB4ICcgKyB0aGlzLl9oZWlnaHQpO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnTkFUSVZFX1NJWkU6ICcgKyB0aGlzLl9uYXRpdmVXaWR0aCArICcgeCAnICsgdGhpcy5fbmF0aXZlSGVpZ2h0KTtcclxuICAgICAgICAvLyBjb25zb2xlLmluZm8oJ0NPTE9SX0ZPUk1BVDogJyArIEdGWEZvcm1hdEluZm9zW3RoaXMuX2NvbG9yRm10XS5uYW1lKTtcclxuICAgICAgICAvLyBjb25zb2xlLmluZm8oJ0RFUFRIX1NURU5DSUxfRk9STUFUOiAnICsgR0ZYRm9ybWF0SW5mb3NbdGhpcy5fZGVwdGhTdGVuY2lsRm10XS5uYW1lKTtcclxuICAgICAgICAvLyBjb25zb2xlLmluZm8oJ01BWF9WRVJURVhfQVRUUklCUzogJyArIHRoaXMuX21heFZlcnRleEF0dHJpYnV0ZXMpO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnTUFYX1ZFUlRFWF9VTklGT1JNX1ZFQ1RPUlM6ICcgKyB0aGlzLl9tYXhWZXJ0ZXhVbmlmb3JtVmVjdG9ycyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5pbmZvKCdNQVhfRlJBR01FTlRfVU5JRk9STV9WRUNUT1JTOiAnICsgdGhpcy5fbWF4RnJhZ21lbnRVbmlmb3JtVmVjdG9ycyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5pbmZvKCdNQVhfVEVYVFVSRV9JTUFHRV9VTklUUzogJyArIHRoaXMuX21heFRleHR1cmVVbml0cyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5pbmZvKCdNQVhfVkVSVEVYX1RFWFRVUkVfSU1BR0VfVU5JVFM6ICcgKyB0aGlzLl9tYXhWZXJ0ZXhUZXh0dXJlVW5pdHMpO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnTUFYX1VOSUZPUk1fQlVGRkVSX0JJTkRJTkdTOiAnICsgdGhpcy5fbWF4VW5pZm9ybUJ1ZmZlckJpbmRpbmdzKTtcclxuICAgICAgICAvLyBjb25zb2xlLmluZm8oJ01BWF9VTklGT1JNX0JMT0NLX1NJWkU6ICcgKyB0aGlzLl9tYXhVbmlmb3JtQmxvY2tTaXplKTtcclxuICAgICAgICBjb25zb2xlLmluZm8oJ0RFUFRIX0JJVFM6ICcgKyB0aGlzLl9kZXB0aEJpdHMpO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnU1RFTkNJTF9CSVRTOiAnICsgdGhpcy5fc3RlbmNpbEJpdHMpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUuaW5mbygnVU5JRk9STV9CVUZGRVJfT0ZGU0VUX0FMSUdOTUVOVDogJyArIHVib09mZnNldEFsaWdubWVudCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ01BWF9URVhUVVJFX01BWF9BTklTT1RST1BZX0VYVDogJyArIHRoaXMuX0VYVF90ZXh0dXJlX2ZpbHRlcl9hbmlzb3Ryb3BpYy5NQVhfVEVYVFVSRV9NQVhfQU5JU09UUk9QWV9FWFQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmluZm8oJ1VTRV9WQU86ICcgKyB0aGlzLl91c2VWQU8pO1xyXG4gICAgICAgIGNvbnNvbGUuaW5mbygnQ09NUFJFU1NFRF9GT1JNQVQ6ICcgKyBjb21wcmVzc2VkRm9ybWF0KTtcclxuXHJcbiAgICAgICAgLy8gaW5pdCBzdGF0ZXNcclxuICAgICAgICB0aGlzLmluaXRTdGF0ZXMoZ2wpO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgcXVldWVcclxuICAgICAgICB0aGlzLl9xdWV1ZSA9IHRoaXMuY3JlYXRlUXVldWUoeyB0eXBlOiBHRlhRdWV1ZVR5cGUuR1JBUEhJQ1MgfSk7XHJcblxyXG4gICAgICAgIC8vIGNyZWF0ZSBwcmltYXJ5IHdpbmRvd1xyXG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IHRoaXMuX3dlYkdMMlJDLmNhbnZhcyBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICB0aGlzLl9tYWluV2luZG93ID0gdGhpcy5jcmVhdGVXaW5kb3coe1xyXG4gICAgICAgICAgICB0aXRsZTogY2FudmFzLnRpdGxlIHx8ICcnLFxyXG4gICAgICAgICAgICBsZWZ0OiBjYW52YXMub2Zmc2V0TGVmdCB8fCAwLFxyXG4gICAgICAgICAgICB0b3A6IGNhbnZhcy5vZmZzZXRUb3AgfHwgMCxcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuX3dlYkdMMlJDLmRyYXdpbmdCdWZmZXJXaWR0aCxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLl93ZWJHTDJSQy5kcmF3aW5nQnVmZmVySGVpZ2h0LFxyXG4gICAgICAgICAgICBjb2xvckZtdDogdGhpcy5fY29sb3JGbXQsXHJcbiAgICAgICAgICAgIGRlcHRoU3RlbmNpbEZtdDogdGhpcy5fZGVwdGhTdGVuY2lsRm10LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9jbWRBbGxvY2F0b3IgPSB0aGlzLmNyZWF0ZUNvbW1hbmRBbGxvY2F0b3Ioe30pO1xyXG5cclxuICAgICAgICAvLyBjcmVhdGUgZGVmYXVsdCBudWxsIHRleHR1cmVcclxuICAgICAgICB0aGlzLm51bGxUZXgyRCA9IG5ldyBXZWJHTDJHRlhUZXh0dXJlKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubnVsbFRleDJELmluaXRpYWxpemUoe1xyXG4gICAgICAgICAgICB0eXBlOiBHRlhUZXh0dXJlVHlwZS5URVgyRCxcclxuICAgICAgICAgICAgdXNhZ2U6IEdGWFRleHR1cmVVc2FnZUJpdC5TQU1QTEVELFxyXG4gICAgICAgICAgICBmb3JtYXQ6IEdGWEZvcm1hdC5SR0JBOCxcclxuICAgICAgICAgICAgd2lkdGg6IDIsXHJcbiAgICAgICAgICAgIGhlaWdodDogMixcclxuICAgICAgICAgICAgZmxhZ3M6IEdGWFRleHR1cmVGbGFnQml0LkdFTl9NSVBNQVAsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMubnVsbFRleEN1YmUgPSBuZXcgV2ViR0wyR0ZYVGV4dHVyZSh0aGlzKTtcclxuICAgICAgICB0aGlzLm51bGxUZXhDdWJlLmluaXRpYWxpemUoe1xyXG4gICAgICAgICAgICB0eXBlOiBHRlhUZXh0dXJlVHlwZS5URVgyRCxcclxuICAgICAgICAgICAgdXNhZ2U6IEdGWFRleHR1cmVVc2FnZUJpdC5TQU1QTEVELFxyXG4gICAgICAgICAgICBmb3JtYXQ6IEdGWEZvcm1hdC5SR0JBOCxcclxuICAgICAgICAgICAgd2lkdGg6IDIsXHJcbiAgICAgICAgICAgIGhlaWdodDogMixcclxuICAgICAgICAgICAgYXJyYXlMYXllcjogNixcclxuICAgICAgICAgICAgZmxhZ3M6IEdGWFRleHR1cmVGbGFnQml0LkNVQkVNQVAgfCAgR0ZYVGV4dHVyZUZsYWdCaXQuR0VOX01JUE1BUCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbnVsbFRleFJlZ2lvbjogR0ZYQnVmZmVyVGV4dHVyZUNvcHkgPSB7XHJcbiAgICAgICAgICAgIGJ1ZmZPZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgIGJ1ZmZTdHJpZGU6IDAsXHJcbiAgICAgICAgICAgIGJ1ZmZUZXhIZWlnaHQ6IDAsXHJcbiAgICAgICAgICAgIHRleE9mZnNldDoge1xyXG4gICAgICAgICAgICAgICAgeDogMCxcclxuICAgICAgICAgICAgICAgIHk6IDAsXHJcbiAgICAgICAgICAgICAgICB6OiAwLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZXhFeHRlbnQ6IHtcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAyLFxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyLFxyXG4gICAgICAgICAgICAgICAgZGVwdGg6IDEsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRleFN1YnJlczoge1xyXG4gICAgICAgICAgICAgICAgYmFzZU1pcExldmVsOiAwLFxyXG4gICAgICAgICAgICAgICAgbGV2ZWxDb3VudDogMSxcclxuICAgICAgICAgICAgICAgIGJhc2VBcnJheUxheWVyOiAwLFxyXG4gICAgICAgICAgICAgICAgbGF5ZXJDb3VudDogMSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBudWxsVGV4QnVmZiA9IG5ldyBVaW50OEFycmF5KHRoaXMubnVsbFRleDJELnNpemUpO1xyXG4gICAgICAgIG51bGxUZXhCdWZmLmZpbGwoMCk7XHJcbiAgICAgICAgdGhpcy5jb3B5QnVmZmVyc1RvVGV4dHVyZShbbnVsbFRleEJ1ZmZdLCB0aGlzLm51bGxUZXgyRCwgW251bGxUZXhSZWdpb25dKTtcclxuXHJcbiAgICAgICAgbnVsbFRleFJlZ2lvbi50ZXhTdWJyZXMubGF5ZXJDb3VudCA9IDY7XHJcbiAgICAgICAgdGhpcy5jb3B5QnVmZmVyc1RvVGV4dHVyZShcclxuICAgICAgICAgICAgW251bGxUZXhCdWZmLCBudWxsVGV4QnVmZiwgbnVsbFRleEJ1ZmYsIG51bGxUZXhCdWZmLCBudWxsVGV4QnVmZiwgbnVsbFRleEJ1ZmZdLFxyXG4gICAgICAgICAgICB0aGlzLm51bGxUZXhDdWJlLCBbbnVsbFRleFJlZ2lvbl0pO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSAoKTogdm9pZCB7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm51bGxUZXgyRCkge1xyXG4gICAgICAgICAgICB0aGlzLm51bGxUZXgyRC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMubnVsbFRleDJEID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm51bGxUZXhDdWJlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubnVsbFRleEN1YmUuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLm51bGxUZXhDdWJlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9tYWluV2luZG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX21haW5XaW5kb3cuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9tYWluV2luZG93ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9jbWRBbGxvY2F0b3IpIHtcclxuICAgICAgICAgICAgdGhpcy5fY21kQWxsb2NhdG9yLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgdGhpcy5fY21kQWxsb2NhdG9yID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9xdWV1ZS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3dlYkdMMlJDID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLl93aWR0aCAhPT0gd2lkdGggfHwgdGhpcy5faGVpZ2h0ICE9PSBoZWlnaHQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdSZXNpemluZyBkZXZpY2U6ICcgKyB3aWR0aCArICd4JyArIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcyEud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy5fY2FudmFzIS5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZUJ1ZmZlciAoaW5mbzogSUdGWEJ1ZmZlckluZm8pOiBHRlhCdWZmZXIge1xyXG4gICAgICAgIGNvbnN0IGJ1ZmZlciA9IG5ldyBXZWJHTDJHRlhCdWZmZXIodGhpcyk7XHJcbiAgICAgICAgYnVmZmVyLmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIGJ1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlVGV4dHVyZSAoaW5mbzogSUdGWFRleHR1cmVJbmZvKTogR0ZYVGV4dHVyZSB7XHJcbiAgICAgICAgY29uc3QgdGV4dHVyZSA9IG5ldyBXZWJHTDJHRlhUZXh0dXJlKHRoaXMpO1xyXG4gICAgICAgIHRleHR1cmUuaW5pdGlhbGl6ZShpbmZvKTtcclxuICAgICAgICByZXR1cm4gdGV4dHVyZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlVGV4dHVyZVZpZXcgKGluZm86IElHRlhUZXh0dXJlVmlld0luZm8pOiBHRlhUZXh0dXJlVmlldyB7XHJcbiAgICAgICAgY29uc3QgdGV4VmlldyA9IG5ldyBXZWJHTDJHRlhUZXh0dXJlVmlldyh0aGlzKTtcclxuICAgICAgICB0ZXhWaWV3LmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIHRleFZpZXc7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVNhbXBsZXIgKGluZm86IElHRlhTYW1wbGVySW5mbyk6IEdGWFNhbXBsZXIge1xyXG4gICAgICAgIGNvbnN0IHNhbXBsZXIgPSBuZXcgV2ViR0wyR0ZYU2FtcGxlcih0aGlzKTtcclxuICAgICAgICBzYW1wbGVyLmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIHNhbXBsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZUJpbmRpbmdMYXlvdXQgKGluZm86IElHRlhCaW5kaW5nTGF5b3V0SW5mbyk6IEdGWEJpbmRpbmdMYXlvdXQge1xyXG4gICAgICAgIGNvbnN0IGJpbmRpbmdMYXlvdXQgPSBuZXcgV2ViR0wyR0ZYQmluZGluZ0xheW91dCh0aGlzKTtcclxuICAgICAgICBiaW5kaW5nTGF5b3V0LmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIGJpbmRpbmdMYXlvdXQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVNoYWRlciAoaW5mbzogSUdGWFNoYWRlckluZm8pOiBHRlhTaGFkZXIge1xyXG4gICAgICAgIGNvbnN0IHNoYWRlciA9IG5ldyBXZWJHTDJHRlhTaGFkZXIodGhpcyk7XHJcbiAgICAgICAgc2hhZGVyLmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIHNoYWRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlSW5wdXRBc3NlbWJsZXIgKGluZm86IElHRlhJbnB1dEFzc2VtYmxlckluZm8pOiBHRlhJbnB1dEFzc2VtYmxlciB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRBc3NlbWJsZXIgPSBuZXcgV2ViR0wyR0ZYSW5wdXRBc3NlbWJsZXIodGhpcyk7XHJcbiAgICAgICAgaW5wdXRBc3NlbWJsZXIuaW5pdGlhbGl6ZShpbmZvKTtcclxuICAgICAgICByZXR1cm4gaW5wdXRBc3NlbWJsZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVJlbmRlclBhc3MgKGluZm86IElHRlhSZW5kZXJQYXNzSW5mbyk6IEdGWFJlbmRlclBhc3Mge1xyXG4gICAgICAgIGNvbnN0IHJlbmRlclBhc3MgPSBuZXcgV2ViR0wyR0ZYUmVuZGVyUGFzcyh0aGlzKTtcclxuICAgICAgICByZW5kZXJQYXNzLmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIHJlbmRlclBhc3M7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZUZyYW1lYnVmZmVyIChpbmZvOiBJR0ZYRnJhbWVidWZmZXJJbmZvKTogR0ZYRnJhbWVidWZmZXIge1xyXG4gICAgICAgIGNvbnN0IGZyYW1lYnVmZmVyID0gbmV3IFdlYkdMMkdGWEZyYW1lYnVmZmVyKHRoaXMpO1xyXG4gICAgICAgIGZyYW1lYnVmZmVyLmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIGZyYW1lYnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVQaXBlbGluZUxheW91dCAoaW5mbzogSUdGWFBpcGVsaW5lTGF5b3V0SW5mbyk6IEdGWFBpcGVsaW5lTGF5b3V0IHtcclxuICAgICAgICBjb25zdCBwaXBlbGluZUxheW91dCA9IG5ldyBXZWJHTDJHRlhQaXBlbGluZUxheW91dCh0aGlzKTtcclxuICAgICAgICBwaXBlbGluZUxheW91dC5pbml0aWFsaXplKGluZm8pO1xyXG4gICAgICAgIHJldHVybiBwaXBlbGluZUxheW91dDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlUGlwZWxpbmVTdGF0ZSAoaW5mbzogSUdGWFBpcGVsaW5lU3RhdGVJbmZvKTogR0ZYUGlwZWxpbmVTdGF0ZSB7XHJcbiAgICAgICAgY29uc3QgcGlwZWxpbmVTdGF0ZSA9IG5ldyBXZWJHTDJHRlhQaXBlbGluZVN0YXRlKHRoaXMpO1xyXG4gICAgICAgIHBpcGVsaW5lU3RhdGUuaW5pdGlhbGl6ZShpbmZvKTtcclxuICAgICAgICByZXR1cm4gcGlwZWxpbmVTdGF0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ29tbWFuZEFsbG9jYXRvciAoaW5mbzogSUdGWENvbW1hbmRBbGxvY2F0b3JJbmZvKTogR0ZYQ29tbWFuZEFsbG9jYXRvciB7XHJcbiAgICAgICAgY29uc3QgY21kQWxsb2NhdG9yID0gbmV3IFdlYkdMMkdGWENvbW1hbmRBbGxvY2F0b3IodGhpcyk7XHJcbiAgICAgICAgY21kQWxsb2NhdG9yLmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIGNtZEFsbG9jYXRvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY3JlYXRlQ29tbWFuZEJ1ZmZlciAoaW5mbzogSUdGWENvbW1hbmRCdWZmZXJJbmZvKTogR0ZYQ29tbWFuZEJ1ZmZlciB7XHJcbiAgICAgICAgLy8gY29uc3QgY3RvciA9IFdlYkdMMkdGWENvbW1hbmRCdWZmZXI7IC8vIG9wdCB0byBpbnN0YW50IGludm9jYXRpb25cclxuICAgICAgICBjb25zdCBjdG9yID0gaW5mby50eXBlID09PSBHRlhDb21tYW5kQnVmZmVyVHlwZS5QUklNQVJZID8gV2ViR0wyR0ZYUHJpbWFyeUNvbW1hbmRCdWZmZXIgOiBXZWJHTDJHRlhDb21tYW5kQnVmZmVyO1xyXG4gICAgICAgIGNvbnN0IGNtZEJ1ZmYgPSBuZXcgY3Rvcih0aGlzKTtcclxuICAgICAgICBjbWRCdWZmLmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIGNtZEJ1ZmY7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNyZWF0ZVF1ZXVlIChpbmZvOiBJR0ZYUXVldWVJbmZvKTogR0ZYUXVldWUge1xyXG4gICAgICAgIGNvbnN0IHF1ZXVlID0gbmV3IFdlYkdMMkdGWFF1ZXVlKHRoaXMpO1xyXG4gICAgICAgIHF1ZXVlLmluaXRpYWxpemUoaW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIHF1ZXVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVXaW5kb3cgKGluZm86IElHRlhXaW5kb3dJbmZvKTogR0ZYV2luZG93IHtcclxuICAgICAgICBjb25zdCB3aW5kb3cgPSBuZXcgV2ViR0wyR0ZYV2luZG93KHRoaXMpO1xyXG4gICAgICAgIHdpbmRvdy5pbml0aWFsaXplKGluZm8pO1xyXG4gICAgICAgIHJldHVybiB3aW5kb3c7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZXNlbnQgKCkge1xyXG4gICAgICAgICh0aGlzLl9jbWRBbGxvY2F0b3IgYXMgV2ViR0wyR0ZYQ29tbWFuZEFsbG9jYXRvcikucmVsZWFzZUNtZHMoKTtcclxuICAgICAgICBjb25zdCBxdWV1ZSA9ICh0aGlzLl9xdWV1ZSBhcyBXZWJHTDJHRlhRdWV1ZSk7XHJcbiAgICAgICAgdGhpcy5fbnVtRHJhd0NhbGxzID0gcXVldWUubnVtRHJhd0NhbGxzO1xyXG4gICAgICAgIHRoaXMuX251bUluc3RhbmNlcyA9IHF1ZXVlLm51bUluc3RhbmNlcztcclxuICAgICAgICB0aGlzLl9udW1UcmlzID0gcXVldWUubnVtVHJpcztcclxuICAgICAgICBxdWV1ZS5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb3B5QnVmZmVyc1RvVGV4dHVyZSAoYnVmZmVyczogQXJyYXlCdWZmZXJWaWV3W10sIHRleHR1cmU6IEdGWFRleHR1cmUsIHJlZ2lvbnM6IEdGWEJ1ZmZlclRleHR1cmVDb3B5W10pIHtcclxuICAgICAgICBXZWJHTDJDbWRGdW5jQ29weUJ1ZmZlcnNUb1RleHR1cmUoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgIGJ1ZmZlcnMsXHJcbiAgICAgICAgICAgICh0ZXh0dXJlIGFzIFdlYkdMMkdGWFRleHR1cmUpLmdwdVRleHR1cmUsXHJcbiAgICAgICAgICAgIHJlZ2lvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb3B5VGV4SW1hZ2VzVG9UZXh0dXJlIChcclxuICAgICAgICB0ZXhJbWFnZXM6IFRleEltYWdlU291cmNlW10sXHJcbiAgICAgICAgdGV4dHVyZTogR0ZYVGV4dHVyZSxcclxuICAgICAgICByZWdpb25zOiBHRlhCdWZmZXJUZXh0dXJlQ29weVtdKSB7XHJcblxyXG4gICAgICAgIFdlYkdMMkNtZEZ1bmNDb3B5VGV4SW1hZ2VzVG9UZXh0dXJlKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICB0ZXhJbWFnZXMsXHJcbiAgICAgICAgICAgICh0ZXh0dXJlIGFzIFdlYkdMMkdGWFRleHR1cmUpLmdwdVRleHR1cmUsXHJcbiAgICAgICAgICAgIHJlZ2lvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjb3B5RnJhbWVidWZmZXJUb0J1ZmZlciAoXHJcbiAgICAgICAgc3JjRnJhbWVidWZmZXI6IEdGWEZyYW1lYnVmZmVyLFxyXG4gICAgICAgIGRzdEJ1ZmZlcjogQXJyYXlCdWZmZXIsXHJcbiAgICAgICAgcmVnaW9uczogR0ZYQnVmZmVyVGV4dHVyZUNvcHlbXSkge1xyXG5cclxuICAgICAgICBjb25zdCBnbCA9IHRoaXMuX3dlYkdMMlJDITtcclxuICAgICAgICBjb25zdCBncHVGcmFtZWJ1ZmZlciA9IChzcmNGcmFtZWJ1ZmZlciBhcyBXZWJHTDJHRlhGcmFtZWJ1ZmZlcikuZ3B1RnJhbWVidWZmZXI7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0ID0gZ3B1RnJhbWVidWZmZXIuZ3B1Q29sb3JWaWV3c1swXS5mb3JtYXQ7XHJcbiAgICAgICAgY29uc3QgZ2xGb3JtYXQgPSBHRlhGb3JtYXRUb1dlYkdMRm9ybWF0KGZvcm1hdCwgZ2wpO1xyXG4gICAgICAgIGNvbnN0IGdsVHlwZSA9IEdGWEZvcm1hdFRvV2ViR0xUeXBlKGZvcm1hdCwgZ2wpO1xyXG4gICAgICAgIGNvbnN0IGN0b3IgPSBnZXRUeXBlZEFycmF5Q29uc3RydWN0b3IoR0ZYRm9ybWF0SW5mb3NbZm9ybWF0XSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1ckZCTyA9IHRoaXMuc3RhdGVDYWNoZS5nbEZyYW1lYnVmZmVyO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdGF0ZUNhY2hlLmdsRnJhbWVidWZmZXIgIT09IGdwdUZyYW1lYnVmZmVyLmdsRnJhbWVidWZmZXIpIHtcclxuICAgICAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBncHVGcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUNhY2hlLmdsRnJhbWVidWZmZXIgPSBncHVGcmFtZWJ1ZmZlci5nbEZyYW1lYnVmZmVyO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdmlldyA9IG5ldyBjdG9yKGRzdEJ1ZmZlcik7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIHJlZ2lvbnMpIHtcclxuICAgICAgICAgICAgY29uc3QgYnVmZk9mZnNldCA9IHJlZ2lvbi5idWZmT2Zmc2V0ICsgcmVnaW9uLmJ1ZmZUZXhIZWlnaHQgKiByZWdpb24uYnVmZlN0cmlkZTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSByZWdpb24udGV4RXh0ZW50LndpZHRoO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gcmVnaW9uLnRleEV4dGVudC5oZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBtZW1TaXplID0gR0ZYRm9ybWF0U2l6ZShmb3JtYXQsIHcsIGgsIDEpO1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gdmlldy5zdWJhcnJheShidWZmT2Zmc2V0LCBidWZmT2Zmc2V0ICsgbWVtU2l6ZSk7XHJcblxyXG4gICAgICAgICAgICBnbC5yZWFkUGl4ZWxzKHJlZ2lvbi50ZXhPZmZzZXQueCwgcmVnaW9uLnRleE9mZnNldC55LCB3LCBoLCBnbEZvcm1hdCwgZ2xUeXBlLCBkYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlQ2FjaGUuZ2xGcmFtZWJ1ZmZlciAhPT0gY3VyRkJPKSB7XHJcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgY3VyRkJPKTtcclxuICAgICAgICAgICAgdGhpcy5zdGF0ZUNhY2hlLmdsRnJhbWVidWZmZXIgPSBjdXJGQk87XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBibGl0RnJhbWVidWZmZXIgKHNyYzogR0ZYRnJhbWVidWZmZXIsIGRzdDogR0ZYRnJhbWVidWZmZXIsIHNyY1JlY3Q6IElHRlhSZWN0LCBkc3RSZWN0OiBJR0ZYUmVjdCwgZmlsdGVyOiBHRlhGaWx0ZXIpIHtcclxuICAgICAgICBjb25zdCBzcmNGQk8gPSAoc3JjIGFzIFdlYkdMMkdGWEZyYW1lYnVmZmVyKS5ncHVGcmFtZWJ1ZmZlcjtcclxuICAgICAgICBjb25zdCBkc3RGQk8gPSAoZHN0IGFzIFdlYkdMMkdGWEZyYW1lYnVmZmVyKS5ncHVGcmFtZWJ1ZmZlcjtcclxuXHJcbiAgICAgICAgV2ViR0wyQ21kRnVuY0JsaXRGcmFtZWJ1ZmZlcihcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgc3JjRkJPLFxyXG4gICAgICAgICAgICBkc3RGQk8sXHJcbiAgICAgICAgICAgIHNyY1JlY3QsXHJcbiAgICAgICAgICAgIGRzdFJlY3QsXHJcbiAgICAgICAgICAgIGZpbHRlcixcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0RXh0ZW5zaW9uIChleHQ6IHN0cmluZyk6IGFueSB7XHJcbiAgICAgICAgY29uc3QgcHJlZml4ZXMgPSBbJycsICdXRUJLSVRfJywgJ01PWl8nXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IF9leHQgPSB0aGlzLl93ZWJHTDJSQyEuZ2V0RXh0ZW5zaW9uKHByZWZpeGVzW2ldICsgZXh0KTtcclxuICAgICAgICAgICAgaWYgKF9leHQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaW5pdFN0YXRlcyAoZ2w6IFdlYkdMMlJlbmRlcmluZ0NvbnRleHQpIHtcclxuXHJcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMCk7XHJcbiAgICAgICAgZ2wucGl4ZWxTdG9yZWkoZ2wuUEFDS19BTElHTk1FTlQsIDEpO1xyXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19BTElHTk1FTlQsIDEpO1xyXG4gICAgICAgIGdsLnBpeGVsU3RvcmVpKGdsLlVOUEFDS19GTElQX1lfV0VCR0wsIDApO1xyXG5cclxuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xyXG5cclxuICAgICAgICAvLyByYXN0ZXJpYXplciBzdGF0ZVxyXG4gICAgICAgIGdsLmVuYWJsZShnbC5DVUxMX0ZBQ0UpO1xyXG4gICAgICAgIGdsLmN1bGxGYWNlKGdsLkJBQ0spO1xyXG4gICAgICAgIGdsLmZyb250RmFjZShnbC5DQ1cpO1xyXG4gICAgICAgIGdsLnBvbHlnb25PZmZzZXQoMC4wLCAwLjApO1xyXG5cclxuICAgICAgICAvLyBkZXB0aCBzdGVuY2lsIHN0YXRlXHJcbiAgICAgICAgZ2wuZW5hYmxlKGdsLkRFUFRIX1RFU1QpO1xyXG4gICAgICAgIGdsLmRlcHRoTWFzayh0cnVlKTtcclxuICAgICAgICBnbC5kZXB0aEZ1bmMoZ2wuTEVTUyk7XHJcblxyXG4gICAgICAgIGdsLnN0ZW5jaWxGdW5jU2VwYXJhdGUoZ2wuRlJPTlQsIGdsLkFMV0FZUywgMSwgMHhmZmZmKTtcclxuICAgICAgICBnbC5zdGVuY2lsT3BTZXBhcmF0ZShnbC5GUk9OVCwgZ2wuS0VFUCwgZ2wuS0VFUCwgZ2wuS0VFUCk7XHJcbiAgICAgICAgZ2wuc3RlbmNpbE1hc2tTZXBhcmF0ZShnbC5GUk9OVCwgMHhmZmZmKTtcclxuICAgICAgICBnbC5zdGVuY2lsRnVuY1NlcGFyYXRlKGdsLkJBQ0ssIGdsLkFMV0FZUywgMSwgMHhmZmZmKTtcclxuICAgICAgICBnbC5zdGVuY2lsT3BTZXBhcmF0ZShnbC5CQUNLLCBnbC5LRUVQLCBnbC5LRUVQLCBnbC5LRUVQKTtcclxuICAgICAgICBnbC5zdGVuY2lsTWFza1NlcGFyYXRlKGdsLkJBQ0ssIDB4ZmZmZik7XHJcblxyXG4gICAgICAgIGdsLmRpc2FibGUoZ2wuU1RFTkNJTF9URVNUKTtcclxuXHJcbiAgICAgICAgLy8gYmxlbmQgc3RhdGVcclxuICAgICAgICBnbC5kaXNhYmxlKGdsLlNBTVBMRV9BTFBIQV9UT19DT1ZFUkFHRSk7XHJcbiAgICAgICAgZ2wuZGlzYWJsZShnbC5CTEVORCk7XHJcbiAgICAgICAgZ2wuYmxlbmRFcXVhdGlvblNlcGFyYXRlKGdsLkZVTkNfQURELCBnbC5GVU5DX0FERCk7XHJcbiAgICAgICAgZ2wuYmxlbmRGdW5jU2VwYXJhdGUoZ2wuT05FLCBnbC5aRVJPLCBnbC5PTkUsIGdsLlpFUk8pO1xyXG4gICAgICAgIGdsLmNvbG9yTWFzayh0cnVlLCB0cnVlLCB0cnVlLCB0cnVlKTtcclxuICAgICAgICBnbC5ibGVuZENvbG9yKDAuMCwgMC4wLCAwLjAsIDAuMCk7XHJcbiAgICB9XHJcbn1cclxuIl19