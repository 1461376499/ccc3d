(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../core/assets/index.js", "../../core/components/index.js", "../../core/data/class-decorator.js", "../../core/platform/index.js", "../../core/math/index.js", "../../core/value-types/enum.js", "../../core/math/utils.js", "../../core/scene-graph/node.js", "./sprite-component.js", "../../core/components/ui-base/ui-render-component.js", "../../core/default-constants.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../core/assets/index.js"), require("../../core/components/index.js"), require("../../core/data/class-decorator.js"), require("../../core/platform/index.js"), require("../../core/math/index.js"), require("../../core/value-types/enum.js"), require("../../core/math/utils.js"), require("../../core/scene-graph/node.js"), require("./sprite-component.js"), require("../../core/components/ui-base/ui-render-component.js"), require("../../core/default-constants.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.index, global.index, global.classDecorator, global.index, global.index, global._enum, global.utils, global.node, global.spriteComponent, global.uiRenderComponent, global.defaultConstants);
    global.buttonComponent = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _index, _index2, _classDecorator, _index3, _index4, _enum, _utils, _node, _spriteComponent, _uiRenderComponent, _defaultConstants) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.ButtonComponent = _exports.EventType = void 0;

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _class3, _temp;

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  var _tempColor = new _index4.Color();
  /**
   * @en Enum for transition type.
   *
   * @zh 过渡类型。
   */


  var Transition;

  (function (Transition) {
    Transition[Transition["NONE"] = 0] = "NONE";
    Transition[Transition["COLOR"] = 1] = "COLOR";
    Transition[Transition["SPRITE"] = 2] = "SPRITE";
    Transition[Transition["SCALE"] = 3] = "SCALE";
  })(Transition || (Transition = {}));

  (0, _enum.ccenum)(Transition);
  var State;

  (function (State) {
    State["NORMAL"] = "normal";
    State["HOVER"] = "hover";
    State["PRESSED"] = "pressed";
    State["DISABLED"] = "disabled";
  })(State || (State = {}));

  var EventType;
  /**
   * @en
   * Button has 4 Transition types<br/>
   * When Button state changed:<br/>
   *  If Transition type is Button.Transition.NONE, Button will do nothing<br/>
   *  If Transition type is Button.Transition.COLOR, Button will change target's color<br/>
   *  If Transition type is Button.Transition.SPRITE, Button will change target Sprite's sprite<br/>
   *  If Transition type is Button.Transition.SCALE, Button will change target node's scale<br/>
   *
   * Button will trigger 5 events:<br/>
   *  Button.EVENT_TOUCH_DOWN<br/>
   *  Button.EVENT_TOUCH_UP<br/>
   *  Button.EVENT_HOVER_IN<br/>
   *  Button.EVENT_HOVER_MOVE<br/>
   *  Button.EVENT_HOVER_OUT<br/>
   *  User can get the current clicked node with 'event.target' from event object which is passed as parameter in the callback function of click event.
   *
   * @zh
   * 按钮组件。可以被按下,或者点击。<br/>
   *
   * 按钮可以通过修改 Transition 来设置按钮状态过渡的方式：<br/>
   *   -Button.Transition.NONE   // 不做任何过渡<br/>
   *   -Button.Transition.COLOR  // 进行颜色之间过渡<br/>
   *   -Button.Transition.SPRITE // 进行精灵之间过渡<br/>
   *   -Button.Transition.SCALE // 进行缩放过渡<br/>
   *
   * 按钮可以绑定事件（但是必须要在按钮的 Node 上才能绑定事件）：<br/>
   *   // 以下事件可以在全平台上都触发<br/>
   *   -cc.Node.EventType.TOUCH_START  // 按下时事件<br/>
   *   -cc.Node.EventType.TOUCH_Move   // 按住移动后事件<br/>
   *   -cc.Node.EventType.TOUCH_END    // 按下后松开后事件<br/>
   *   -cc.Node.EventType.TOUCH_CANCEL // 按下取消事件<br/>
   *   // 以下事件只在 PC 平台上触发<br/>
   *   -cc.Node.EventType.MOUSE_DOWN  // 鼠标按下时事件<br/>
   *   -cc.Node.EventType.MOUSE_MOVE  // 鼠标按住移动后事件<br/>
   *   -cc.Node.EventType.MOUSE_ENTER // 鼠标进入目标事件<br/>
   *   -cc.Node.EventType.MOUSE_LEAVE // 鼠标离开目标事件<br/>
   *   -cc.Node.EventType.MOUSE_UP    // 鼠标松开事件<br/>
   *   -cc.Node.EventType.MOUSE_WHEEL // 鼠标滚轮事件<br/>
   *
   * @example
   * ```typescript
   * // Add an event to the button.
   * button.node.on(cc.Node.EventType.TOUCH_START, (event) => {
   *     cc.log("This is a callback after the trigger event");
   * });
   * // You could also add a click event
   * //Note: In this way, you can't get the touch event info, so use it wisely.
   * button.node.on('click', (button) => {
   *    //The event is a custom event, you could get the Button component via first argument
   * })
   * ```
   */

  _exports.EventType = EventType;

  (function (EventType) {
    EventType["CLICK"] = "click";
  })(EventType || (_exports.EventType = EventType = {}));

  var ButtonComponent = (_dec = (0, _classDecorator.ccclass)('cc.ButtonComponent'), _dec2 = (0, _classDecorator.help)('i18n:cc.ButtonComponent'), _dec3 = (0, _classDecorator.executionOrder)(110), _dec4 = (0, _classDecorator.menu)('UI/Button'), _dec5 = (0, _classDecorator.requireComponent)(_index2.UITransformComponent), _dec6 = (0, _classDecorator.property)({
    type: _node.Node,
    displayOrder: 0,
    tooltip: '指定 Button 背景节点，Button 状态改变时会修改此节点的 Color 或 Sprite 属性'
  }), _dec7 = (0, _classDecorator.property)({
    displayOrder: 1,
    tooltip: '按钮是否可交互，这一项未选中时，按钮处在禁用状态'
  }), _dec8 = (0, _classDecorator.property)({
    type: Transition,
    displayOrder: 2,
    tooltip: '按钮状态变化时的过渡类型'
  }), _dec9 = (0, _classDecorator.property)({
    tooltip: '普通状态的按钮背景颜色'
  }), _dec10 = (0, _classDecorator.property)({
    tooltip: '按下状态的按钮背景颜色'
  }), _dec11 = (0, _classDecorator.property)({
    tooltip: '悬停状态的按钮背景颜色'
  }), _dec12 = (0, _classDecorator.property)({
    tooltip: '禁用状态的按钮背景颜色'
  }), _dec13 = (0, _classDecorator.property)({
    min: 0,
    max: 10,
    tooltip: '按钮颜色变化或者缩放变化的过渡时间'
  }), _dec14 = (0, _classDecorator.property)({
    tooltip: '当用户点击按钮后，按钮会缩放到一个值，这个值等于 Button 原始 scale * zoomScale。'
  }), _dec15 = (0, _classDecorator.property)({
    type: _index.SpriteFrame,
    tooltip: '普通状态的按钮背景图资源'
  }), _dec16 = (0, _classDecorator.property)({
    type: _index.SpriteFrame,
    tooltip: '按下状态的按钮背景图资源'
  }), _dec17 = (0, _classDecorator.property)({
    type: _index.SpriteFrame,
    tooltip: '悬停状态的按钮背景图资源'
  }), _dec18 = (0, _classDecorator.property)({
    type: _index.SpriteFrame,
    tooltip: '禁用状态的按钮背景图资源'
  }), _dec19 = (0, _classDecorator.property)({
    type: [_index2.EventHandler],
    displayOrder: 20,
    tooltip: '按钮点击事件的列表。先将数量改为1或更多，就可以为每个点击事件设置接受者和处理方法'
  }), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = _dec5(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function (_Component) {
    _inherits(ButtonComponent, _Component);

    function ButtonComponent() {
      var _getPrototypeOf2;

      var _this;

      _classCallCheck(this, ButtonComponent);

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ButtonComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));

      _initializerDefineProperty(_this, "clickEvents", _descriptor, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_interactable", _descriptor2, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_transition", _descriptor3, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_normalColor", _descriptor4, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_hoverColor", _descriptor5, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_pressColor", _descriptor6, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_disabledColor", _descriptor7, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_normalSprite", _descriptor8, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_hoverSprite", _descriptor9, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_pressedSprite", _descriptor10, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_disabledSprite", _descriptor11, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_duration", _descriptor12, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_zoomScale", _descriptor13, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_target", _descriptor14, _assertThisInitialized(_this));

      _this._pressed = false;
      _this._hovered = false;
      _this._fromColor = new _index4.Color();
      _this._toColor = new _index4.Color();
      _this._time = 0;
      _this._transitionFinished = true;
      _this._fromScale = new _index4.Vec3();
      _this._toScale = new _index4.Vec3();
      _this._originalScale = new _index4.Vec3();
      _this._sprite = null;
      _this._targetScale = new _index4.Vec3();
      return _this;
    }

    _createClass(ButtonComponent, [{
      key: "__preload",
      value: function __preload() {
        if (!this.target) {
          this.target = this.node;
        }

        var sprite = this.node.getComponent(_spriteComponent.SpriteComponent);

        if (sprite) {
          this._normalSprite = sprite.spriteFrame;
        }

        this._applyTarget();

        this._updateState();
      }
    }, {
      key: "onEnable",
      value: function onEnable() {
        var _this2 = this;

        // check sprite frames
        //
        if (!_defaultConstants.EDITOR) {
          this._registerEvent();
        } else {
          this.node.on(_spriteComponent.SpriteComponent.EventType.SPRITE_FRAME_CHANGED, function (comp) {
            if (_this2._transition === Transition.SPRITE) {
              _this2._normalSprite = comp.spriteFrame;
            } else {
              // avoid serialization data loss when in no-sprite mode
              _this2._normalSprite = null;
              _this2._hoverSprite = null;
              _this2._pressedSprite = null;
              _this2._disabledSprite = null;
            }
          }, this);
        }
      }
    }, {
      key: "onDisable",
      value: function onDisable() {
        this._resetState();

        if (!_defaultConstants.EDITOR) {
          this.node.off(_index3.SystemEventType.TOUCH_START, this._onTouchBegan, this);
          this.node.off(_index3.SystemEventType.TOUCH_MOVE, this._onTouchMove, this);
          this.node.off(_index3.SystemEventType.TOUCH_END, this._onTouchEnded, this);
          this.node.off(_index3.SystemEventType.TOUCH_CANCEL, this._onTouchCancel, this);
          this.node.off(_index3.SystemEventType.MOUSE_ENTER, this._onMouseMoveIn, this);
          this.node.off(_index3.SystemEventType.MOUSE_LEAVE, this._onMouseMoveOut, this);
        } else {
          this.node.off(_spriteComponent.SpriteComponent.EventType.SPRITE_FRAME_CHANGED);
        }
      }
    }, {
      key: "update",
      value: function update(dt) {
        var target = this._target ? this._target : this.node;

        if (this._transitionFinished) {
          return;
        }

        if (this._transition !== Transition.COLOR && this._transition !== Transition.SCALE) {
          return;
        }

        this._time += dt;
        var ratio = 1.0;

        if (this._duration > 0) {
          ratio = this._time / this._duration;
        }

        if (ratio >= 1) {
          ratio = 1;
          this._transitionFinished = true;
        }

        var renderComp = target.getComponent(_uiRenderComponent.UIRenderComponent);

        if (!renderComp) {
          return;
        }

        if (this._transition === Transition.COLOR) {
          _index4.Color.lerp(_tempColor, this._fromColor, this._toColor, ratio);

          renderComp.color = _tempColor;
        } else if (this.transition === Transition.SCALE) {
          target.getScale(this._targetScale);
          this._targetScale.x = (0, _utils.lerp)(this._fromScale.x, this._toScale.x, ratio);
          this._targetScale.y = (0, _utils.lerp)(this._fromScale.y, this._toScale.y, ratio);
          target.setScale(this._targetScale);
        }
      }
    }, {
      key: "_resizeNodeToTargetNode",
      value: function _resizeNodeToTargetNode() {
        if (_defaultConstants.EDITOR && this._target) {
          this.node.setContentSize(this._target.getContentSize());
        }
      }
    }, {
      key: "_resetState",
      value: function _resetState() {
        this._pressed = false;
        this._hovered = false; // Restore button status

        var target = this._target;

        if (!target) {
          return;
        }

        var renderComp = target.getComponent(_uiRenderComponent.UIRenderComponent);

        if (!renderComp) {
          return;
        }

        var transition = this._transition;

        if (transition === Transition.COLOR && this._interactable) {
          renderComp.color = this._normalColor;
        } else if (transition === Transition.SCALE) {
          target.setScale(this._originalScale);
        }

        this._transitionFinished = true;
      }
    }, {
      key: "_registerEvent",
      value: function _registerEvent() {
        this.node.on(_index3.SystemEventType.TOUCH_START, this._onTouchBegan, this);
        this.node.on(_index3.SystemEventType.TOUCH_MOVE, this._onTouchMove, this);
        this.node.on(_index3.SystemEventType.TOUCH_END, this._onTouchEnded, this);
        this.node.on(_index3.SystemEventType.TOUCH_CANCEL, this._onTouchCancel, this);
        this.node.on(_index3.SystemEventType.MOUSE_ENTER, this._onMouseMoveIn, this);
        this.node.on(_index3.SystemEventType.MOUSE_LEAVE, this._onMouseMoveOut, this);
      }
    }, {
      key: "_getTargetSprite",
      value: function _getTargetSprite(target) {
        var sprite = null;

        if (target) {
          sprite = target.getComponent(_spriteComponent.SpriteComponent);
        }

        return sprite;
      }
    }, {
      key: "_applyTarget",
      value: function _applyTarget() {
        this._sprite = this._getTargetSprite(this._target);

        if (this._target) {
          _index4.Vec3.copy(this._originalScale, this._target.getScale());
        }
      } // touch event handler

    }, {
      key: "_onTouchBegan",
      value: function _onTouchBegan(event) {
        if (!this._interactable || !this.enabledInHierarchy) {
          return;
        }

        this._pressed = true;

        this._updateState();

        if (event) {
          event.propagationStopped = true;
        }
      }
    }, {
      key: "_onTouchMove",
      value: function _onTouchMove(event) {
        if (!this._interactable || !this.enabledInHierarchy || !this._pressed) {
          return;
        } // mobile phone will not emit _onMouseMoveOut,
        // so we have to do hit test when touch moving


        if (!event) {
          return false;
        }

        var touch = event.touch;

        if (!touch) {
          return false;
        }

        var hit = this.node._uiProps.uiTransformComp.isHit(touch.getUILocation());

        if (this._transition === Transition.SCALE && this._target) {
          if (hit) {
            _index4.Vec3.copy(this._fromScale, this._originalScale);

            _index4.Vec3.multiplyScalar(this._toScale, this._originalScale, this._zoomScale);

            this._transitionFinished = false;
          } else {
            this._time = 0;
            this._transitionFinished = true;

            if (this._target) {
              this._target.setScale(this._originalScale);
            }
          }
        } else {
          var state;

          if (hit) {
            state = State.PRESSED;
          } else {
            state = State.NORMAL;
          }

          this._applyTransition(state);
        }

        if (event) {
          event.propagationStopped = true;
        }
      }
    }, {
      key: "_onTouchEnded",
      value: function _onTouchEnded(event) {
        if (!this._interactable || !this.enabledInHierarchy) {
          return;
        }

        if (this._pressed) {
          _index2.EventHandler.emitEvents(this.clickEvents, event);

          this.node.emit(EventType.CLICK, this);
        }

        this._pressed = false;

        this._updateState();

        if (event) {
          event.propagationStopped = true;
        }
      }
    }, {
      key: "_onTouchCancel",
      value: function _onTouchCancel(event) {
        if (!this._interactable || !this.enabledInHierarchy) {
          return;
        }

        this._pressed = false;

        this._updateState();
      }
    }, {
      key: "_onMouseMoveIn",
      value: function _onMouseMoveIn(event) {
        if (this._pressed || !this.interactable || !this.enabledInHierarchy) {
          return;
        }

        if (this._transition === Transition.SPRITE && !this._hoverSprite) {
          return;
        }

        if (!this._hovered) {
          this._hovered = true;

          this._updateState();
        }
      }
    }, {
      key: "_onMouseMoveOut",
      value: function _onMouseMoveOut(event) {
        if (this._hovered) {
          this._hovered = false;

          this._updateState();
        }
      } // state handler

    }, {
      key: "_updateState",
      value: function _updateState() {
        var state = this._getButtonState();

        this._applyTransition(state);
      }
    }, {
      key: "_getButtonState",
      value: function _getButtonState() {
        var state = State.NORMAL;

        if (!this._interactable) {
          state = State.DISABLED;
        } else if (this._pressed) {
          state = State.PRESSED;
        } else if (this._hovered) {
          state = State.HOVER;
        }

        return state.toString();
      }
    }, {
      key: "_updateColorTransition",
      value: function _updateColorTransition(state) {
        var color = this[state + 'Color'];
        var target = this._target;

        if (!target) {
          return;
        }

        var renderComp = target.getComponent(_uiRenderComponent.UIRenderComponent);

        if (!renderComp) {
          return;
        }

        if (_defaultConstants.EDITOR || state === State.DISABLED) {
          renderComp.color = color;
        } else {
          this._fromColor = renderComp.color.clone();
          this._toColor = color;
          this._time = 0;
          this._transitionFinished = false;
        }
      }
    }, {
      key: "_updateSpriteTransition",
      value: function _updateSpriteTransition(state) {
        var sprite = this[state + 'Sprite'];

        if (this._sprite && sprite) {
          this._sprite.spriteFrame = sprite;
        }
      }
    }, {
      key: "_updateScaleTransition",
      value: function _updateScaleTransition(state) {
        if (!this._interactable) {
          return;
        }

        if (state === State.PRESSED) {
          this._zoomUp();
        } else {
          this._zoomBack();
        }
      }
    }, {
      key: "_zoomUp",
      value: function _zoomUp() {
        _index4.Vec3.copy(this._fromScale, this._originalScale);

        _index4.Vec3.multiplyScalar(this._toScale, this._originalScale, this._zoomScale);

        this._time = 0;
        this._transitionFinished = false;
      }
    }, {
      key: "_zoomBack",
      value: function _zoomBack() {
        if (!this._target) {
          return;
        }

        _index4.Vec3.copy(this._fromScale, this._target.getScale());

        _index4.Vec3.copy(this._toScale, this._originalScale);

        this._time = 0;
        this._transitionFinished = false;
      }
    }, {
      key: "_applyTransition",
      value: function _applyTransition(state) {
        var transition = this._transition;

        if (transition === Transition.COLOR) {
          this._updateColorTransition(state);
        } else if (transition === Transition.SPRITE) {
          this._updateSpriteTransition(state);
        } else if (transition === Transition.SCALE) {
          this._updateScaleTransition(state);
        }
      }
    }, {
      key: "target",

      /**
       * @en
       * Transition target.
       * When Button state changed:
       * - If Transition type is Button.Transition.NONE, Button will do nothing.
       * - If Transition type is Button.Transition.COLOR, Button will change target's color.
       * - If Transition type is Button.Transition.SPRITE, Button will change target Sprite's sprite.
       *
       * @zh
       * 需要过渡的目标。<br/>
       * 当前按钮状态改变规则：<br/>
       * - 如果 Transition type 选择 Button.Transition.NONE，按钮不做任何过渡。
       * - 如果 Transition type 选择 Button.Transition.COLOR，按钮会对目标颜色进行颜色之间的过渡。
       * - 如果 Transition type 选择 Button.Transition.Sprite，按钮会对目标 Sprite 进行 Sprite 之间的过渡。
       */
      get: function get() {
        return this._target;
      },
      set: function set(value) {
        if (this._target === value) {
          return;
        }

        this._target = value;

        this._applyTarget();
      }
      /**
       * @en
       * Whether the Button is disabled.
       * If true, the Button will trigger event and do transition.
       *
       * @zh
       * 按钮事件是否被响应，如果为 false，则按钮将被禁用。
       */

    }, {
      key: "interactable",
      get: function get() {
        return this._interactable;
      },
      set: function set(value) {
        // if (EDITOR) {
        //     if (value) {
        //         this._previousNormalSprite = this.normalSprite;
        //     } else {
        //         this.normalSprite = this._previousNormalSprite;
        //     }
        // }
        this._interactable = value;

        this._updateState();

        if (!this._interactable) {
          this._resetState();
        }
      }
    }, {
      key: "_resizeToTarget",
      set: function set(value) {
        if (value) {
          this._resizeNodeToTargetNode();
        }
      }
      /**
       * @en
       * Transition type.
       *
       * @zh
       * 按钮状态改变时过渡方式。
       */

    }, {
      key: "transition",
      get: function get() {
        return this._transition;
      },
      set: function set(value) {
        if (this._transition === value) {
          return;
        }

        this._transition = value;
      } // color transition

      /**
       * @en
       * Normal state color.
       *
       * @zh
       * 普通状态下按钮所显示的颜色。
       */

    }, {
      key: "normalColor",
      get: function get() {
        return this._normalColor;
      },
      set: function set(value) {
        if (this._normalColor === value) {
          return;
        }

        this._normalColor.set(value);

        this._updateState();
      }
      /**
       * @en
       * Pressed state color.
       *
       * @zh
       * 按下状态时按钮所显示的颜色。
       */

    }, {
      key: "pressedColor",
      get: function get() {
        return this._pressColor;
      },
      set: function set(value) {
        if (this._pressColor === value) {
          return;
        }

        this._pressColor.set(value);
      }
      /**
       * @en
       * Hover state color.
       *
       * @zh
       * 悬停状态下按钮所显示的颜色。
       */

    }, {
      key: "hoverColor",
      get: function get() {
        return this._hoverColor;
      },
      set: function set(value) {
        if (this._hoverColor === value) {
          return;
        }

        this._hoverColor.set(value);
      }
      /**
       * @en
       * Disabled state color.
       *
       * @zh
       * 禁用状态下按钮所显示的颜色。
       */

    }, {
      key: "disabledColor",
      get: function get() {
        return this._disabledColor;
      },
      set: function set(value) {
        if (this._disabledColor === value) {
          return;
        }

        this._disabledColor.set(value);

        this._updateState();
      }
      /**
       * @en
       * Color and Scale transition duration.
       *
       * @zh
       * 颜色过渡和缩放过渡时所需时间。
       */

    }, {
      key: "duration",
      get: function get() {
        return this._duration;
      },
      set: function set(value) {
        if (this._duration === value) {
          return;
        }

        this._duration = value;
      }
      /**
       * @en
       * When user press the button, the button will zoom to a scale.
       * The final scale of the button equals (button original scale * zoomScale)
       *
       * @zh
       * 当用户点击按钮后，按钮会缩放到一个值，这个值等于 Button 原始 scale * zoomScale。
       */

    }, {
      key: "zoomScale",
      get: function get() {
        return this._zoomScale;
      },
      set: function set(value) {
        if (this._zoomScale === value) {
          return;
        }

        this._zoomScale = value;
      } // sprite transition

      /**
       * @en
       * Normal state sprite.
       *
       * @zh
       * 普通状态下按钮所显示的 Sprite。
       */

    }, {
      key: "normalSprite",
      get: function get() {
        return this._normalSprite;
      },
      set: function set(value) {
        if (this._normalSprite === value) {
          return;
        }

        this._normalSprite = value;
        var sprite = this.node.getComponent(_spriteComponent.SpriteComponent);

        if (sprite) {
          sprite.spriteFrame = value;
        }

        this._updateState();
      }
      /**
       * @en
       * Pressed state sprite.
       *
       * @zh
       * 按下状态时按钮所显示的 Sprite。
       */

    }, {
      key: "pressedSprite",
      get: function get() {
        return this._pressedSprite;
      },
      set: function set(value) {
        if (this._pressedSprite === value) {
          return;
        }

        this._pressedSprite = value;

        this._updateState();
      }
      /**
       * @en
       * Hover state sprite.
       *
       * @zh
       * 悬停状态下按钮所显示的 Sprite。
       */

    }, {
      key: "hoverSprite",
      get: function get() {
        return this._hoverSprite;
      },
      set: function set(value) {
        if (this._hoverSprite === value) {
          return;
        }

        this._hoverSprite = value;

        this._updateState();
      }
      /**
       * @en
       * Disabled state sprite.
       *
       * @zh
       * 禁用状态下按钮所显示的 Sprite。
       */

    }, {
      key: "disabledSprite",
      get: function get() {
        return this._disabledSprite;
      },
      set: function set(value) {
        if (this._disabledSprite === value) {
          return;
        }

        this._disabledSprite = value;

        this._updateState();
      }
    }]);

    return ButtonComponent;
  }(_index2.Component), _class3.Transition = Transition, _class3.EventType = EventType, _temp), (_applyDecoratedDescriptor(_class2.prototype, "target", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, "target"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "interactable", [_dec7], Object.getOwnPropertyDescriptor(_class2.prototype, "interactable"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "transition", [_dec8], Object.getOwnPropertyDescriptor(_class2.prototype, "transition"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "normalColor", [_dec9], Object.getOwnPropertyDescriptor(_class2.prototype, "normalColor"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "pressedColor", [_dec10], Object.getOwnPropertyDescriptor(_class2.prototype, "pressedColor"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "hoverColor", [_dec11], Object.getOwnPropertyDescriptor(_class2.prototype, "hoverColor"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "disabledColor", [_dec12], Object.getOwnPropertyDescriptor(_class2.prototype, "disabledColor"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "duration", [_dec13], Object.getOwnPropertyDescriptor(_class2.prototype, "duration"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "zoomScale", [_dec14], Object.getOwnPropertyDescriptor(_class2.prototype, "zoomScale"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "normalSprite", [_dec15], Object.getOwnPropertyDescriptor(_class2.prototype, "normalSprite"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "pressedSprite", [_dec16], Object.getOwnPropertyDescriptor(_class2.prototype, "pressedSprite"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "hoverSprite", [_dec17], Object.getOwnPropertyDescriptor(_class2.prototype, "hoverSprite"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "disabledSprite", [_dec18], Object.getOwnPropertyDescriptor(_class2.prototype, "disabledSprite"), _class2.prototype), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "clickEvents", [_dec19], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return [];
    }
  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_interactable", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_transition", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return Transition.NONE;
    }
  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "_normalColor", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return new _index4.Color(214, 214, 214, 255);
    }
  }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "_hoverColor", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return new _index4.Color(211, 211, 211, 255);
    }
  }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "_pressColor", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return _index4.Color.WHITE.clone();
    }
  }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "_disabledColor", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return new _index4.Color(124, 124, 124, 255);
    }
  }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "_normalSprite", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "_hoverSprite", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "_pressedSprite", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "_disabledSprite", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "_duration", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0.1;
    }
  }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "_zoomScale", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 1.2;
    }
  }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "_target", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  })), _class2)) || _class) || _class) || _class) || _class) || _class);
  _exports.ButtonComponent = ButtonComponent;
  cc.ButtonComponent = ButtonComponent;
  /**
   * @zh
   * 注意：此事件是从该组件所属的 Node 上面派发出来的，需要用 node.on 来监听。
   * @event click
   * @param {Event.EventCustom} event
   * @param {Button} button - The Button component.
   */
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvdWkvY29tcG9uZW50cy9idXR0b24tY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbIl90ZW1wQ29sb3IiLCJDb2xvciIsIlRyYW5zaXRpb24iLCJTdGF0ZSIsIkV2ZW50VHlwZSIsIkJ1dHRvbkNvbXBvbmVudCIsIlVJVHJhbnNmb3JtQ29tcG9uZW50IiwidHlwZSIsIk5vZGUiLCJkaXNwbGF5T3JkZXIiLCJ0b29sdGlwIiwibWluIiwibWF4IiwiU3ByaXRlRnJhbWUiLCJDb21wb25lbnRFdmVudEhhbmRsZXIiLCJfcHJlc3NlZCIsIl9ob3ZlcmVkIiwiX2Zyb21Db2xvciIsIl90b0NvbG9yIiwiX3RpbWUiLCJfdHJhbnNpdGlvbkZpbmlzaGVkIiwiX2Zyb21TY2FsZSIsIlZlYzMiLCJfdG9TY2FsZSIsIl9vcmlnaW5hbFNjYWxlIiwiX3Nwcml0ZSIsIl90YXJnZXRTY2FsZSIsInRhcmdldCIsIm5vZGUiLCJzcHJpdGUiLCJnZXRDb21wb25lbnQiLCJTcHJpdGVDb21wb25lbnQiLCJfbm9ybWFsU3ByaXRlIiwic3ByaXRlRnJhbWUiLCJfYXBwbHlUYXJnZXQiLCJfdXBkYXRlU3RhdGUiLCJFRElUT1IiLCJfcmVnaXN0ZXJFdmVudCIsIm9uIiwiU1BSSVRFX0ZSQU1FX0NIQU5HRUQiLCJjb21wIiwiX3RyYW5zaXRpb24iLCJTUFJJVEUiLCJfaG92ZXJTcHJpdGUiLCJfcHJlc3NlZFNwcml0ZSIsIl9kaXNhYmxlZFNwcml0ZSIsIl9yZXNldFN0YXRlIiwib2ZmIiwiU3lzdGVtRXZlbnRUeXBlIiwiVE9VQ0hfU1RBUlQiLCJfb25Ub3VjaEJlZ2FuIiwiVE9VQ0hfTU9WRSIsIl9vblRvdWNoTW92ZSIsIlRPVUNIX0VORCIsIl9vblRvdWNoRW5kZWQiLCJUT1VDSF9DQU5DRUwiLCJfb25Ub3VjaENhbmNlbCIsIk1PVVNFX0VOVEVSIiwiX29uTW91c2VNb3ZlSW4iLCJNT1VTRV9MRUFWRSIsIl9vbk1vdXNlTW92ZU91dCIsImR0IiwiX3RhcmdldCIsIkNPTE9SIiwiU0NBTEUiLCJyYXRpbyIsIl9kdXJhdGlvbiIsInJlbmRlckNvbXAiLCJVSVJlbmRlckNvbXBvbmVudCIsImxlcnAiLCJjb2xvciIsInRyYW5zaXRpb24iLCJnZXRTY2FsZSIsIngiLCJ5Iiwic2V0U2NhbGUiLCJzZXRDb250ZW50U2l6ZSIsImdldENvbnRlbnRTaXplIiwiX2ludGVyYWN0YWJsZSIsIl9ub3JtYWxDb2xvciIsIl9nZXRUYXJnZXRTcHJpdGUiLCJjb3B5IiwiZXZlbnQiLCJlbmFibGVkSW5IaWVyYXJjaHkiLCJwcm9wYWdhdGlvblN0b3BwZWQiLCJ0b3VjaCIsImhpdCIsIl91aVByb3BzIiwidWlUcmFuc2Zvcm1Db21wIiwiaXNIaXQiLCJnZXRVSUxvY2F0aW9uIiwibXVsdGlwbHlTY2FsYXIiLCJfem9vbVNjYWxlIiwic3RhdGUiLCJQUkVTU0VEIiwiTk9STUFMIiwiX2FwcGx5VHJhbnNpdGlvbiIsImVtaXRFdmVudHMiLCJjbGlja0V2ZW50cyIsImVtaXQiLCJDTElDSyIsImludGVyYWN0YWJsZSIsIl9nZXRCdXR0b25TdGF0ZSIsIkRJU0FCTEVEIiwiSE9WRVIiLCJ0b1N0cmluZyIsImNsb25lIiwiX3pvb21VcCIsIl96b29tQmFjayIsIl91cGRhdGVDb2xvclRyYW5zaXRpb24iLCJfdXBkYXRlU3ByaXRlVHJhbnNpdGlvbiIsIl91cGRhdGVTY2FsZVRyYW5zaXRpb24iLCJ2YWx1ZSIsIl9yZXNpemVOb2RlVG9UYXJnZXROb2RlIiwic2V0IiwiX3ByZXNzQ29sb3IiLCJfaG92ZXJDb2xvciIsIl9kaXNhYmxlZENvbG9yIiwiQ29tcG9uZW50IiwicHJvcGVydHkiLCJOT05FIiwiV0hJVEUiLCJjYyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQTJDQSxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsYUFBSixFQUFuQjtBQUVBOzs7Ozs7O01BS0tDLFU7O2FBQUFBLFU7QUFBQUEsSUFBQUEsVSxDQUFBQSxVO0FBQUFBLElBQUFBLFUsQ0FBQUEsVTtBQUFBQSxJQUFBQSxVLENBQUFBLFU7QUFBQUEsSUFBQUEsVSxDQUFBQSxVO0tBQUFBLFUsS0FBQUEsVTs7QUE2Qkwsb0JBQU9BLFVBQVA7TUFFS0MsSzs7YUFBQUEsSztBQUFBQSxJQUFBQSxLO0FBQUFBLElBQUFBLEs7QUFBQUEsSUFBQUEsSztBQUFBQSxJQUFBQSxLO0tBQUFBLEssS0FBQUEsSzs7TUFPT0MsUztBQUlaOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzthQUpZQSxTO0FBQUFBLElBQUFBLFM7S0FBQUEsUywwQkFBQUEsUzs7TUE4RENDLGUsV0FMWiw2QkFBUSxvQkFBUixDLFVBQ0EsMEJBQUsseUJBQUwsQyxVQUNBLG9DQUFlLEdBQWYsQyxVQUNBLDBCQUFLLFdBQUwsQyxVQUNBLHNDQUFpQkMsNEJBQWpCLEMsVUFrQkksOEJBQVM7QUFDTkMsSUFBQUEsSUFBSSxFQUFFQyxVQURBO0FBRU5DLElBQUFBLFlBQVksRUFBRSxDQUZSO0FBR05DLElBQUFBLE9BQU8sRUFBRTtBQUhILEdBQVQsQyxVQTBCQSw4QkFBUztBQUNORCxJQUFBQSxZQUFZLEVBQUUsQ0FEUjtBQUVOQyxJQUFBQSxPQUFPLEVBQUM7QUFGRixHQUFULEMsVUFxQ0EsOEJBQVM7QUFDTkgsSUFBQUEsSUFBSSxFQUFFTCxVQURBO0FBRU5PLElBQUFBLFlBQVksRUFBRSxDQUZSO0FBR05DLElBQUFBLE9BQU8sRUFBQztBQUhGLEdBQVQsQyxVQTBCQSw4QkFBUztBQUNOQSxJQUFBQSxPQUFPLEVBQUM7QUFERixHQUFULEMsV0F3QkEsOEJBQVM7QUFDTkEsSUFBQUEsT0FBTyxFQUFDO0FBREYsR0FBVCxDLFdBdUJBLDhCQUFTO0FBQ05BLElBQUFBLE9BQU8sRUFBQztBQURGLEdBQVQsQyxXQXNCQSw4QkFBUztBQUNOQSxJQUFBQSxPQUFPLEVBQUM7QUFERixHQUFULEMsV0F3QkEsOEJBQVM7QUFDTkMsSUFBQUEsR0FBRyxFQUFFLENBREM7QUFFTkMsSUFBQUEsR0FBRyxFQUFFLEVBRkM7QUFHTkYsSUFBQUEsT0FBTyxFQUFDO0FBSEYsR0FBVCxDLFdBeUJBLDhCQUFTO0FBQ05BLElBQUFBLE9BQU8sRUFBQztBQURGLEdBQVQsQyxXQXVCQSw4QkFBUztBQUNOSCxJQUFBQSxJQUFJLEVBQUVNLGtCQURBO0FBRU5ILElBQUFBLE9BQU8sRUFBQztBQUZGLEdBQVQsQyxXQTZCQSw4QkFBUztBQUNOSCxJQUFBQSxJQUFJLEVBQUVNLGtCQURBO0FBRU5ILElBQUFBLE9BQU8sRUFBQztBQUZGLEdBQVQsQyxXQXdCQSw4QkFBUztBQUNOSCxJQUFBQSxJQUFJLEVBQUVNLGtCQURBO0FBRU5ILElBQUFBLE9BQU8sRUFBQztBQUZGLEdBQVQsQyxXQXdCQSw4QkFBUztBQUNOSCxJQUFBQSxJQUFJLEVBQUVNLGtCQURBO0FBRU5ILElBQUFBLE9BQU8sRUFBQztBQUZGLEdBQVQsQyxXQTBCQSw4QkFBUztBQUNOSCxJQUFBQSxJQUFJLEVBQUUsQ0FBQ08sb0JBQUQsQ0FEQTtBQUVOTCxJQUFBQSxZQUFZLEVBQUUsRUFGUjtBQUdOQyxJQUFBQSxPQUFPLEVBQUM7QUFIRixHQUFULEM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O1lBZ0NPSyxRLEdBQVcsSztZQUNYQyxRLEdBQVcsSztZQUNYQyxVLEdBQW9CLElBQUloQixhQUFKLEU7WUFDcEJpQixRLEdBQWtCLElBQUlqQixhQUFKLEU7WUFDbEJrQixLLEdBQVEsQztZQUNSQyxtQixHQUFzQixJO1lBQ3RCQyxVLEdBQW1CLElBQUlDLFlBQUosRTtZQUNuQkMsUSxHQUFpQixJQUFJRCxZQUFKLEU7WUFDakJFLGMsR0FBdUIsSUFBSUYsWUFBSixFO1lBQ3ZCRyxPLEdBQWtDLEk7WUFDbENDLFksR0FBcUIsSUFBSUosWUFBSixFOzs7Ozs7a0NBRVQ7QUFDaEIsWUFBSSxDQUFDLEtBQUtLLE1BQVYsRUFBa0I7QUFDZCxlQUFLQSxNQUFMLEdBQWMsS0FBS0MsSUFBbkI7QUFDSDs7QUFFRCxZQUFNQyxNQUFNLEdBQUcsS0FBS0QsSUFBTCxDQUFVRSxZQUFWLENBQXVCQyxnQ0FBdkIsQ0FBZjs7QUFDQSxZQUFJRixNQUFKLEVBQVk7QUFDUixlQUFLRyxhQUFMLEdBQXFCSCxNQUFNLENBQUNJLFdBQTVCO0FBQ0g7O0FBRUQsYUFBS0MsWUFBTDs7QUFDQSxhQUFLQyxZQUFMO0FBQ0g7OztpQ0FFa0I7QUFBQTs7QUFDZjtBQUNBO0FBQ0EsWUFBSSxDQUFDQyx3QkFBTCxFQUFhO0FBQ1QsZUFBS0MsY0FBTDtBQUNILFNBRkQsTUFFTztBQUNILGVBQUtULElBQUwsQ0FBVVUsRUFBVixDQUFhUCxpQ0FBZ0IzQixTQUFoQixDQUEwQm1DLG9CQUF2QyxFQUE2RCxVQUFDQyxJQUFELEVBQTJCO0FBQ3BGLGdCQUFJLE1BQUksQ0FBQ0MsV0FBTCxLQUFxQnZDLFVBQVUsQ0FBQ3dDLE1BQXBDLEVBQTRDO0FBQ3hDLGNBQUEsTUFBSSxDQUFDVixhQUFMLEdBQXFCUSxJQUFJLENBQUNQLFdBQTFCO0FBQ0gsYUFGRCxNQUVPO0FBQ0g7QUFDQSxjQUFBLE1BQUksQ0FBQ0QsYUFBTCxHQUFxQixJQUFyQjtBQUNBLGNBQUEsTUFBSSxDQUFDVyxZQUFMLEdBQW9CLElBQXBCO0FBQ0EsY0FBQSxNQUFJLENBQUNDLGNBQUwsR0FBc0IsSUFBdEI7QUFDQSxjQUFBLE1BQUksQ0FBQ0MsZUFBTCxHQUF1QixJQUF2QjtBQUNIO0FBQ0osV0FWRCxFQVVHLElBVkg7QUFXSDtBQUNKOzs7a0NBRW1CO0FBQ2hCLGFBQUtDLFdBQUw7O0FBRUEsWUFBSSxDQUFDVix3QkFBTCxFQUFhO0FBQ1QsZUFBS1IsSUFBTCxDQUFVbUIsR0FBVixDQUFjQyx3QkFBZ0JDLFdBQTlCLEVBQTJDLEtBQUtDLGFBQWhELEVBQStELElBQS9EO0FBQ0EsZUFBS3RCLElBQUwsQ0FBVW1CLEdBQVYsQ0FBY0Msd0JBQWdCRyxVQUE5QixFQUEwQyxLQUFLQyxZQUEvQyxFQUE2RCxJQUE3RDtBQUNBLGVBQUt4QixJQUFMLENBQVVtQixHQUFWLENBQWNDLHdCQUFnQkssU0FBOUIsRUFBeUMsS0FBS0MsYUFBOUMsRUFBNkQsSUFBN0Q7QUFDQSxlQUFLMUIsSUFBTCxDQUFVbUIsR0FBVixDQUFjQyx3QkFBZ0JPLFlBQTlCLEVBQTRDLEtBQUtDLGNBQWpELEVBQWlFLElBQWpFO0FBRUEsZUFBSzVCLElBQUwsQ0FBVW1CLEdBQVYsQ0FBY0Msd0JBQWdCUyxXQUE5QixFQUEyQyxLQUFLQyxjQUFoRCxFQUFnRSxJQUFoRTtBQUNBLGVBQUs5QixJQUFMLENBQVVtQixHQUFWLENBQWNDLHdCQUFnQlcsV0FBOUIsRUFBMkMsS0FBS0MsZUFBaEQsRUFBaUUsSUFBakU7QUFDSCxTQVJELE1BUU87QUFDSCxlQUFLaEMsSUFBTCxDQUFVbUIsR0FBVixDQUFjaEIsaUNBQWdCM0IsU0FBaEIsQ0FBMEJtQyxvQkFBeEM7QUFDSDtBQUNKOzs7NkJBRWNzQixFLEVBQVk7QUFDdkIsWUFBTWxDLE1BQU0sR0FBRyxLQUFLbUMsT0FBTCxHQUFlLEtBQUtBLE9BQXBCLEdBQThCLEtBQUtsQyxJQUFsRDs7QUFDQSxZQUFJLEtBQUtSLG1CQUFULEVBQThCO0FBQzFCO0FBQ0g7O0FBRUQsWUFBSSxLQUFLcUIsV0FBTCxLQUFxQnZDLFVBQVUsQ0FBQzZELEtBQWhDLElBQXlDLEtBQUt0QixXQUFMLEtBQXFCdkMsVUFBVSxDQUFDOEQsS0FBN0UsRUFBb0Y7QUFDaEY7QUFDSDs7QUFFRCxhQUFLN0MsS0FBTCxJQUFjMEMsRUFBZDtBQUNBLFlBQUlJLEtBQUssR0FBRyxHQUFaOztBQUNBLFlBQUksS0FBS0MsU0FBTCxHQUFpQixDQUFyQixFQUF3QjtBQUNwQkQsVUFBQUEsS0FBSyxHQUFHLEtBQUs5QyxLQUFMLEdBQWEsS0FBSytDLFNBQTFCO0FBQ0g7O0FBRUQsWUFBSUQsS0FBSyxJQUFJLENBQWIsRUFBZ0I7QUFDWkEsVUFBQUEsS0FBSyxHQUFHLENBQVI7QUFDQSxlQUFLN0MsbUJBQUwsR0FBMkIsSUFBM0I7QUFDSDs7QUFFRCxZQUFNK0MsVUFBVSxHQUFHeEMsTUFBTSxDQUFDRyxZQUFQLENBQW9Cc0Msb0NBQXBCLENBQW5COztBQUNBLFlBQUksQ0FBQ0QsVUFBTCxFQUFpQjtBQUNiO0FBQ0g7O0FBRUQsWUFBSSxLQUFLMUIsV0FBTCxLQUFxQnZDLFVBQVUsQ0FBQzZELEtBQXBDLEVBQTJDO0FBQ3ZDOUQsd0JBQU1vRSxJQUFOLENBQVdyRSxVQUFYLEVBQXVCLEtBQUtpQixVQUE1QixFQUF3QyxLQUFLQyxRQUE3QyxFQUF1RCtDLEtBQXZEOztBQUNBRSxVQUFBQSxVQUFVLENBQUNHLEtBQVgsR0FBbUJ0RSxVQUFuQjtBQUNILFNBSEQsTUFHTyxJQUFJLEtBQUt1RSxVQUFMLEtBQW9CckUsVUFBVSxDQUFDOEQsS0FBbkMsRUFBMEM7QUFDN0NyQyxVQUFBQSxNQUFNLENBQUM2QyxRQUFQLENBQWdCLEtBQUs5QyxZQUFyQjtBQUNBLGVBQUtBLFlBQUwsQ0FBa0IrQyxDQUFsQixHQUFzQixpQkFBSyxLQUFLcEQsVUFBTCxDQUFnQm9ELENBQXJCLEVBQXdCLEtBQUtsRCxRQUFMLENBQWNrRCxDQUF0QyxFQUF5Q1IsS0FBekMsQ0FBdEI7QUFDQSxlQUFLdkMsWUFBTCxDQUFrQmdELENBQWxCLEdBQXNCLGlCQUFLLEtBQUtyRCxVQUFMLENBQWdCcUQsQ0FBckIsRUFBd0IsS0FBS25ELFFBQUwsQ0FBY21ELENBQXRDLEVBQXlDVCxLQUF6QyxDQUF0QjtBQUNBdEMsVUFBQUEsTUFBTSxDQUFDZ0QsUUFBUCxDQUFnQixLQUFLakQsWUFBckI7QUFDSDtBQUNKOzs7Z0RBRW9DO0FBQ2pDLFlBQUlVLDRCQUFVLEtBQUswQixPQUFuQixFQUE0QjtBQUN4QixlQUFLbEMsSUFBTCxDQUFVZ0QsY0FBVixDQUF5QixLQUFLZCxPQUFMLENBQWFlLGNBQWIsRUFBekI7QUFDSDtBQUNKOzs7b0NBRXdCO0FBQ3JCLGFBQUs5RCxRQUFMLEdBQWdCLEtBQWhCO0FBQ0EsYUFBS0MsUUFBTCxHQUFnQixLQUFoQixDQUZxQixDQUdyQjs7QUFDQSxZQUFNVyxNQUFNLEdBQUcsS0FBS21DLE9BQXBCOztBQUNBLFlBQUksQ0FBQ25DLE1BQUwsRUFBYTtBQUNUO0FBQ0g7O0FBQ0QsWUFBTXdDLFVBQVUsR0FBR3hDLE1BQU0sQ0FBQ0csWUFBUCxDQUFvQnNDLG9DQUFwQixDQUFuQjs7QUFDQSxZQUFJLENBQUNELFVBQUwsRUFBaUI7QUFDYjtBQUNIOztBQUVELFlBQU1JLFVBQVUsR0FBRyxLQUFLOUIsV0FBeEI7O0FBQ0EsWUFBSThCLFVBQVUsS0FBS3JFLFVBQVUsQ0FBQzZELEtBQTFCLElBQW1DLEtBQUtlLGFBQTVDLEVBQTJEO0FBQ3ZEWCxVQUFBQSxVQUFVLENBQUNHLEtBQVgsR0FBbUIsS0FBS1MsWUFBeEI7QUFDSCxTQUZELE1BRU8sSUFBSVIsVUFBVSxLQUFLckUsVUFBVSxDQUFDOEQsS0FBOUIsRUFBcUM7QUFDeENyQyxVQUFBQSxNQUFNLENBQUNnRCxRQUFQLENBQWdCLEtBQUtuRCxjQUFyQjtBQUNIOztBQUNELGFBQUtKLG1CQUFMLEdBQTJCLElBQTNCO0FBQ0g7Ozt1Q0FFMkI7QUFDeEIsYUFBS1EsSUFBTCxDQUFVVSxFQUFWLENBQWFVLHdCQUFnQkMsV0FBN0IsRUFBMEMsS0FBS0MsYUFBL0MsRUFBOEQsSUFBOUQ7QUFDQSxhQUFLdEIsSUFBTCxDQUFVVSxFQUFWLENBQWFVLHdCQUFnQkcsVUFBN0IsRUFBeUMsS0FBS0MsWUFBOUMsRUFBNEQsSUFBNUQ7QUFDQSxhQUFLeEIsSUFBTCxDQUFVVSxFQUFWLENBQWFVLHdCQUFnQkssU0FBN0IsRUFBd0MsS0FBS0MsYUFBN0MsRUFBNEQsSUFBNUQ7QUFDQSxhQUFLMUIsSUFBTCxDQUFVVSxFQUFWLENBQWFVLHdCQUFnQk8sWUFBN0IsRUFBMkMsS0FBS0MsY0FBaEQsRUFBZ0UsSUFBaEU7QUFFQSxhQUFLNUIsSUFBTCxDQUFVVSxFQUFWLENBQWFVLHdCQUFnQlMsV0FBN0IsRUFBMEMsS0FBS0MsY0FBL0MsRUFBK0QsSUFBL0Q7QUFDQSxhQUFLOUIsSUFBTCxDQUFVVSxFQUFWLENBQWFVLHdCQUFnQlcsV0FBN0IsRUFBMEMsS0FBS0MsZUFBL0MsRUFBZ0UsSUFBaEU7QUFDSDs7O3VDQUUyQmpDLE0sRUFBcUI7QUFDN0MsWUFBSUUsTUFBOEIsR0FBRyxJQUFyQzs7QUFDQSxZQUFJRixNQUFKLEVBQVk7QUFDUkUsVUFBQUEsTUFBTSxHQUFHRixNQUFNLENBQUNHLFlBQVAsQ0FBb0JDLGdDQUFwQixDQUFUO0FBQ0g7O0FBQ0QsZUFBT0YsTUFBUDtBQUNIOzs7cUNBRXlCO0FBQ3RCLGFBQUtKLE9BQUwsR0FBZSxLQUFLdUQsZ0JBQUwsQ0FBc0IsS0FBS2xCLE9BQTNCLENBQWY7O0FBQ0EsWUFBSSxLQUFLQSxPQUFULEVBQWtCO0FBQ2R4Qyx1QkFBSzJELElBQUwsQ0FBVSxLQUFLekQsY0FBZixFQUErQixLQUFLc0MsT0FBTCxDQUFhVSxRQUFiLEVBQS9CO0FBQ0g7QUFDSixPLENBRUQ7Ozs7b0NBQ3lCVSxLLEVBQW9CO0FBQ3pDLFlBQUksQ0FBQyxLQUFLSixhQUFOLElBQXVCLENBQUMsS0FBS0ssa0JBQWpDLEVBQXFEO0FBQUU7QUFBUzs7QUFFaEUsYUFBS3BFLFFBQUwsR0FBZ0IsSUFBaEI7O0FBQ0EsYUFBS29CLFlBQUw7O0FBQ0EsWUFBSStDLEtBQUosRUFBVztBQUNQQSxVQUFBQSxLQUFLLENBQUNFLGtCQUFOLEdBQTJCLElBQTNCO0FBQ0g7QUFDSjs7O21DQUV1QkYsSyxFQUFvQjtBQUN4QyxZQUFJLENBQUMsS0FBS0osYUFBTixJQUF1QixDQUFDLEtBQUtLLGtCQUE3QixJQUFtRCxDQUFDLEtBQUtwRSxRQUE3RCxFQUF1RTtBQUFFO0FBQVMsU0FEMUMsQ0FFeEM7QUFDQTs7O0FBQ0EsWUFBSSxDQUFDbUUsS0FBTCxFQUFZO0FBQ1IsaUJBQU8sS0FBUDtBQUNIOztBQUVELFlBQU1HLEtBQUssR0FBSUgsS0FBRCxDQUFzQkcsS0FBcEM7O0FBQ0EsWUFBSSxDQUFDQSxLQUFMLEVBQVk7QUFDUixpQkFBTyxLQUFQO0FBQ0g7O0FBRUQsWUFBTUMsR0FBRyxHQUFHLEtBQUsxRCxJQUFMLENBQVUyRCxRQUFWLENBQW1CQyxlQUFuQixDQUFvQ0MsS0FBcEMsQ0FBMENKLEtBQUssQ0FBQ0ssYUFBTixFQUExQyxDQUFaOztBQUVBLFlBQUksS0FBS2pELFdBQUwsS0FBcUJ2QyxVQUFVLENBQUM4RCxLQUFoQyxJQUF5QyxLQUFLRixPQUFsRCxFQUEyRDtBQUN2RCxjQUFJd0IsR0FBSixFQUFTO0FBQ0xoRSx5QkFBSzJELElBQUwsQ0FBVSxLQUFLNUQsVUFBZixFQUEyQixLQUFLRyxjQUFoQzs7QUFDQUYseUJBQUtxRSxjQUFMLENBQW9CLEtBQUtwRSxRQUF6QixFQUFtQyxLQUFLQyxjQUF4QyxFQUF3RCxLQUFLb0UsVUFBN0Q7O0FBQ0EsaUJBQUt4RSxtQkFBTCxHQUEyQixLQUEzQjtBQUNILFdBSkQsTUFJTztBQUNILGlCQUFLRCxLQUFMLEdBQWEsQ0FBYjtBQUNBLGlCQUFLQyxtQkFBTCxHQUEyQixJQUEzQjs7QUFDQSxnQkFBSSxLQUFLMEMsT0FBVCxFQUFrQjtBQUNkLG1CQUFLQSxPQUFMLENBQWNhLFFBQWQsQ0FBdUIsS0FBS25ELGNBQTVCO0FBQ0g7QUFDSjtBQUNKLFNBWkQsTUFZTztBQUNILGNBQUlxRSxLQUFKOztBQUNBLGNBQUlQLEdBQUosRUFBUztBQUNMTyxZQUFBQSxLQUFLLEdBQUcxRixLQUFLLENBQUMyRixPQUFkO0FBQ0gsV0FGRCxNQUVPO0FBQ0hELFlBQUFBLEtBQUssR0FBRzFGLEtBQUssQ0FBQzRGLE1BQWQ7QUFDSDs7QUFDRCxlQUFLQyxnQkFBTCxDQUFzQkgsS0FBdEI7QUFDSDs7QUFFRCxZQUFJWCxLQUFKLEVBQVc7QUFDUEEsVUFBQUEsS0FBSyxDQUFDRSxrQkFBTixHQUEyQixJQUEzQjtBQUNIO0FBQ0o7OztvQ0FFd0JGLEssRUFBb0I7QUFDekMsWUFBSSxDQUFDLEtBQUtKLGFBQU4sSUFBdUIsQ0FBQyxLQUFLSyxrQkFBakMsRUFBcUQ7QUFDakQ7QUFDSDs7QUFFRCxZQUFJLEtBQUtwRSxRQUFULEVBQW1CO0FBQ2ZELCtCQUFzQm1GLFVBQXRCLENBQWlDLEtBQUtDLFdBQXRDLEVBQW1EaEIsS0FBbkQ7O0FBQ0EsZUFBS3RELElBQUwsQ0FBVXVFLElBQVYsQ0FBZS9GLFNBQVMsQ0FBQ2dHLEtBQXpCLEVBQWdDLElBQWhDO0FBQ0g7O0FBQ0QsYUFBS3JGLFFBQUwsR0FBZ0IsS0FBaEI7O0FBQ0EsYUFBS29CLFlBQUw7O0FBRUEsWUFBSStDLEtBQUosRUFBVztBQUNQQSxVQUFBQSxLQUFLLENBQUNFLGtCQUFOLEdBQTJCLElBQTNCO0FBQ0g7QUFDSjs7O3FDQUV5QkYsSyxFQUFvQjtBQUMxQyxZQUFJLENBQUMsS0FBS0osYUFBTixJQUF1QixDQUFDLEtBQUtLLGtCQUFqQyxFQUFxRDtBQUFFO0FBQVM7O0FBRWhFLGFBQUtwRSxRQUFMLEdBQWdCLEtBQWhCOztBQUNBLGFBQUtvQixZQUFMO0FBQ0g7OztxQ0FFeUIrQyxLLEVBQW9CO0FBQzFDLFlBQUksS0FBS25FLFFBQUwsSUFBaUIsQ0FBQyxLQUFLc0YsWUFBdkIsSUFBdUMsQ0FBQyxLQUFLbEIsa0JBQWpELEVBQXFFO0FBQUU7QUFBUzs7QUFDaEYsWUFBSSxLQUFLMUMsV0FBTCxLQUFxQnZDLFVBQVUsQ0FBQ3dDLE1BQWhDLElBQTBDLENBQUMsS0FBS0MsWUFBcEQsRUFBa0U7QUFBRTtBQUFTOztBQUU3RSxZQUFJLENBQUMsS0FBSzNCLFFBQVYsRUFBb0I7QUFDaEIsZUFBS0EsUUFBTCxHQUFnQixJQUFoQjs7QUFDQSxlQUFLbUIsWUFBTDtBQUNIO0FBQ0o7OztzQ0FFMEIrQyxLLEVBQW9CO0FBQzNDLFlBQUksS0FBS2xFLFFBQVQsRUFBbUI7QUFDZixlQUFLQSxRQUFMLEdBQWdCLEtBQWhCOztBQUNBLGVBQUttQixZQUFMO0FBQ0g7QUFDSixPLENBRUQ7Ozs7cUNBQzBCO0FBQ3RCLFlBQU0wRCxLQUFLLEdBQUcsS0FBS1MsZUFBTCxFQUFkOztBQUNBLGFBQUtOLGdCQUFMLENBQXNCSCxLQUF0QjtBQUNIOzs7d0NBRTRCO0FBQ3pCLFlBQUlBLEtBQUssR0FBRzFGLEtBQUssQ0FBQzRGLE1BQWxCOztBQUNBLFlBQUksQ0FBQyxLQUFLakIsYUFBVixFQUF5QjtBQUNyQmUsVUFBQUEsS0FBSyxHQUFHMUYsS0FBSyxDQUFDb0csUUFBZDtBQUNILFNBRkQsTUFFTyxJQUFJLEtBQUt4RixRQUFULEVBQW1CO0FBQ3RCOEUsVUFBQUEsS0FBSyxHQUFHMUYsS0FBSyxDQUFDMkYsT0FBZDtBQUNILFNBRk0sTUFFQSxJQUFJLEtBQUs5RSxRQUFULEVBQW1CO0FBQ3RCNkUsVUFBQUEsS0FBSyxHQUFHMUYsS0FBSyxDQUFDcUcsS0FBZDtBQUNIOztBQUNELGVBQU9YLEtBQUssQ0FBQ1ksUUFBTixFQUFQO0FBQ0g7Ozs2Q0FFaUNaLEssRUFBZTtBQUM3QyxZQUFNdkIsS0FBSyxHQUFHLEtBQUt1QixLQUFLLEdBQUcsT0FBYixDQUFkO0FBQ0EsWUFBTWxFLE1BQU0sR0FBRyxLQUFLbUMsT0FBcEI7O0FBQ0EsWUFBSSxDQUFDbkMsTUFBTCxFQUFhO0FBQ1Q7QUFDSDs7QUFFRCxZQUFNd0MsVUFBVSxHQUFHeEMsTUFBTSxDQUFDRyxZQUFQLENBQW9Cc0Msb0NBQXBCLENBQW5COztBQUNBLFlBQUksQ0FBQ0QsVUFBTCxFQUFpQjtBQUNiO0FBQ0g7O0FBRUQsWUFBSS9CLDRCQUFVeUQsS0FBSyxLQUFLMUYsS0FBSyxDQUFDb0csUUFBOUIsRUFBd0M7QUFDcENwQyxVQUFBQSxVQUFVLENBQUNHLEtBQVgsR0FBbUJBLEtBQW5CO0FBQ0gsU0FGRCxNQUVPO0FBQ0gsZUFBS3JELFVBQUwsR0FBa0JrRCxVQUFVLENBQUNHLEtBQVgsQ0FBaUJvQyxLQUFqQixFQUFsQjtBQUNBLGVBQUt4RixRQUFMLEdBQWdCb0QsS0FBaEI7QUFDQSxlQUFLbkQsS0FBTCxHQUFhLENBQWI7QUFDQSxlQUFLQyxtQkFBTCxHQUEyQixLQUEzQjtBQUNIO0FBQ0o7Ozs4Q0FFa0N5RSxLLEVBQWU7QUFDOUMsWUFBTWhFLE1BQU0sR0FBRyxLQUFLZ0UsS0FBSyxHQUFHLFFBQWIsQ0FBZjs7QUFDQSxZQUFJLEtBQUtwRSxPQUFMLElBQWdCSSxNQUFwQixFQUE0QjtBQUN4QixlQUFLSixPQUFMLENBQWFRLFdBQWIsR0FBMkJKLE1BQTNCO0FBQ0g7QUFDSjs7OzZDQUVpQ2dFLEssRUFBZTtBQUM3QyxZQUFJLENBQUMsS0FBS2YsYUFBVixFQUF5QjtBQUNyQjtBQUNIOztBQUVELFlBQUllLEtBQUssS0FBSzFGLEtBQUssQ0FBQzJGLE9BQXBCLEVBQTZCO0FBQ3pCLGVBQUthLE9BQUw7QUFDSCxTQUZELE1BRU87QUFDSCxlQUFLQyxTQUFMO0FBQ0g7QUFDSjs7O2dDQUVvQjtBQUNqQnRGLHFCQUFLMkQsSUFBTCxDQUFVLEtBQUs1RCxVQUFmLEVBQTJCLEtBQUtHLGNBQWhDOztBQUNBRixxQkFBS3FFLGNBQUwsQ0FBb0IsS0FBS3BFLFFBQXpCLEVBQW1DLEtBQUtDLGNBQXhDLEVBQXdELEtBQUtvRSxVQUE3RDs7QUFDQSxhQUFLekUsS0FBTCxHQUFhLENBQWI7QUFDQSxhQUFLQyxtQkFBTCxHQUEyQixLQUEzQjtBQUNIOzs7a0NBRXNCO0FBQ25CLFlBQUksQ0FBQyxLQUFLMEMsT0FBVixFQUFtQjtBQUNmO0FBQ0g7O0FBRUR4QyxxQkFBSzJELElBQUwsQ0FBVSxLQUFLNUQsVUFBZixFQUEyQixLQUFLeUMsT0FBTCxDQUFhVSxRQUFiLEVBQTNCOztBQUNBbEQscUJBQUsyRCxJQUFMLENBQVUsS0FBSzFELFFBQWYsRUFBeUIsS0FBS0MsY0FBOUI7O0FBQ0EsYUFBS0wsS0FBTCxHQUFhLENBQWI7QUFDQSxhQUFLQyxtQkFBTCxHQUEyQixLQUEzQjtBQUNIOzs7dUNBRTJCeUUsSyxFQUFlO0FBQ3ZDLFlBQU10QixVQUFVLEdBQUcsS0FBSzlCLFdBQXhCOztBQUNBLFlBQUk4QixVQUFVLEtBQUtyRSxVQUFVLENBQUM2RCxLQUE5QixFQUFxQztBQUNqQyxlQUFLOEMsc0JBQUwsQ0FBNEJoQixLQUE1QjtBQUNILFNBRkQsTUFFTyxJQUFJdEIsVUFBVSxLQUFLckUsVUFBVSxDQUFDd0MsTUFBOUIsRUFBc0M7QUFDekMsZUFBS29FLHVCQUFMLENBQTZCakIsS0FBN0I7QUFDSCxTQUZNLE1BRUEsSUFBSXRCLFVBQVUsS0FBS3JFLFVBQVUsQ0FBQzhELEtBQTlCLEVBQXFDO0FBQ3hDLGVBQUsrQyxzQkFBTCxDQUE0QmxCLEtBQTVCO0FBQ0g7QUFDSjs7OztBQXhzQkQ7Ozs7Ozs7Ozs7Ozs7OzswQkFvQmM7QUFDVixlQUFPLEtBQUsvQixPQUFaO0FBQ0gsTzt3QkFFV2tELEssRUFBTztBQUNmLFlBQUksS0FBS2xELE9BQUwsS0FBaUJrRCxLQUFyQixFQUE0QjtBQUN4QjtBQUNIOztBQUVELGFBQUtsRCxPQUFMLEdBQWVrRCxLQUFmOztBQUNBLGFBQUs5RSxZQUFMO0FBQ0g7QUFFRDs7Ozs7Ozs7Ozs7MEJBWW9CO0FBQ2hCLGVBQU8sS0FBSzRDLGFBQVo7QUFDSCxPO3dCQUVpQmtDLEssRUFBTztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQUtsQyxhQUFMLEdBQXFCa0MsS0FBckI7O0FBQ0EsYUFBSzdFLFlBQUw7O0FBRUEsWUFBSSxDQUFDLEtBQUsyQyxhQUFWLEVBQXlCO0FBQ3JCLGVBQUtoQyxXQUFMO0FBQ0g7QUFDSjs7O3dCQUVvQmtFLEssRUFBZ0I7QUFDakMsWUFBSUEsS0FBSixFQUFXO0FBQ1AsZUFBS0MsdUJBQUw7QUFDSDtBQUNKO0FBRUQ7Ozs7Ozs7Ozs7MEJBWWtCO0FBQ2QsZUFBTyxLQUFLeEUsV0FBWjtBQUNILE87d0JBRWV1RSxLLEVBQW1CO0FBQy9CLFlBQUksS0FBS3ZFLFdBQUwsS0FBcUJ1RSxLQUF6QixFQUFnQztBQUM1QjtBQUNIOztBQUVELGFBQUt2RSxXQUFMLEdBQW1CdUUsS0FBbkI7QUFDSCxPLENBRUQ7O0FBRUE7Ozs7Ozs7Ozs7MEJBV29DO0FBQ2hDLGVBQU8sS0FBS2pDLFlBQVo7QUFDSCxPO3dCQUVnQmlDLEssRUFBTztBQUNwQixZQUFJLEtBQUtqQyxZQUFMLEtBQXNCaUMsS0FBMUIsRUFBaUM7QUFDN0I7QUFDSDs7QUFFRCxhQUFLakMsWUFBTCxDQUFrQm1DLEdBQWxCLENBQXNCRixLQUF0Qjs7QUFDQSxhQUFLN0UsWUFBTDtBQUNIO0FBRUQ7Ozs7Ozs7Ozs7MEJBV3FDO0FBQ2pDLGVBQU8sS0FBS2dGLFdBQVo7QUFDSCxPO3dCQUVpQkgsSyxFQUFPO0FBQ3JCLFlBQUksS0FBS0csV0FBTCxLQUFxQkgsS0FBekIsRUFBZ0M7QUFDNUI7QUFDSDs7QUFFRCxhQUFLRyxXQUFMLENBQWlCRCxHQUFqQixDQUFxQkYsS0FBckI7QUFDSDtBQUVEOzs7Ozs7Ozs7OzBCQVdtQztBQUMvQixlQUFPLEtBQUtJLFdBQVo7QUFDSCxPO3dCQUVlSixLLEVBQU87QUFDbkIsWUFBSSxLQUFLSSxXQUFMLEtBQXFCSixLQUF6QixFQUFnQztBQUM1QjtBQUNIOztBQUVELGFBQUtJLFdBQUwsQ0FBaUJGLEdBQWpCLENBQXFCRixLQUFyQjtBQUNIO0FBQ0Q7Ozs7Ozs7Ozs7MEJBV3NDO0FBQ2xDLGVBQU8sS0FBS0ssY0FBWjtBQUNILE87d0JBRWtCTCxLLEVBQU87QUFDdEIsWUFBSSxLQUFLSyxjQUFMLEtBQXdCTCxLQUE1QixFQUFtQztBQUMvQjtBQUNIOztBQUVELGFBQUtLLGNBQUwsQ0FBb0JILEdBQXBCLENBQXdCRixLQUF4Qjs7QUFDQSxhQUFLN0UsWUFBTDtBQUNIO0FBRUQ7Ozs7Ozs7Ozs7MEJBWWdCO0FBQ1osZUFBTyxLQUFLK0IsU0FBWjtBQUNILE87d0JBRWE4QyxLLEVBQU87QUFDakIsWUFBSSxLQUFLOUMsU0FBTCxLQUFtQjhDLEtBQXZCLEVBQThCO0FBQzFCO0FBQ0g7O0FBRUQsYUFBSzlDLFNBQUwsR0FBaUI4QyxLQUFqQjtBQUNIO0FBRUQ7Ozs7Ozs7Ozs7OzBCQVdpQjtBQUNiLGVBQU8sS0FBS3BCLFVBQVo7QUFDSCxPO3dCQUVjb0IsSyxFQUFPO0FBQ2xCLFlBQUksS0FBS3BCLFVBQUwsS0FBb0JvQixLQUF4QixFQUErQjtBQUMzQjtBQUNIOztBQUVELGFBQUtwQixVQUFMLEdBQWtCb0IsS0FBbEI7QUFDSCxPLENBRUQ7O0FBQ0E7Ozs7Ozs7Ozs7MEJBV29CO0FBQ2hCLGVBQU8sS0FBS2hGLGFBQVo7QUFDSCxPO3dCQUVpQmdGLEssRUFBMkI7QUFDekMsWUFBSSxLQUFLaEYsYUFBTCxLQUF1QmdGLEtBQTNCLEVBQWtDO0FBQzlCO0FBQ0g7O0FBRUQsYUFBS2hGLGFBQUwsR0FBcUJnRixLQUFyQjtBQUNBLFlBQU1uRixNQUFNLEdBQUcsS0FBS0QsSUFBTCxDQUFVRSxZQUFWLENBQXVCQyxnQ0FBdkIsQ0FBZjs7QUFDQSxZQUFJRixNQUFKLEVBQVk7QUFDUkEsVUFBQUEsTUFBTSxDQUFDSSxXQUFQLEdBQXFCK0UsS0FBckI7QUFDSDs7QUFFRCxhQUFLN0UsWUFBTDtBQUNIO0FBRUQ7Ozs7Ozs7Ozs7MEJBV3FCO0FBQ2pCLGVBQU8sS0FBS1MsY0FBWjtBQUNILE87d0JBRWtCb0UsSyxFQUEyQjtBQUMxQyxZQUFJLEtBQUtwRSxjQUFMLEtBQXdCb0UsS0FBNUIsRUFBbUM7QUFDL0I7QUFDSDs7QUFFRCxhQUFLcEUsY0FBTCxHQUFzQm9FLEtBQXRCOztBQUNBLGFBQUs3RSxZQUFMO0FBQ0g7QUFFRDs7Ozs7Ozs7OzswQkFXbUI7QUFDZixlQUFPLEtBQUtRLFlBQVo7QUFDSCxPO3dCQUVnQnFFLEssRUFBMkI7QUFDeEMsWUFBSSxLQUFLckUsWUFBTCxLQUFzQnFFLEtBQTFCLEVBQWlDO0FBQzdCO0FBQ0g7O0FBRUQsYUFBS3JFLFlBQUwsR0FBb0JxRSxLQUFwQjs7QUFDQSxhQUFLN0UsWUFBTDtBQUNIO0FBRUQ7Ozs7Ozs7Ozs7MEJBV3NCO0FBQ2xCLGVBQU8sS0FBS1UsZUFBWjtBQUNILE87d0JBRW1CbUUsSyxFQUEyQjtBQUMzQyxZQUFJLEtBQUtuRSxlQUFMLEtBQXlCbUUsS0FBN0IsRUFBb0M7QUFDaEM7QUFDSDs7QUFFRCxhQUFLbkUsZUFBTCxHQUF1Qm1FLEtBQXZCOztBQUNBLGFBQUs3RSxZQUFMO0FBQ0g7Ozs7SUFuVmdDbUYsaUIsV0FxVm5CcEgsVSxHQUFhQSxVLFVBQ2JFLFMsR0FBWUEsUzs7Ozs7YUFhb0IsRTs7b0ZBQzdDbUgsd0I7Ozs7O2FBQ3lCLEk7O2tGQUN6QkEsd0I7Ozs7O2FBQ3VCckgsVUFBVSxDQUFDc0gsSTs7bUZBQ2xDRCx3Qjs7Ozs7YUFDK0IsSUFBSXRILGFBQUosQ0FBVSxHQUFWLEVBQWUsR0FBZixFQUFvQixHQUFwQixFQUF5QixHQUF6QixDOztrRkFDL0JzSCx3Qjs7Ozs7YUFDOEIsSUFBSXRILGFBQUosQ0FBVSxHQUFWLEVBQWUsR0FBZixFQUFvQixHQUFwQixFQUF5QixHQUF6QixDOztrRkFDOUJzSCx3Qjs7Ozs7YUFDOEJ0SCxjQUFNd0gsS0FBTixDQUFZZixLQUFaLEU7O3FGQUM5QmEsd0I7Ozs7O2FBQ2lDLElBQUl0SCxhQUFKLENBQVUsR0FBVixFQUFlLEdBQWYsRUFBb0IsR0FBcEIsRUFBeUIsR0FBekIsQzs7b0ZBQ2pDc0gsd0I7Ozs7O2FBQzZDLEk7O21GQUM3Q0Esd0I7Ozs7O2FBQzRDLEk7O3NGQUM1Q0Esd0I7Ozs7O2FBQzhDLEk7O3VGQUM5Q0Esd0I7Ozs7O2FBQytDLEk7O2lGQUMvQ0Esd0I7Ozs7O2FBQ3FCLEc7O2tGQUNyQkEsd0I7Ozs7O2FBQ3NCLEc7OytFQUN0QkEsd0I7Ozs7O2FBQ2dDLEk7Ozs7QUFpVnJDRyxFQUFBQSxFQUFFLENBQUNySCxlQUFILEdBQXFCQSxlQUFyQjtBQUVBIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuIENvcHlyaWdodCAoYykgMjAxMy0yMDE2IENodWtvbmcgVGVjaG5vbG9naWVzIEluYy5cclxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHA6Ly93d3cuY29jb3MuY29tXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXHJcbiAgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxyXG4gdG8gdXNlIENvY29zIENyZWF0b3Igc29sZWx5IHRvIGRldmVsb3AgZ2FtZXMgb24geW91ciB0YXJnZXQgcGxhdGZvcm1zLiBZb3Ugc2hhbGxcclxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXHJcbiAgdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxyXG4gIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiBDb2NvcyBDcmVhdG9yLlxyXG5cclxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXHJcbiBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC4gcmVzZXJ2ZXMgYWxsIHJpZ2h0cyBub3QgZXhwcmVzc2x5IGdyYW50ZWQgdG8geW91LlxyXG5cclxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG4gVEhFIFNPRlRXQVJFLlxyXG4qL1xyXG5cclxuLyoqXHJcbiAqIOeUqOaIt+eVjOmdoue7hOS7tlxyXG4gKiBAY2F0ZWdvcnkgdWlcclxuICovXHJcblxyXG5pbXBvcnQgeyBTcHJpdGVGcmFtZSB9IGZyb20gJy4uLy4uL2NvcmUvYXNzZXRzJztcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBFdmVudEhhbmRsZXIgYXMgQ29tcG9uZW50RXZlbnRIYW5kbGVyLCBVSVRyYW5zZm9ybUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2NvcmUvY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IGNjY2xhc3MsIGhlbHAsIGV4ZWN1dGlvbk9yZGVyLCBtZW51LCBwcm9wZXJ0eSwgcmVxdWlyZUNvbXBvbmVudCB9IGZyb20gJy4uLy4uL2NvcmUvZGF0YS9jbGFzcy1kZWNvcmF0b3InO1xyXG5pbXBvcnQgeyBFdmVudE1vdXNlLCBFdmVudFRvdWNoLCBTeXN0ZW1FdmVudFR5cGUgfSBmcm9tICcuLi8uLi9jb3JlL3BsYXRmb3JtJztcclxuaW1wb3J0IHsgQ29sb3IsIFZlYzMgfSBmcm9tICcuLi8uLi9jb3JlL21hdGgnO1xyXG5pbXBvcnQgeyBjY2VudW0gfSBmcm9tICcuLi8uLi9jb3JlL3ZhbHVlLXR5cGVzL2VudW0nO1xyXG5pbXBvcnQgeyBsZXJwIH0gZnJvbSAnLi4vLi4vY29yZS9tYXRoL3V0aWxzJztcclxuaW1wb3J0IHsgTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvc2NlbmUtZ3JhcGgvbm9kZSc7XHJcbmltcG9ydCB7IFNwcml0ZUNvbXBvbmVudCB9IGZyb20gJy4vc3ByaXRlLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IFVJUmVuZGVyQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnRzL3VpLWJhc2UvdWktcmVuZGVyLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IEVESVRPUiB9IGZyb20gJ2ludGVybmFsOmNvbnN0YW50cyc7XHJcblxyXG5jb25zdCBfdGVtcENvbG9yID0gbmV3IENvbG9yKCk7XHJcblxyXG4vKipcclxuICogQGVuIEVudW0gZm9yIHRyYW5zaXRpb24gdHlwZS5cclxuICpcclxuICogQHpoIOi/h+a4oeexu+Wei+OAglxyXG4gKi9cclxuZW51bSBUcmFuc2l0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgICogQGVuIFRoZSBub25lIHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHpoIOS4jeWBmuS7u+S9lei/h+a4oeOAglxyXG4gICAgICovXHJcbiAgICBOT05FID0gMCxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBUaGUgY29sb3IgdHlwZS5cclxuICAgICAqXHJcbiAgICAgKiBAemgg6aKc6Imy6L+H5rih44CCXHJcbiAgICAgKi9cclxuICAgIENPTE9SID0gMSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBUaGUgc3ByaXRlIHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHpoIOeyvueBtei/h+a4oeOAglxyXG4gICAgICovXHJcbiAgICBTUFJJVEUgPSAyLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gVGhlIHNjYWxlIHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHpoIOe8qeaUvui/h+a4oeOAglxyXG4gICAgICovXHJcbiAgICBTQ0FMRSA9IDMsXHJcbn1cclxuXHJcbmNjZW51bShUcmFuc2l0aW9uKTtcclxuXHJcbmVudW0gU3RhdGUge1xyXG4gICAgTk9STUFMID0gJ25vcm1hbCcsXHJcbiAgICBIT1ZFUiA9ICdob3ZlcicsXHJcbiAgICBQUkVTU0VEID0gJ3ByZXNzZWQnLFxyXG4gICAgRElTQUJMRUQgPSAnZGlzYWJsZWQnLFxyXG59XHJcblxyXG5leHBvcnQgZW51bSBFdmVudFR5cGUge1xyXG4gICAgQ0xJQ0sgPSAnY2xpY2snLFxyXG59XHJcblxyXG4vKipcclxuICogQGVuXHJcbiAqIEJ1dHRvbiBoYXMgNCBUcmFuc2l0aW9uIHR5cGVzPGJyLz5cclxuICogV2hlbiBCdXR0b24gc3RhdGUgY2hhbmdlZDo8YnIvPlxyXG4gKiAgSWYgVHJhbnNpdGlvbiB0eXBlIGlzIEJ1dHRvbi5UcmFuc2l0aW9uLk5PTkUsIEJ1dHRvbiB3aWxsIGRvIG5vdGhpbmc8YnIvPlxyXG4gKiAgSWYgVHJhbnNpdGlvbiB0eXBlIGlzIEJ1dHRvbi5UcmFuc2l0aW9uLkNPTE9SLCBCdXR0b24gd2lsbCBjaGFuZ2UgdGFyZ2V0J3MgY29sb3I8YnIvPlxyXG4gKiAgSWYgVHJhbnNpdGlvbiB0eXBlIGlzIEJ1dHRvbi5UcmFuc2l0aW9uLlNQUklURSwgQnV0dG9uIHdpbGwgY2hhbmdlIHRhcmdldCBTcHJpdGUncyBzcHJpdGU8YnIvPlxyXG4gKiAgSWYgVHJhbnNpdGlvbiB0eXBlIGlzIEJ1dHRvbi5UcmFuc2l0aW9uLlNDQUxFLCBCdXR0b24gd2lsbCBjaGFuZ2UgdGFyZ2V0IG5vZGUncyBzY2FsZTxici8+XHJcbiAqXHJcbiAqIEJ1dHRvbiB3aWxsIHRyaWdnZXIgNSBldmVudHM6PGJyLz5cclxuICogIEJ1dHRvbi5FVkVOVF9UT1VDSF9ET1dOPGJyLz5cclxuICogIEJ1dHRvbi5FVkVOVF9UT1VDSF9VUDxici8+XHJcbiAqICBCdXR0b24uRVZFTlRfSE9WRVJfSU48YnIvPlxyXG4gKiAgQnV0dG9uLkVWRU5UX0hPVkVSX01PVkU8YnIvPlxyXG4gKiAgQnV0dG9uLkVWRU5UX0hPVkVSX09VVDxici8+XHJcbiAqICBVc2VyIGNhbiBnZXQgdGhlIGN1cnJlbnQgY2xpY2tlZCBub2RlIHdpdGggJ2V2ZW50LnRhcmdldCcgZnJvbSBldmVudCBvYmplY3Qgd2hpY2ggaXMgcGFzc2VkIGFzIHBhcmFtZXRlciBpbiB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gb2YgY2xpY2sgZXZlbnQuXHJcbiAqXHJcbiAqIEB6aFxyXG4gKiDmjInpkq7nu4Tku7bjgILlj6/ku6XooqvmjInkuIss5oiW6ICF54K55Ye744CCPGJyLz5cclxuICpcclxuICog5oyJ6ZKu5Y+v5Lul6YCa6L+H5L+u5pS5IFRyYW5zaXRpb24g5p2l6K6+572u5oyJ6ZKu54q25oCB6L+H5rih55qE5pa55byP77yaPGJyLz5cclxuICogICAtQnV0dG9uLlRyYW5zaXRpb24uTk9ORSAgIC8vIOS4jeWBmuS7u+S9lei/h+a4oTxici8+XHJcbiAqICAgLUJ1dHRvbi5UcmFuc2l0aW9uLkNPTE9SICAvLyDov5vooYzpopzoibLkuYvpl7Tov4fmuKE8YnIvPlxyXG4gKiAgIC1CdXR0b24uVHJhbnNpdGlvbi5TUFJJVEUgLy8g6L+b6KGM57K+54G15LmL6Ze06L+H5rihPGJyLz5cclxuICogICAtQnV0dG9uLlRyYW5zaXRpb24uU0NBTEUgLy8g6L+b6KGM57yp5pS+6L+H5rihPGJyLz5cclxuICpcclxuICog5oyJ6ZKu5Y+v5Lul57uR5a6a5LqL5Lu277yI5L2G5piv5b+F6aG76KaB5Zyo5oyJ6ZKu55qEIE5vZGUg5LiK5omN6IO957uR5a6a5LqL5Lu277yJ77yaPGJyLz5cclxuICogICAvLyDku6XkuIvkuovku7blj6/ku6XlnKjlhajlubPlj7DkuIrpg73op6blj5E8YnIvPlxyXG4gKiAgIC1jYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCAgLy8g5oyJ5LiL5pe25LqL5Lu2PGJyLz5cclxuICogICAtY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTW92ZSAgIC8vIOaMieS9j+enu+WKqOWQjuS6i+S7tjxici8+XHJcbiAqICAgLWNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCAgICAvLyDmjInkuIvlkI7mnb7lvIDlkI7kuovku7Y8YnIvPlxyXG4gKiAgIC1jYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9DQU5DRUwgLy8g5oyJ5LiL5Y+W5raI5LqL5Lu2PGJyLz5cclxuICogICAvLyDku6XkuIvkuovku7blj6rlnKggUEMg5bmz5Y+w5LiK6Kem5Y+RPGJyLz5cclxuICogICAtY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfRE9XTiAgLy8g6byg5qCH5oyJ5LiL5pe25LqL5Lu2PGJyLz5cclxuICogICAtY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfTU9WRSAgLy8g6byg5qCH5oyJ5L2P56e75Yqo5ZCO5LqL5Lu2PGJyLz5cclxuICogICAtY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfRU5URVIgLy8g6byg5qCH6L+b5YWl55uu5qCH5LqL5Lu2PGJyLz5cclxuICogICAtY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfTEVBVkUgLy8g6byg5qCH56a75byA55uu5qCH5LqL5Lu2PGJyLz5cclxuICogICAtY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfVVAgICAgLy8g6byg5qCH5p2+5byA5LqL5Lu2PGJyLz5cclxuICogICAtY2MuTm9kZS5FdmVudFR5cGUuTU9VU0VfV0hFRUwgLy8g6byg5qCH5rua6L2u5LqL5Lu2PGJyLz5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgdHlwZXNjcmlwdFxyXG4gKiAvLyBBZGQgYW4gZXZlbnQgdG8gdGhlIGJ1dHRvbi5cclxuICogYnV0dG9uLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIChldmVudCkgPT4ge1xyXG4gKiAgICAgY2MubG9nKFwiVGhpcyBpcyBhIGNhbGxiYWNrIGFmdGVyIHRoZSB0cmlnZ2VyIGV2ZW50XCIpO1xyXG4gKiB9KTtcclxuICogLy8gWW91IGNvdWxkIGFsc28gYWRkIGEgY2xpY2sgZXZlbnRcclxuICogLy9Ob3RlOiBJbiB0aGlzIHdheSwgeW91IGNhbid0IGdldCB0aGUgdG91Y2ggZXZlbnQgaW5mbywgc28gdXNlIGl0IHdpc2VseS5cclxuICogYnV0dG9uLm5vZGUub24oJ2NsaWNrJywgKGJ1dHRvbikgPT4ge1xyXG4gKiAgICAvL1RoZSBldmVudCBpcyBhIGN1c3RvbSBldmVudCwgeW91IGNvdWxkIGdldCB0aGUgQnV0dG9uIGNvbXBvbmVudCB2aWEgZmlyc3QgYXJndW1lbnRcclxuICogfSlcclxuICogYGBgXHJcbiAqL1xyXG5AY2NjbGFzcygnY2MuQnV0dG9uQ29tcG9uZW50JylcclxuQGhlbHAoJ2kxOG46Y2MuQnV0dG9uQ29tcG9uZW50JylcclxuQGV4ZWN1dGlvbk9yZGVyKDExMClcclxuQG1lbnUoJ1VJL0J1dHRvbicpXHJcbkByZXF1aXJlQ29tcG9uZW50KFVJVHJhbnNmb3JtQ29tcG9uZW50KVxyXG5leHBvcnQgY2xhc3MgQnV0dG9uQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogVHJhbnNpdGlvbiB0YXJnZXQuXHJcbiAgICAgKiBXaGVuIEJ1dHRvbiBzdGF0ZSBjaGFuZ2VkOlxyXG4gICAgICogLSBJZiBUcmFuc2l0aW9uIHR5cGUgaXMgQnV0dG9uLlRyYW5zaXRpb24uTk9ORSwgQnV0dG9uIHdpbGwgZG8gbm90aGluZy5cclxuICAgICAqIC0gSWYgVHJhbnNpdGlvbiB0eXBlIGlzIEJ1dHRvbi5UcmFuc2l0aW9uLkNPTE9SLCBCdXR0b24gd2lsbCBjaGFuZ2UgdGFyZ2V0J3MgY29sb3IuXHJcbiAgICAgKiAtIElmIFRyYW5zaXRpb24gdHlwZSBpcyBCdXR0b24uVHJhbnNpdGlvbi5TUFJJVEUsIEJ1dHRvbiB3aWxsIGNoYW5nZSB0YXJnZXQgU3ByaXRlJ3Mgc3ByaXRlLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog6ZyA6KaB6L+H5rih55qE55uu5qCH44CCPGJyLz5cclxuICAgICAqIOW9k+WJjeaMiemSrueKtuaAgeaUueWPmOinhOWIme+8mjxici8+XHJcbiAgICAgKiAtIOWmguaenCBUcmFuc2l0aW9uIHR5cGUg6YCJ5oupIEJ1dHRvbi5UcmFuc2l0aW9uLk5PTkXvvIzmjInpkq7kuI3lgZrku7vkvZXov4fmuKHjgIJcclxuICAgICAqIC0g5aaC5p6cIFRyYW5zaXRpb24gdHlwZSDpgInmi6kgQnV0dG9uLlRyYW5zaXRpb24uQ09MT1LvvIzmjInpkq7kvJrlr7nnm67moIfpopzoibLov5vooYzpopzoibLkuYvpl7TnmoTov4fmuKHjgIJcclxuICAgICAqIC0g5aaC5p6cIFRyYW5zaXRpb24gdHlwZSDpgInmi6kgQnV0dG9uLlRyYW5zaXRpb24uU3ByaXRl77yM5oyJ6ZKu5Lya5a+555uu5qCHIFNwcml0ZSDov5vooYwgU3ByaXRlIOS5i+mXtOeahOi/h+a4oeOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IE5vZGUsXHJcbiAgICAgICAgZGlzcGxheU9yZGVyOiAwLFxyXG4gICAgICAgIHRvb2x0aXA6ICfmjIflrpogQnV0dG9uIOiDjOaZr+iKgueCue+8jEJ1dHRvbiDnirbmgIHmlLnlj5jml7bkvJrkv67mlLnmraToioLngrnnmoQgQ29sb3Ig5oiWIFNwcml0ZSDlsZ7mgKcnLFxyXG4gICAgfSlcclxuICAgIGdldCB0YXJnZXQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHRhcmdldCAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0ID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl90YXJnZXQgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9hcHBseVRhcmdldCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBXaGV0aGVyIHRoZSBCdXR0b24gaXMgZGlzYWJsZWQuXHJcbiAgICAgKiBJZiB0cnVlLCB0aGUgQnV0dG9uIHdpbGwgdHJpZ2dlciBldmVudCBhbmQgZG8gdHJhbnNpdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOaMiemSruS6i+S7tuaYr+WQpuiiq+WTjeW6lO+8jOWmguaenOS4uiBmYWxzZe+8jOWImeaMiemSruWwhuiiq+emgeeUqOOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogMSxcclxuICAgICAgICB0b29sdGlwOifmjInpkq7mmK/lkKblj6/kuqTkupLvvIzov5nkuIDpobnmnKrpgInkuK3ml7bvvIzmjInpkq7lpITlnKjnpoHnlKjnirbmgIEnLFxyXG4gICAgfSlcclxuICAgIGdldCBpbnRlcmFjdGFibGUgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pbnRlcmFjdGFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGludGVyYWN0YWJsZSAodmFsdWUpIHtcclxuICAgICAgICAvLyBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgLy8gICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgIC8vICAgICAgICAgdGhpcy5fcHJldmlvdXNOb3JtYWxTcHJpdGUgPSB0aGlzLm5vcm1hbFNwcml0ZTtcclxuICAgICAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAgICAgICAgIHRoaXMubm9ybWFsU3ByaXRlID0gdGhpcy5fcHJldmlvdXNOb3JtYWxTcHJpdGU7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgdGhpcy5faW50ZXJhY3RhYmxlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbnRlcmFjdGFibGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVzZXRTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXQgX3Jlc2l6ZVRvVGFyZ2V0ICh2YWx1ZTogYm9vbGVhbikge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZXNpemVOb2RlVG9UYXJnZXROb2RlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBUcmFuc2l0aW9uIHR5cGUuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmjInpkq7nirbmgIHmlLnlj5jml7bov4fmuKHmlrnlvI/jgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0eXBlOiBUcmFuc2l0aW9uLFxyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogMixcclxuICAgICAgICB0b29sdGlwOifmjInpkq7nirbmgIHlj5jljJbml7bnmoTov4fmuKHnsbvlnosnLFxyXG4gICAgfSlcclxuICAgIGdldCB0cmFuc2l0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNpdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgdHJhbnNpdGlvbiAodmFsdWU6IFRyYW5zaXRpb24pIHtcclxuICAgICAgICBpZiAodGhpcy5fdHJhbnNpdGlvbiA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbiA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGNvbG9yIHRyYW5zaXRpb25cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogTm9ybWFsIHN0YXRlIGNvbG9yLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5pmu6YCa54q25oCB5LiL5oyJ6ZKu5omA5pi+56S655qE6aKc6Imy44CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDon5pmu6YCa54q25oCB55qE5oyJ6ZKu6IOM5pmv6aKc6ImyJyxcclxuICAgIH0pXHJcbiAgICAvLyBAY29uc3RnZXRcclxuICAgIGdldCBub3JtYWxDb2xvciAoKTogUmVhZG9ubHk8Q29sb3I+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbm9ybWFsQ29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG5vcm1hbENvbG9yICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9ub3JtYWxDb2xvciA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fbm9ybWFsQ29sb3Iuc2V0KHZhbHVlKTtcclxuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBQcmVzc2VkIHN0YXRlIGNvbG9yLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5oyJ5LiL54q25oCB5pe25oyJ6ZKu5omA5pi+56S655qE6aKc6Imy44CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDon5oyJ5LiL54q25oCB55qE5oyJ6ZKu6IOM5pmv6aKc6ImyJyxcclxuICAgIH0pXHJcbiAgICAvLyBAY29uc3RnZXRcclxuICAgIGdldCBwcmVzc2VkQ29sb3IgKCk6IFJlYWRvbmx5PENvbG9yPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXNzQ29sb3I7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHByZXNzZWRDb2xvciAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5fcHJlc3NDb2xvciA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fcHJlc3NDb2xvci5zZXQodmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBIb3ZlciBzdGF0ZSBjb2xvci5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOaCrOWBnOeKtuaAgeS4i+aMiemSruaJgOaYvuekuueahOminOiJsuOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6J+aCrOWBnOeKtuaAgeeahOaMiemSruiDjOaZr+minOiJsicsXHJcbiAgICB9KVxyXG4gICAgLy8gQGNvbnN0Z2V0XHJcbiAgICBnZXQgaG92ZXJDb2xvciAoKTogUmVhZG9ubHk8Q29sb3I+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faG92ZXJDb2xvcjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgaG92ZXJDb2xvciAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5faG92ZXJDb2xvciA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faG92ZXJDb2xvci5zZXQodmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIERpc2FibGVkIHN0YXRlIGNvbG9yLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog56aB55So54q25oCB5LiL5oyJ6ZKu5omA5pi+56S655qE6aKc6Imy44CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDon56aB55So54q25oCB55qE5oyJ6ZKu6IOM5pmv6aKc6ImyJyxcclxuICAgIH0pXHJcbiAgICAvLyBAY29uc3RnZXRcclxuICAgIGdldCBkaXNhYmxlZENvbG9yICgpOiBSZWFkb25seTxDb2xvcj4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZENvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBkaXNhYmxlZENvbG9yICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9kaXNhYmxlZENvbG9yID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9kaXNhYmxlZENvbG9yLnNldCh2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogQ29sb3IgYW5kIFNjYWxlIHRyYW5zaXRpb24gZHVyYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDpopzoibLov4fmuKHlkoznvKnmlL7ov4fmuKHml7bmiYDpnIDml7bpl7TjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgbWF4OiAxMCxcclxuICAgICAgICB0b29sdGlwOifmjInpkq7popzoibLlj5jljJbmiJbogIXnvKnmlL7lj5jljJbnmoTov4fmuKHml7bpl7QnLFxyXG4gICAgfSlcclxuICAgIGdldCBkdXJhdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2R1cmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBkdXJhdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5fZHVyYXRpb24gPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFdoZW4gdXNlciBwcmVzcyB0aGUgYnV0dG9uLCB0aGUgYnV0dG9uIHdpbGwgem9vbSB0byBhIHNjYWxlLlxyXG4gICAgICogVGhlIGZpbmFsIHNjYWxlIG9mIHRoZSBidXR0b24gZXF1YWxzIChidXR0b24gb3JpZ2luYWwgc2NhbGUgKiB6b29tU2NhbGUpXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlvZPnlKjmiLfngrnlh7vmjInpkq7lkI7vvIzmjInpkq7kvJrnvKnmlL7liLDkuIDkuKrlgLzvvIzov5nkuKrlgLznrYnkuo4gQnV0dG9uIOWOn+WniyBzY2FsZSAqIHpvb21TY2FsZeOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6J+W9k+eUqOaIt+eCueWHu+aMiemSruWQju+8jOaMiemSruS8mue8qeaUvuWIsOS4gOS4quWAvO+8jOi/meS4quWAvOetieS6jiBCdXR0b24g5Y6f5aeLIHNjYWxlICogem9vbVNjYWxl44CCJyxcclxuICAgIH0pXHJcbiAgICBnZXQgem9vbVNjYWxlICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fem9vbVNjYWxlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB6b29tU2NhbGUgKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3pvb21TY2FsZSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fem9vbVNjYWxlID0gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc3ByaXRlIHRyYW5zaXRpb25cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBOb3JtYWwgc3RhdGUgc3ByaXRlLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5pmu6YCa54q25oCB5LiL5oyJ6ZKu5omA5pi+56S655qEIFNwcml0ZeOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IFNwcml0ZUZyYW1lLFxyXG4gICAgICAgIHRvb2x0aXA6J+aZrumAmueKtuaAgeeahOaMiemSruiDjOaZr+Wbvui1hOa6kCcsXHJcbiAgICB9KVxyXG4gICAgZ2V0IG5vcm1hbFNwcml0ZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vcm1hbFNwcml0ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgbm9ybWFsU3ByaXRlICh2YWx1ZTogU3ByaXRlRnJhbWUgfCBudWxsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX25vcm1hbFNwcml0ZSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fbm9ybWFsU3ByaXRlID0gdmFsdWU7XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlID0gdGhpcy5ub2RlLmdldENvbXBvbmVudChTcHJpdGVDb21wb25lbnQpO1xyXG4gICAgICAgIGlmIChzcHJpdGUpIHtcclxuICAgICAgICAgICAgc3ByaXRlLnNwcml0ZUZyYW1lID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBQcmVzc2VkIHN0YXRlIHNwcml0ZS5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOaMieS4i+eKtuaAgeaXtuaMiemSruaJgOaYvuekuueahCBTcHJpdGXjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0eXBlOiBTcHJpdGVGcmFtZSxcclxuICAgICAgICB0b29sdGlwOifmjInkuIvnirbmgIHnmoTmjInpkq7og4zmma/lm77otYTmupAnLFxyXG4gICAgfSlcclxuICAgIGdldCBwcmVzc2VkU3ByaXRlICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcHJlc3NlZFNwcml0ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcHJlc3NlZFNwcml0ZSAodmFsdWU6IFNwcml0ZUZyYW1lIHwgbnVsbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9wcmVzc2VkU3ByaXRlID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9wcmVzc2VkU3ByaXRlID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogSG92ZXIgc3RhdGUgc3ByaXRlLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5oKs5YGc54q25oCB5LiL5oyJ6ZKu5omA5pi+56S655qEIFNwcml0ZeOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IFNwcml0ZUZyYW1lLFxyXG4gICAgICAgIHRvb2x0aXA6J+aCrOWBnOeKtuaAgeeahOaMiemSruiDjOaZr+Wbvui1hOa6kCcsXHJcbiAgICB9KVxyXG4gICAgZ2V0IGhvdmVyU3ByaXRlICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faG92ZXJTcHJpdGU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGhvdmVyU3ByaXRlICh2YWx1ZTogU3ByaXRlRnJhbWUgfCBudWxsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2hvdmVyU3ByaXRlID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9ob3ZlclNwcml0ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIERpc2FibGVkIHN0YXRlIHNwcml0ZS5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOemgeeUqOeKtuaAgeS4i+aMiemSruaJgOaYvuekuueahCBTcHJpdGXjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0eXBlOiBTcHJpdGVGcmFtZSxcclxuICAgICAgICB0b29sdGlwOifnpoHnlKjnirbmgIHnmoTmjInpkq7og4zmma/lm77otYTmupAnLFxyXG4gICAgfSlcclxuICAgIGdldCBkaXNhYmxlZFNwcml0ZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkU3ByaXRlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBkaXNhYmxlZFNwcml0ZSAodmFsdWU6IFNwcml0ZUZyYW1lIHwgbnVsbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9kaXNhYmxlZFNwcml0ZSA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fZGlzYWJsZWRTcHJpdGUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgVHJhbnNpdGlvbiA9IFRyYW5zaXRpb247XHJcbiAgICBwdWJsaWMgc3RhdGljIEV2ZW50VHlwZSA9IEV2ZW50VHlwZTtcclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBJZiBCdXR0b24gaXMgY2xpY2tlZCwgaXQgd2lsbCB0cmlnZ2VyIGV2ZW50J3MgaGFuZGxlci5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOaMiemSrueahOeCueWHu+S6i+S7tuWIl+ihqOOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IFtDb21wb25lbnRFdmVudEhhbmRsZXJdLFxyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogMjAsXHJcbiAgICAgICAgdG9vbHRpcDon5oyJ6ZKu54K55Ye75LqL5Lu255qE5YiX6KGo44CC5YWI5bCG5pWw6YeP5pS55Li6MeaIluabtOWkmu+8jOWwseWPr+S7peS4uuavj+S4queCueWHu+S6i+S7tuiuvue9ruaOpeWPl+iAheWSjOWkhOeQhuaWueazlScsXHJcbiAgICB9KVxyXG4gICAgcHVibGljIGNsaWNrRXZlbnRzOiBDb21wb25lbnRFdmVudEhhbmRsZXJbXSA9IFtdO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcm90ZWN0ZWQgX2ludGVyYWN0YWJsZSA9IHRydWU7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByb3RlY3RlZCBfdHJhbnNpdGlvbiA9IFRyYW5zaXRpb24uTk9ORTtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJvdGVjdGVkIF9ub3JtYWxDb2xvcjogQ29sb3IgPSBuZXcgQ29sb3IoMjE0LCAyMTQsIDIxNCwgMjU1KTtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJvdGVjdGVkIF9ob3ZlckNvbG9yOiBDb2xvciA9IG5ldyBDb2xvcigyMTEsIDIxMSwgMjExLCAyNTUpO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcm90ZWN0ZWQgX3ByZXNzQ29sb3I6IENvbG9yID0gQ29sb3IuV0hJVEUuY2xvbmUoKTtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJvdGVjdGVkIF9kaXNhYmxlZENvbG9yOiBDb2xvciA9IG5ldyBDb2xvcigxMjQsIDEyNCwgMTI0LCAyNTUpO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcm90ZWN0ZWQgX25vcm1hbFNwcml0ZTogU3ByaXRlRnJhbWUgfCBudWxsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJvdGVjdGVkIF9ob3ZlclNwcml0ZTogU3ByaXRlRnJhbWUgfCBudWxsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJvdGVjdGVkIF9wcmVzc2VkU3ByaXRlOiBTcHJpdGVGcmFtZSB8IG51bGwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcm90ZWN0ZWQgX2Rpc2FibGVkU3ByaXRlOiBTcHJpdGVGcmFtZSB8IG51bGwgPSBudWxsO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcm90ZWN0ZWQgX2R1cmF0aW9uID0gMC4xO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcm90ZWN0ZWQgX3pvb21TY2FsZSA9IDEuMjtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJvdGVjdGVkIF90YXJnZXQ6IE5vZGUgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3ByZXNzZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX2hvdmVyZWQgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgX2Zyb21Db2xvcjogQ29sb3IgPSBuZXcgQ29sb3IoKTtcclxuICAgIHByaXZhdGUgX3RvQ29sb3I6IENvbG9yID0gbmV3IENvbG9yKCk7XHJcbiAgICBwcml2YXRlIF90aW1lID0gMDtcclxuICAgIHByaXZhdGUgX3RyYW5zaXRpb25GaW5pc2hlZCA9IHRydWU7XHJcbiAgICBwcml2YXRlIF9mcm9tU2NhbGU6IFZlYzMgPSBuZXcgVmVjMygpO1xyXG4gICAgcHJpdmF0ZSBfdG9TY2FsZTogVmVjMyA9IG5ldyBWZWMzKCk7XHJcbiAgICBwcml2YXRlIF9vcmlnaW5hbFNjYWxlOiBWZWMzID0gbmV3IFZlYzMoKTtcclxuICAgIHByaXZhdGUgX3Nwcml0ZTogU3ByaXRlQ29tcG9uZW50IHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF90YXJnZXRTY2FsZTogVmVjMyA9IG5ldyBWZWMzKCk7XHJcblxyXG4gICAgcHVibGljIF9fcHJlbG9hZCAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnRhcmdldCkge1xyXG4gICAgICAgICAgICB0aGlzLnRhcmdldCA9IHRoaXMubm9kZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNwcml0ZSA9IHRoaXMubm9kZS5nZXRDb21wb25lbnQoU3ByaXRlQ29tcG9uZW50KTtcclxuICAgICAgICBpZiAoc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbFNwcml0ZSA9IHNwcml0ZS5zcHJpdGVGcmFtZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2FwcGx5VGFyZ2V0KCk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25FbmFibGUgKCkge1xyXG4gICAgICAgIC8vIGNoZWNrIHNwcml0ZSBmcmFtZXNcclxuICAgICAgICAvL1xyXG4gICAgICAgIGlmICghRURJVE9SKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub24oU3ByaXRlQ29tcG9uZW50LkV2ZW50VHlwZS5TUFJJVEVfRlJBTUVfQ0hBTkdFRCwgKGNvbXA6IFNwcml0ZUNvbXBvbmVudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3RyYW5zaXRpb24gPT09IFRyYW5zaXRpb24uU1BSSVRFKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm9ybWFsU3ByaXRlID0gY29tcC5zcHJpdGVGcmFtZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYXZvaWQgc2VyaWFsaXphdGlvbiBkYXRhIGxvc3Mgd2hlbiBpbiBuby1zcHJpdGUgbW9kZVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25vcm1hbFNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faG92ZXJTcHJpdGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ByZXNzZWRTcHJpdGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVkU3ByaXRlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRpc2FibGUgKCkge1xyXG4gICAgICAgIHRoaXMuX3Jlc2V0U3RhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKCFFRElUT1IpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLm9mZihTeXN0ZW1FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMuX29uVG91Y2hCZWdhbiwgdGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5vZmYoU3lzdGVtRXZlbnRUeXBlLlRPVUNIX01PVkUsIHRoaXMuX29uVG91Y2hNb3ZlLCB0aGlzKTtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLm9mZihTeXN0ZW1FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLl9vblRvdWNoRW5kZWQsIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub2ZmKFN5c3RlbUV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsIHRoaXMuX29uVG91Y2hDYW5jZWwsIHRoaXMpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5ub2RlLm9mZihTeXN0ZW1FdmVudFR5cGUuTU9VU0VfRU5URVIsIHRoaXMuX29uTW91c2VNb3ZlSW4sIHRoaXMpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUub2ZmKFN5c3RlbUV2ZW50VHlwZS5NT1VTRV9MRUFWRSwgdGhpcy5fb25Nb3VzZU1vdmVPdXQsIHRoaXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5vZmYoU3ByaXRlQ29tcG9uZW50LkV2ZW50VHlwZS5TUFJJVEVfRlJBTUVfQ0hBTkdFRCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgKGR0OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl90YXJnZXQgPyB0aGlzLl90YXJnZXQgOiB0aGlzLm5vZGU7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zaXRpb25GaW5pc2hlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5fdHJhbnNpdGlvbiAhPT0gVHJhbnNpdGlvbi5DT0xPUiAmJiB0aGlzLl90cmFuc2l0aW9uICE9PSBUcmFuc2l0aW9uLlNDQUxFKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3RpbWUgKz0gZHQ7XHJcbiAgICAgICAgbGV0IHJhdGlvID0gMS4wO1xyXG4gICAgICAgIGlmICh0aGlzLl9kdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgcmF0aW8gPSB0aGlzLl90aW1lIC8gdGhpcy5fZHVyYXRpb247XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocmF0aW8gPj0gMSkge1xyXG4gICAgICAgICAgICByYXRpbyA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb25GaW5pc2hlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCByZW5kZXJDb21wID0gdGFyZ2V0LmdldENvbXBvbmVudChVSVJlbmRlckNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKCFyZW5kZXJDb21wKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl90cmFuc2l0aW9uID09PSBUcmFuc2l0aW9uLkNPTE9SKSB7XHJcbiAgICAgICAgICAgIENvbG9yLmxlcnAoX3RlbXBDb2xvciwgdGhpcy5fZnJvbUNvbG9yLCB0aGlzLl90b0NvbG9yLCByYXRpbyk7XHJcbiAgICAgICAgICAgIHJlbmRlckNvbXAuY29sb3IgPSBfdGVtcENvbG9yO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50cmFuc2l0aW9uID09PSBUcmFuc2l0aW9uLlNDQUxFKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5nZXRTY2FsZSh0aGlzLl90YXJnZXRTY2FsZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldFNjYWxlLnggPSBsZXJwKHRoaXMuX2Zyb21TY2FsZS54LCB0aGlzLl90b1NjYWxlLngsIHJhdGlvKTtcclxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0U2NhbGUueSA9IGxlcnAodGhpcy5fZnJvbVNjYWxlLnksIHRoaXMuX3RvU2NhbGUueSwgcmF0aW8pO1xyXG4gICAgICAgICAgICB0YXJnZXQuc2V0U2NhbGUodGhpcy5fdGFyZ2V0U2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3Jlc2l6ZU5vZGVUb1RhcmdldE5vZGUgKCkge1xyXG4gICAgICAgIGlmIChFRElUT1IgJiYgdGhpcy5fdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5zZXRDb250ZW50U2l6ZSh0aGlzLl90YXJnZXQuZ2V0Q29udGVudFNpemUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfcmVzZXRTdGF0ZSAoKSB7XHJcbiAgICAgICAgdGhpcy5fcHJlc3NlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2hvdmVyZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyBSZXN0b3JlIGJ1dHRvbiBzdGF0dXNcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl90YXJnZXQ7XHJcbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZW5kZXJDb21wID0gdGFyZ2V0LmdldENvbXBvbmVudChVSVJlbmRlckNvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKCFyZW5kZXJDb21wKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLl90cmFuc2l0aW9uO1xyXG4gICAgICAgIGlmICh0cmFuc2l0aW9uID09PSBUcmFuc2l0aW9uLkNPTE9SICYmIHRoaXMuX2ludGVyYWN0YWJsZSkge1xyXG4gICAgICAgICAgICByZW5kZXJDb21wLmNvbG9yID0gdGhpcy5fbm9ybWFsQ29sb3I7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0cmFuc2l0aW9uID09PSBUcmFuc2l0aW9uLlNDQUxFKSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5zZXRTY2FsZSh0aGlzLl9vcmlnaW5hbFNjYWxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbkZpbmlzaGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3JlZ2lzdGVyRXZlbnQgKCkge1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihTeXN0ZW1FdmVudFR5cGUuVE9VQ0hfU1RBUlQsIHRoaXMuX29uVG91Y2hCZWdhbiwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKFN5c3RlbUV2ZW50VHlwZS5UT1VDSF9NT1ZFLCB0aGlzLl9vblRvdWNoTW92ZSwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKFN5c3RlbUV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMuX29uVG91Y2hFbmRlZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKFN5c3RlbUV2ZW50VHlwZS5UT1VDSF9DQU5DRUwsIHRoaXMuX29uVG91Y2hDYW5jZWwsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLm5vZGUub24oU3lzdGVtRXZlbnRUeXBlLk1PVVNFX0VOVEVSLCB0aGlzLl9vbk1vdXNlTW92ZUluLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oU3lzdGVtRXZlbnRUeXBlLk1PVVNFX0xFQVZFLCB0aGlzLl9vbk1vdXNlTW92ZU91dCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9nZXRUYXJnZXRTcHJpdGUgKHRhcmdldDogTm9kZSB8IG51bGwpIHtcclxuICAgICAgICBsZXQgc3ByaXRlOiBTcHJpdGVDb21wb25lbnQgfCBudWxsID0gbnVsbDtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHNwcml0ZSA9IHRhcmdldC5nZXRDb21wb25lbnQoU3ByaXRlQ29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNwcml0ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2FwcGx5VGFyZ2V0ICgpIHtcclxuICAgICAgICB0aGlzLl9zcHJpdGUgPSB0aGlzLl9nZXRUYXJnZXRTcHJpdGUodGhpcy5fdGFyZ2V0KTtcclxuICAgICAgICBpZiAodGhpcy5fdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIFZlYzMuY29weSh0aGlzLl9vcmlnaW5hbFNjYWxlLCB0aGlzLl90YXJnZXQuZ2V0U2NhbGUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHRvdWNoIGV2ZW50IGhhbmRsZXJcclxuICAgIHByb3RlY3RlZCBfb25Ub3VjaEJlZ2FuIChldmVudD86IEV2ZW50VG91Y2gpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2ludGVyYWN0YWJsZSB8fCAhdGhpcy5lbmFibGVkSW5IaWVyYXJjaHkpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIHRoaXMuX3ByZXNzZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlKCk7XHJcbiAgICAgICAgaWYgKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfb25Ub3VjaE1vdmUgKGV2ZW50PzogRXZlbnRUb3VjaCkge1xyXG4gICAgICAgIGlmICghdGhpcy5faW50ZXJhY3RhYmxlIHx8ICF0aGlzLmVuYWJsZWRJbkhpZXJhcmNoeSB8fCAhdGhpcy5fcHJlc3NlZCkgeyByZXR1cm47IH1cclxuICAgICAgICAvLyBtb2JpbGUgcGhvbmUgd2lsbCBub3QgZW1pdCBfb25Nb3VzZU1vdmVPdXQsXHJcbiAgICAgICAgLy8gc28gd2UgaGF2ZSB0byBkbyBoaXQgdGVzdCB3aGVuIHRvdWNoIG1vdmluZ1xyXG4gICAgICAgIGlmICghZXZlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdG91Y2ggPSAoZXZlbnQgYXMgRXZlbnRUb3VjaCkudG91Y2g7XHJcbiAgICAgICAgaWYgKCF0b3VjaCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBoaXQgPSB0aGlzLm5vZGUuX3VpUHJvcHMudWlUcmFuc2Zvcm1Db21wIS5pc0hpdCh0b3VjaC5nZXRVSUxvY2F0aW9uKCkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fdHJhbnNpdGlvbiA9PT0gVHJhbnNpdGlvbi5TQ0FMRSAmJiB0aGlzLl90YXJnZXQpIHtcclxuICAgICAgICAgICAgaWYgKGhpdCkge1xyXG4gICAgICAgICAgICAgICAgVmVjMy5jb3B5KHRoaXMuX2Zyb21TY2FsZSwgdGhpcy5fb3JpZ2luYWxTY2FsZSk7XHJcbiAgICAgICAgICAgICAgICBWZWMzLm11bHRpcGx5U2NhbGFyKHRoaXMuX3RvU2NhbGUsIHRoaXMuX29yaWdpbmFsU2NhbGUsIHRoaXMuX3pvb21TY2FsZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uRmluaXNoZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3RpbWUgPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbkZpbmlzaGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90YXJnZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQhLnNldFNjYWxlKHRoaXMuX29yaWdpbmFsU2NhbGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IHN0YXRlO1xyXG4gICAgICAgICAgICBpZiAoaGl0KSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLlBSRVNTRUQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLk5PUk1BTDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9hcHBseVRyYW5zaXRpb24oc3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfb25Ub3VjaEVuZGVkIChldmVudD86IEV2ZW50VG91Y2gpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX2ludGVyYWN0YWJsZSB8fCAhdGhpcy5lbmFibGVkSW5IaWVyYXJjaHkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3ByZXNzZWQpIHtcclxuICAgICAgICAgICAgQ29tcG9uZW50RXZlbnRIYW5kbGVyLmVtaXRFdmVudHModGhpcy5jbGlja0V2ZW50cywgZXZlbnQpO1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZW1pdChFdmVudFR5cGUuQ0xJQ0ssIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9wcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfb25Ub3VjaENhbmNlbCAoZXZlbnQ/OiBFdmVudFRvdWNoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9pbnRlcmFjdGFibGUgfHwgIXRoaXMuZW5hYmxlZEluSGllcmFyY2h5KSB7IHJldHVybjsgfVxyXG5cclxuICAgICAgICB0aGlzLl9wcmVzc2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlU3RhdGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX29uTW91c2VNb3ZlSW4gKGV2ZW50PzogRXZlbnRNb3VzZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9wcmVzc2VkIHx8ICF0aGlzLmludGVyYWN0YWJsZSB8fCAhdGhpcy5lbmFibGVkSW5IaWVyYXJjaHkpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3RyYW5zaXRpb24gPT09IFRyYW5zaXRpb24uU1BSSVRFICYmICF0aGlzLl9ob3ZlclNwcml0ZSkgeyByZXR1cm47IH1cclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9ob3ZlcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2hvdmVyZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVTdGF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX29uTW91c2VNb3ZlT3V0IChldmVudD86IEV2ZW50TW91c2UpIHtcclxuICAgICAgICBpZiAodGhpcy5faG92ZXJlZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ob3ZlcmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHN0YXRlIGhhbmRsZXJcclxuICAgIHByb3RlY3RlZCBfdXBkYXRlU3RhdGUgKCkge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fZ2V0QnV0dG9uU3RhdGUoKTtcclxuICAgICAgICB0aGlzLl9hcHBseVRyYW5zaXRpb24oc3RhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfZ2V0QnV0dG9uU3RhdGUgKCkge1xyXG4gICAgICAgIGxldCBzdGF0ZSA9IFN0YXRlLk5PUk1BTDtcclxuICAgICAgICBpZiAoIXRoaXMuX2ludGVyYWN0YWJsZSkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLkRJU0FCTEVEO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fcHJlc3NlZCkge1xyXG4gICAgICAgICAgICBzdGF0ZSA9IFN0YXRlLlBSRVNTRUQ7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ob3ZlcmVkKSB7XHJcbiAgICAgICAgICAgIHN0YXRlID0gU3RhdGUuSE9WRVI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdGF0ZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfdXBkYXRlQ29sb3JUcmFuc2l0aW9uIChzdGF0ZTogc3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSB0aGlzW3N0YXRlICsgJ0NvbG9yJ107XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5fdGFyZ2V0O1xyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHJlbmRlckNvbXAgPSB0YXJnZXQuZ2V0Q29tcG9uZW50KFVJUmVuZGVyQ29tcG9uZW50KTtcclxuICAgICAgICBpZiAoIXJlbmRlckNvbXApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKEVESVRPUiB8fCBzdGF0ZSA9PT0gU3RhdGUuRElTQUJMRUQpIHtcclxuICAgICAgICAgICAgcmVuZGVyQ29tcC5jb2xvciA9IGNvbG9yO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Zyb21Db2xvciA9IHJlbmRlckNvbXAuY29sb3IuY2xvbmUoKTtcclxuICAgICAgICAgICAgdGhpcy5fdG9Db2xvciA9IGNvbG9yO1xyXG4gICAgICAgICAgICB0aGlzLl90aW1lID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbkZpbmlzaGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfdXBkYXRlU3ByaXRlVHJhbnNpdGlvbiAoc3RhdGU6IHN0cmluZykge1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZSA9IHRoaXNbc3RhdGUgKyAnU3ByaXRlJ107XHJcbiAgICAgICAgaWYgKHRoaXMuX3Nwcml0ZSAmJiBzcHJpdGUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3ByaXRlLnNwcml0ZUZyYW1lID0gc3ByaXRlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3VwZGF0ZVNjYWxlVHJhbnNpdGlvbiAoc3RhdGU6IHN0cmluZykge1xyXG4gICAgICAgIGlmICghdGhpcy5faW50ZXJhY3RhYmxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdGF0ZSA9PT0gU3RhdGUuUFJFU1NFRCkge1xyXG4gICAgICAgICAgICB0aGlzLl96b29tVXAoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl96b29tQmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3pvb21VcCAoKSB7XHJcbiAgICAgICAgVmVjMy5jb3B5KHRoaXMuX2Zyb21TY2FsZSwgdGhpcy5fb3JpZ2luYWxTY2FsZSk7XHJcbiAgICAgICAgVmVjMy5tdWx0aXBseVNjYWxhcih0aGlzLl90b1NjYWxlLCB0aGlzLl9vcmlnaW5hbFNjYWxlLCB0aGlzLl96b29tU2NhbGUpO1xyXG4gICAgICAgIHRoaXMuX3RpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMuX3RyYW5zaXRpb25GaW5pc2hlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfem9vbUJhY2sgKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFZlYzMuY29weSh0aGlzLl9mcm9tU2NhbGUsIHRoaXMuX3RhcmdldC5nZXRTY2FsZSgpKTtcclxuICAgICAgICBWZWMzLmNvcHkodGhpcy5fdG9TY2FsZSwgdGhpcy5fb3JpZ2luYWxTY2FsZSk7XHJcbiAgICAgICAgdGhpcy5fdGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5fdHJhbnNpdGlvbkZpbmlzaGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9hcHBseVRyYW5zaXRpb24gKHN0YXRlOiBzdHJpbmcpIHtcclxuICAgICAgICBjb25zdCB0cmFuc2l0aW9uID0gdGhpcy5fdHJhbnNpdGlvbjtcclxuICAgICAgICBpZiAodHJhbnNpdGlvbiA9PT0gVHJhbnNpdGlvbi5DT0xPUikge1xyXG4gICAgICAgICAgICB0aGlzLl91cGRhdGVDb2xvclRyYW5zaXRpb24oc3RhdGUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNpdGlvbiA9PT0gVHJhbnNpdGlvbi5TUFJJVEUpIHtcclxuICAgICAgICAgICAgdGhpcy5fdXBkYXRlU3ByaXRlVHJhbnNpdGlvbihzdGF0ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0cmFuc2l0aW9uID09PSBUcmFuc2l0aW9uLlNDQUxFKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVNjYWxlVHJhbnNpdGlvbihzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY2MuQnV0dG9uQ29tcG9uZW50ID0gQnV0dG9uQ29tcG9uZW50O1xyXG5cclxuLyoqXHJcbiAqIEB6aFxyXG4gKiDms6jmhI/vvJrmraTkuovku7bmmK/ku47or6Xnu4Tku7bmiYDlsZ7nmoQgTm9kZSDkuIrpnaLmtL7lj5Hlh7rmnaXnmoTvvIzpnIDopoHnlKggbm9kZS5vbiDmnaXnm5HlkKzjgIJcclxuICogQGV2ZW50IGNsaWNrXHJcbiAqIEBwYXJhbSB7RXZlbnQuRXZlbnRDdXN0b219IGV2ZW50XHJcbiAqIEBwYXJhbSB7QnV0dG9ufSBidXR0b24gLSBUaGUgQnV0dG9uIGNvbXBvbmVudC5cclxuICovXHJcbiJdfQ==