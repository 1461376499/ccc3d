(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports);
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports);
    global.easing = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.constant = constant;
  _exports.linear = linear;
  _exports.quadIn = quadIn;
  _exports.quadOut = quadOut;
  _exports.quadInOut = quadInOut;
  _exports.cubicIn = cubicIn;
  _exports.cubicOut = cubicOut;
  _exports.cubicInOut = cubicInOut;
  _exports.quartIn = quartIn;
  _exports.quartOut = quartOut;
  _exports.quartInOut = quartInOut;
  _exports.quintIn = quintIn;
  _exports.quintOut = quintOut;
  _exports.quintInOut = quintInOut;
  _exports.sineIn = sineIn;
  _exports.sineOut = sineOut;
  _exports.sineInOut = sineInOut;
  _exports.expoIn = expoIn;
  _exports.expoOut = expoOut;
  _exports.expoInOut = expoInOut;
  _exports.circIn = circIn;
  _exports.circOut = circOut;
  _exports.circInOut = circInOut;
  _exports.elasticIn = elasticIn;
  _exports.elasticOut = elasticOut;
  _exports.elasticInOut = elasticInOut;
  _exports.backIn = backIn;
  _exports.backOut = backOut;
  _exports.backInOut = backInOut;
  _exports.bounceIn = bounceIn;
  _exports.bounceOut = bounceOut;
  _exports.bounceInOut = bounceInOut;
  _exports.smooth = smooth;
  _exports.fade = fade;
  _exports.bounceOutIn = _exports.backOutIn = _exports.elasticOutIn = _exports.circOutIn = _exports.expoOutIn = _exports.sineOutIn = _exports.quintOutIn = _exports.quartOutIn = _exports.cubicOutIn = _exports.quadOutIn = void 0;

  /**
   * @category animation
   */
  function constant() {
    return 0;
  }

  function linear(k) {
    return k;
  }

  function quadIn(k) {
    return k * k;
  }

  function quadOut(k) {
    return k * (2 - k);
  }

  function quadInOut(k) {
    k *= 2;

    if (k < 1) {
      return 0.5 * k * k;
    }

    return -0.5 * (--k * (k - 2) - 1);
  }

  function cubicIn(k) {
    return k * k * k;
  }

  function cubicOut(k) {
    return --k * k * k + 1;
  }

  function cubicInOut(k) {
    k *= 2;

    if (k < 1) {
      return 0.5 * k * k * k;
    }

    return 0.5 * ((k -= 2) * k * k + 2);
  }

  function quartIn(k) {
    return k * k * k * k;
  }

  function quartOut(k) {
    return 1 - --k * k * k * k;
  }

  function quartInOut(k) {
    k *= 2;

    if (k < 1) {
      return 0.5 * k * k * k * k;
    }

    return -0.5 * ((k -= 2) * k * k * k - 2);
  }

  function quintIn(k) {
    return k * k * k * k * k;
  }

  function quintOut(k) {
    return --k * k * k * k * k + 1;
  }

  function quintInOut(k) {
    k *= 2;

    if (k < 1) {
      return 0.5 * k * k * k * k * k;
    }

    return 0.5 * ((k -= 2) * k * k * k * k + 2);
  }

  function sineIn(k) {
    return 1 - Math.cos(k * Math.PI / 2);
  }

  function sineOut(k) {
    return Math.sin(k * Math.PI / 2);
  }

  function sineInOut(k) {
    return 0.5 * (1 - Math.cos(Math.PI * k));
  }

  function expoIn(k) {
    return k === 0 ? 0 : Math.pow(1024, k - 1);
  }

  function expoOut(k) {
    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);
  }

  function expoInOut(k) {
    if (k === 0) {
      return 0;
    }

    if (k === 1) {
      return 1;
    }

    k *= 2;

    if (k < 1) {
      return 0.5 * Math.pow(1024, k - 1);
    }

    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);
  }

  function circIn(k) {
    return 1 - Math.sqrt(1 - k * k);
  }

  function circOut(k) {
    return Math.sqrt(1 - --k * k);
  }

  function circInOut(k) {
    k *= 2;

    if (k < 1) {
      return -0.5 * (Math.sqrt(1 - k * k) - 1);
    }

    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);
  }

  function elasticIn(k) {
    var s;
    var a = 0.1;
    var p = 0.4;

    if (k === 0) {
      return 0;
    }

    if (k === 1) {
      return 1;
    }

    if (!a || a < 1) {
      a = 1;
      s = p / 4;
    } else {
      s = p * Math.asin(1 / a) / (2 * Math.PI);
    }

    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
  }

  function elasticOut(k) {
    var s;
    var a = 0.1;
    var p = 0.4;

    if (k === 0) {
      return 0;
    }

    if (k === 1) {
      return 1;
    }

    if (!a || a < 1) {
      a = 1;
      s = p / 4;
    } else {
      s = p * Math.asin(1 / a) / (2 * Math.PI);
    }

    return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;
  }

  function elasticInOut(k) {
    var s;
    var a = 0.1;
    var p = 0.4;

    if (k === 0) {
      return 0;
    }

    if (k === 1) {
      return 1;
    }

    if (!a || a < 1) {
      a = 1;
      s = p / 4;
    } else {
      s = p * Math.asin(1 / a) / (2 * Math.PI);
    }

    k *= 2;

    if (k < 1) {
      return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));
    }

    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;
  }

  function backIn(k) {
    var s = 1.70158;
    return k * k * ((s + 1) * k - s);
  }

  function backOut(k) {
    var s = 1.70158;
    return --k * k * ((s + 1) * k + s) + 1;
  }

  function backInOut(k) {
    var s = 1.70158 * 1.525;
    k *= 2;

    if (k < 1) {
      return 0.5 * (k * k * ((s + 1) * k - s));
    }

    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);
  }

  function bounceIn(k) {
    return 1 - bounceOut(1 - k);
  }

  function bounceOut(k) {
    if (k < 1 / 2.75) {
      return 7.5625 * k * k;
    } else if (k < 2 / 2.75) {
      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;
    } else if (k < 2.5 / 2.75) {
      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;
    } else {
      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;
    }
  }

  function bounceInOut(k) {
    if (k < 0.5) {
      return bounceIn(k * 2) * 0.5;
    }

    return bounceOut(k * 2 - 1) * 0.5 + 0.5;
  }

  function smooth(k) {
    if (k <= 0) {
      return 0;
    }

    if (k >= 1) {
      return 1;
    }

    return k * k * (3 - 2 * k);
  }

  function fade(k) {
    if (k <= 0) {
      return 0;
    }

    if (k >= 1) {
      return 1;
    }

    return k * k * k * (k * (k * 6 - 15) + 10);
  }

  var quadOutIn = _makeOutIn(quadIn, quadOut);

  _exports.quadOutIn = quadOutIn;

  var cubicOutIn = _makeOutIn(cubicIn, cubicOut);

  _exports.cubicOutIn = cubicOutIn;

  var quartOutIn = _makeOutIn(quartIn, quartOut);

  _exports.quartOutIn = quartOutIn;

  var quintOutIn = _makeOutIn(quintIn, quintOut);

  _exports.quintOutIn = quintOutIn;

  var sineOutIn = _makeOutIn(sineIn, sineOut);

  _exports.sineOutIn = sineOutIn;

  var expoOutIn = _makeOutIn(expoIn, expoOut);

  _exports.expoOutIn = expoOutIn;

  var circOutIn = _makeOutIn(circIn, circOut);

  _exports.circOutIn = circOutIn;

  var elasticOutIn = _makeOutIn(elasticIn, elasticOut);

  _exports.elasticOutIn = elasticOutIn;

  var backOutIn = _makeOutIn(backIn, backOut);

  _exports.backOutIn = backOutIn;

  var bounceOutIn = _makeOutIn(bounceIn, bounceOut);

  _exports.bounceOutIn = bounceOutIn;

  function _makeOutIn(fnIn, fnOut) {
    return function (k) {
      if (k < 0.5) {
        return fnOut(k * 2) / 2;
      }

      return fnIn(2 * k - 1) / 2 + 0.5;
    };
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvY29yZS9hbmltYXRpb24vZWFzaW5nLnRzIl0sIm5hbWVzIjpbImNvbnN0YW50IiwibGluZWFyIiwiayIsInF1YWRJbiIsInF1YWRPdXQiLCJxdWFkSW5PdXQiLCJjdWJpY0luIiwiY3ViaWNPdXQiLCJjdWJpY0luT3V0IiwicXVhcnRJbiIsInF1YXJ0T3V0IiwicXVhcnRJbk91dCIsInF1aW50SW4iLCJxdWludE91dCIsInF1aW50SW5PdXQiLCJzaW5lSW4iLCJNYXRoIiwiY29zIiwiUEkiLCJzaW5lT3V0Iiwic2luIiwic2luZUluT3V0IiwiZXhwb0luIiwicG93IiwiZXhwb091dCIsImV4cG9Jbk91dCIsImNpcmNJbiIsInNxcnQiLCJjaXJjT3V0IiwiY2lyY0luT3V0IiwiZWxhc3RpY0luIiwicyIsImEiLCJwIiwiYXNpbiIsImVsYXN0aWNPdXQiLCJlbGFzdGljSW5PdXQiLCJiYWNrSW4iLCJiYWNrT3V0IiwiYmFja0luT3V0IiwiYm91bmNlSW4iLCJib3VuY2VPdXQiLCJib3VuY2VJbk91dCIsInNtb290aCIsImZhZGUiLCJxdWFkT3V0SW4iLCJfbWFrZU91dEluIiwiY3ViaWNPdXRJbiIsInF1YXJ0T3V0SW4iLCJxdWludE91dEluIiwic2luZU91dEluIiwiZXhwb091dEluIiwiY2lyY091dEluIiwiZWxhc3RpY091dEluIiwiYmFja091dEluIiwiYm91bmNlT3V0SW4iLCJmbkluIiwiZm5PdXQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNBOzs7QUFJTyxXQUFTQSxRQUFULEdBQXFCO0FBQ3hCLFdBQU8sQ0FBUDtBQUNIOztBQUVNLFdBQVNDLE1BQVQsQ0FBaUJDLENBQWpCLEVBQTRCO0FBQy9CLFdBQU9BLENBQVA7QUFDSDs7QUFFTSxXQUFT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dUQsS0FBSyxDQUFDdkQsQ0FBQyxHQUFHLENBQUwsQ0FBTCxHQUFlLENBQXRCO0FBQ0g7O0FBQ0QsYUFBT3NELElBQUksQ0FBQyxJQUFJdEQsQ0FBSixHQUFRLENBQVQsQ0FBSixHQUFrQixDQUFsQixHQUFzQixHQUE3QjtBQUNILEtBTEQ7QUFNSCIsInNvdXJjZXNDb250ZW50IjpbIlxyXG4vKipcclxuICogQGNhdGVnb3J5IGFuaW1hdGlvblxyXG4gKi9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25zdGFudCAoKSB7XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhciAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gaztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1YWRJbiAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gayAqIGs7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWFkT3V0IChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBrICogKDIgLSBrKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1YWRJbk91dCAoazogbnVtYmVyKSB7XHJcbiAgICBrICo9IDI7XHJcbiAgICBpZiAoayA8IDEpIHtcclxuICAgICAgICByZXR1cm4gMC41ICogayAqIGs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTAuNSAqICgtLWsgKiAoayAtIDIpIC0gMSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjdWJpY0luIChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBrICogayAqIGs7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjdWJpY091dCAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gLS1rICogayAqIGsgKyAxO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY3ViaWNJbk91dCAoazogbnVtYmVyKSB7XHJcbiAgICBrICo9IDI7XHJcbiAgICBpZiAoayA8IDEpIHtcclxuICAgICAgICByZXR1cm4gMC41ICogayAqIGsgKiBrO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDAuNSAqICgoayAtPSAyKSAqIGsgKiBrICsgMik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWFydEluIChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBrICogayAqIGsgKiBrO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcXVhcnRPdXQgKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIDEgLSAoLS1rICogayAqIGsgKiBrKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHF1YXJ0SW5PdXQgKGs6IG51bWJlcikge1xyXG4gICAgayAqPSAyO1xyXG4gICAgaWYgKGsgPCAxKSB7XHJcbiAgICAgICAgcmV0dXJuIDAuNSAqIGsgKiBrICogayAqIGs7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTAuNSAqICgoayAtPSAyKSAqIGsgKiBrICogayAtIDIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcXVpbnRJbiAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gayAqIGsgKiBrICogayAqIGs7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWludE91dCAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gLS1rICogayAqIGsgKiBrICogayArIDE7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBxdWludEluT3V0IChrOiBudW1iZXIpIHtcclxuICAgIGsgKj0gMjtcclxuICAgIGlmIChrIDwgMSkge1xyXG4gICAgICAgIHJldHVybiAwLjUgKiBrICogayAqIGsgKiBrICogaztcclxuICAgIH1cclxuICAgIHJldHVybiAwLjUgKiAoKGsgLT0gMikgKiBrICogayAqIGsgKiBrICsgMik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzaW5lSW4gKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIDEgLSBNYXRoLmNvcyhrICogTWF0aC5QSSAvIDIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2luZU91dCAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gTWF0aC5zaW4oayAqIE1hdGguUEkgLyAyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNpbmVJbk91dCAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gMC41ICogKDEgLSBNYXRoLmNvcyhNYXRoLlBJICogaykpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhwb0luIChrOiBudW1iZXIpIHtcclxuICAgIHJldHVybiBrID09PSAwID8gMCA6IE1hdGgucG93KDEwMjQsIGsgLSAxKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGV4cG9PdXQgKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGsgPT09IDEgPyAxIDogMSAtIE1hdGgucG93KDIsIC0xMCAqIGspO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZXhwb0luT3V0IChrOiBudW1iZXIpIHtcclxuICAgIGlmIChrID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAoayA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgayAqPSAyO1xyXG4gICAgaWYgKGsgPCAxKSB7XHJcbiAgICAgICAgcmV0dXJuIDAuNSAqIE1hdGgucG93KDEwMjQsIGsgLSAxKTtcclxuICAgIH1cclxuICAgIHJldHVybiAwLjUgKiAoLU1hdGgucG93KDIsIC0xMCAqIChrIC0gMSkpICsgMik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjaXJjSW4gKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIDEgLSBNYXRoLnNxcnQoMSAtIGsgKiBrKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNPdXQgKGs6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIE1hdGguc3FydCgxIC0gKC0tayAqIGspKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNpcmNJbk91dCAoazogbnVtYmVyKSB7XHJcbiAgICBrICo9IDI7XHJcbiAgICBpZiAoayA8IDEpIHtcclxuICAgICAgICByZXR1cm4gLTAuNSAqIChNYXRoLnNxcnQoMSAtIGsgKiBrKSAtIDEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIDAuNSAqIChNYXRoLnNxcnQoMSAtIChrIC09IDIpICogaykgKyAxKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGVsYXN0aWNJbiAoazogbnVtYmVyKSB7XHJcbiAgICBsZXQgcztcclxuICAgIGxldCBhID0gMC4xO1xyXG4gICAgY29uc3QgcCA9IDAuNDtcclxuICAgIGlmIChrID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAoayA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhIHx8IGEgPCAxKSB7XHJcbiAgICAgICAgYSA9IDE7XHJcbiAgICAgICAgcyA9IHAgLyA0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcyA9IHAgKiBNYXRoLmFzaW4oMSAvIGEpIC8gKDIgKiBNYXRoLlBJKTtcclxuICAgIH1cclxuICAgIHJldHVybiAtKGEgKiBNYXRoLnBvdygyLCAxMCAqIChrIC09IDEpKSAqIE1hdGguc2luKChrIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWxhc3RpY091dCAoazogbnVtYmVyKSB7XHJcbiAgICBsZXQgcztcclxuICAgIGxldCBhID0gMC4xO1xyXG4gICAgY29uc3QgcCA9IDAuNDtcclxuICAgIGlmIChrID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAoayA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiAxO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhIHx8IGEgPCAxKSB7XHJcbiAgICAgICAgYSA9IDE7XHJcbiAgICAgICAgcyA9IHAgLyA0O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcyA9IHAgKiBNYXRoLmFzaW4oMSAvIGEpIC8gKDIgKiBNYXRoLlBJKTtcclxuICAgIH1cclxuICAgIHJldHVybiAoYSAqIE1hdGgucG93KDIsIC0xMCAqIGspICogTWF0aC5zaW4oKGsgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIDEpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZWxhc3RpY0luT3V0IChrOiBudW1iZXIpIHtcclxuICAgIGxldCBzO1xyXG4gICAgbGV0IGEgPSAwLjE7XHJcbiAgICBjb25zdCBwID0gMC40O1xyXG4gICAgaWYgKGsgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIGlmIChrID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICBpZiAoIWEgfHwgYSA8IDEpIHtcclxuICAgICAgICBhID0gMTtcclxuICAgICAgICBzID0gcCAvIDQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBzID0gcCAqIE1hdGguYXNpbigxIC8gYSkgLyAoMiAqIE1hdGguUEkpO1xyXG4gICAgfVxyXG4gICAgayAqPSAyO1xyXG4gICAgaWYgKGsgPCAxKSB7XHJcbiAgICAgICAgcmV0dXJuIC0wLjUgKlxyXG4gICAgICAgICAgICAoYSAqIE1hdGgucG93KDIsIDEwICogKGsgLT0gMSkpICogTWF0aC5zaW4oKGsgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIChrIC09IDEpKSAqIE1hdGguc2luKChrIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAwLjUgKyAxO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYmFja0luIChrOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHMgPSAxLjcwMTU4O1xyXG4gICAgcmV0dXJuIGsgKiBrICogKChzICsgMSkgKiBrIC0gcyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiYWNrT3V0IChrOiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHMgPSAxLjcwMTU4O1xyXG4gICAgcmV0dXJuIC0tayAqIGsgKiAoKHMgKyAxKSAqIGsgKyBzKSArIDE7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBiYWNrSW5PdXQgKGs6IG51bWJlcikge1xyXG4gICAgY29uc3QgcyA9IDEuNzAxNTggKiAxLjUyNTtcclxuICAgIGsgKj0gMjtcclxuICAgIGlmIChrIDwgMSkge1xyXG4gICAgICAgIHJldHVybiAwLjUgKiAoayAqIGsgKiAoKHMgKyAxKSAqIGsgLSBzKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMC41ICogKChrIC09IDIpICogayAqICgocyArIDEpICogayArIHMpICsgMik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBib3VuY2VJbiAoazogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gMSAtIGJvdW5jZU91dCgxIC0gayk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBib3VuY2VPdXQgKGs6IG51bWJlcikge1xyXG4gICAgaWYgKGsgPCAoMSAvIDIuNzUpKSB7XHJcbiAgICAgICAgcmV0dXJuIDcuNTYyNSAqIGsgKiBrO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoayA8ICgyIC8gMi43NSkpIHtcclxuICAgICAgICByZXR1cm4gNy41NjI1ICogKGsgLT0gKDEuNSAvIDIuNzUpKSAqIGsgKyAwLjc1O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoayA8ICgyLjUgLyAyLjc1KSkge1xyXG4gICAgICAgIHJldHVybiA3LjU2MjUgKiAoayAtPSAoMi4yNSAvIDIuNzUpKSAqIGsgKyAwLjkzNzU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gNy41NjI1ICogKGsgLT0gKDIuNjI1IC8gMi43NSkpICogayArIDAuOTg0Mzc1O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYm91bmNlSW5PdXQgKGs6IG51bWJlcikge1xyXG4gICAgaWYgKGsgPCAwLjUpIHtcclxuICAgICAgICByZXR1cm4gYm91bmNlSW4oayAqIDIpICogMC41O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJvdW5jZU91dChrICogMiAtIDEpICogMC41ICsgMC41O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc21vb3RoIChrOiBudW1iZXIpIHtcclxuICAgIGlmIChrIDw9IDApIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuICAgIGlmIChrID49IDEpIHtcclxuICAgICAgICByZXR1cm4gMTtcclxuICAgIH1cclxuICAgIHJldHVybiBrICogayAqICgzIC0gMiAqIGspO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmFkZSAoazogbnVtYmVyKSB7XHJcbiAgICBpZiAoayA8PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcbiAgICBpZiAoayA+PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gayAqIGsgKiBrICogKGsgKiAoayAqIDYgLSAxNSkgKyAxMCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBxdWFkT3V0SW4gPSBfbWFrZU91dEluKHF1YWRJbiwgcXVhZE91dCk7XHJcbmV4cG9ydCBjb25zdCBjdWJpY091dEluID0gX21ha2VPdXRJbihjdWJpY0luLCBjdWJpY091dCk7XHJcbmV4cG9ydCBjb25zdCBxdWFydE91dEluID0gX21ha2VPdXRJbihxdWFydEluLCBxdWFydE91dCk7XHJcbmV4cG9ydCBjb25zdCBxdWludE91dEluID0gX21ha2VPdXRJbihxdWludEluLCBxdWludE91dCk7XHJcbmV4cG9ydCBjb25zdCBzaW5lT3V0SW4gPSBfbWFrZU91dEluKHNpbmVJbiwgc2luZU91dCk7XHJcbmV4cG9ydCBjb25zdCBleHBvT3V0SW4gPSBfbWFrZU91dEluKGV4cG9JbiwgZXhwb091dCk7XHJcbmV4cG9ydCBjb25zdCBjaXJjT3V0SW4gPSBfbWFrZU91dEluKGNpcmNJbiwgY2lyY091dCk7XHJcbmV4cG9ydCBjb25zdCBlbGFzdGljT3V0SW4gPSBfbWFrZU91dEluKGVsYXN0aWNJbiwgZWxhc3RpY091dCk7XHJcbmV4cG9ydCBjb25zdCBiYWNrT3V0SW4gPSBfbWFrZU91dEluKGJhY2tJbiwgYmFja091dCk7XHJcbmV4cG9ydCBjb25zdCBib3VuY2VPdXRJbiA9IF9tYWtlT3V0SW4oYm91bmNlSW4sIGJvdW5jZU91dCk7XHJcblxyXG5mdW5jdGlvbiBfbWFrZU91dEluIChmbkluOiAoazogbnVtYmVyKSA9PiBudW1iZXIsIGZuT3V0OiAoazogbnVtYmVyKSA9PiBudW1iZXIpIHtcclxuICAgIHJldHVybiAoazogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKGsgPCAwLjUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuT3V0KGsgKiAyKSAvIDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmbkluKDIgKiBrIC0gMSkgLyAyICsgMC41O1xyXG4gICAgfTtcclxufVxyXG4iXX0=