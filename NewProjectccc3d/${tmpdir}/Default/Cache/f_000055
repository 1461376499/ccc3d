(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../../core/data/class-decorator.js", "../../../core/math/index.js", "../../../core/index.js", "../instance.js", "../../../core/default-constants.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../../core/data/class-decorator.js"), require("../../../core/math/index.js"), require("../../../core/index.js"), require("../instance.js"), require("../../../core/default-constants.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.classDecorator, global.index, global.index, global.instance, global.defaultConstants);
    global.rigidBodyComponent = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _classDecorator, _index, _index2, _instance, _defaultConstants) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.RigidBodyComponent = void 0;

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _temp;

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  /**
   * @en
   * Rigid body component.
   * @zh
   * 刚体组件。
   */
  var RigidBodyComponent = (_dec = (0, _classDecorator.ccclass)('cc.RigidBodyComponent'), _dec2 = (0, _classDecorator.help)('i18n:cc.RigidBodyComponent'), _dec3 = (0, _classDecorator.executionOrder)(99), _dec4 = (0, _classDecorator.menu)('Physics/RigidBody'), _dec5 = (0, _classDecorator.property)({
    displayOrder: 0,
    tooltip: '刚体的质量'
  }), _dec6 = (0, _classDecorator.property)({
    displayOrder: 1,
    tooltip: '线性阻尼'
  }), _dec7 = (0, _classDecorator.property)({
    displayOrder: 2,
    tooltip: '旋转阻尼'
  }), _dec8 = (0, _classDecorator.property)({
    displayOrder: 3,
    tooltip: '刚体是否由物理系统控制运动'
  }), _dec9 = (0, _classDecorator.property)({
    displayOrder: 4,
    tooltip: '刚体是否使用重力'
  }), _dec10 = (0, _classDecorator.property)({
    displayOrder: 5,
    tooltip: '刚体是否固定旋转'
  }), _dec11 = (0, _classDecorator.property)({
    displayOrder: 6,
    tooltip: '线性速度的因子，可以用来控制每个轴方向上的速度的缩放'
  }), _dec12 = (0, _classDecorator.property)({
    displayOrder: 7,
    tooltip: '旋转速度的因子，可以用来控制每个轴方向上的旋转速度的缩放'
  }), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = (0, _classDecorator.executeInEditMode)(_class = (0, _classDecorator.disallowMultiple)(_class = (_class2 = (_temp = /*#__PURE__*/function (_Component) {
    _inherits(RigidBodyComponent, _Component);

    _createClass(RigidBodyComponent, [{
      key: "allowSleep",
      /// PUBLIC PROPERTY GETTER\SETTER ///

      /**
       * @en
       * Gets or sets whether hibernation is allowed.
       * @zh
       * 获取或设置是否允许休眠。
       */
      // @property({
      //     displayOrder: -1,
      // })
      get: function get() {
        return this._allowSleep;
      },
      set: function set(v) {
        this._allowSleep = v;

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.setAllowSleep(v);
        }
      }
      /**
       * @en
       * Gets or sets the mass of the rigid body.
       * @zh
       * 获取或设置刚体的质量。
       */

    }, {
      key: "mass",
      get: function get() {
        return this._mass;
      },
      set: function set(value) {
        this._mass = value;

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.setMass(value);
        }
      }
      /**
       * @en
       * Gets or sets linear damping.
       * @zh
       * 获取或设置线性阻尼。
       */

    }, {
      key: "linearDamping",
      get: function get() {
        return this._linearDamping;
      },
      set: function set(value) {
        this._linearDamping = value;

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.setLinearDamping(value);
        }
      }
      /**
       * @en
       * Gets or sets the rotation damping.
       * @zh
       * 获取或设置旋转阻尼。
       */

    }, {
      key: "angularDamping",
      get: function get() {
        return this._angularDamping;
      },
      set: function set(value) {
        this._angularDamping = value;

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.setAngularDamping(value);
        }
      }
      /**
       * @en
       * Gets or sets whether a rigid body is controlled by a physical system.
       * @zh
       * 获取或设置刚体是否由物理系统控制运动。
       */

    }, {
      key: "isKinematic",
      get: function get() {
        return this._isKinematic;
      },
      set: function set(value) {
        this._isKinematic = value;

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.setIsKinematic(value);
        }
      }
      /**
       * @en
       * Gets or sets whether a rigid body uses gravity.
       * @zh
       * 获取或设置刚体是否使用重力。
       */

    }, {
      key: "useGravity",
      get: function get() {
        return this._useGravity;
      },
      set: function set(value) {
        this._useGravity = value;

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.useGravity(value);
        }
      }
      /**
       * @en
       * Gets or sets whether the rigid body is fixed for rotation.
       * @zh
       * 获取或设置刚体是否固定旋转。
       */

    }, {
      key: "fixedRotation",
      get: function get() {
        return this._fixedRotation;
      },
      set: function set(value) {
        this._fixedRotation = value;

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.fixRotation(value);
        }
      }
      /**
       * @en
       * Gets or sets the linear velocity factor that can be used to control the scaling of the velocity in each axis direction.
       * @zh
       * 获取或设置线性速度的因子，可以用来控制每个轴方向上的速度的缩放。
       */

    }, {
      key: "linearFactor",
      get: function get() {
        return this._linearFactor;
      },
      set: function set(value) {
        _index.Vec3.copy(this._linearFactor, value);

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.setLinearFactor(this._linearFactor);
        }
      }
      /**
       * @en
       * Gets or sets the rotation speed factor that can be used to control the scaling of the rotation speed in each axis direction.
       * @zh
       * 获取或设置旋转速度的因子，可以用来控制每个轴方向上的旋转速度的缩放。
       */

    }, {
      key: "angularFactor",
      get: function get() {
        return this._angularFactor;
      },
      set: function set(value) {
        _index.Vec3.copy(this._angularFactor, value);

        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.setAngularFactor(this._angularFactor);
        }
      }
      /**
       * @en
       * Gets whether it is the state of awake.
       * @zh
       * 获取是否是唤醒的状态。
       */

    }, {
      key: "isAwake",
      get: function get() {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          return this._body.isAwake;
        }

        return false;
      }
      /**
       * @en
       * Gets whether you can enter a dormant state.
       * @zh
       * 获取是否是可进入休眠的状态。
       */

    }, {
      key: "isSleepy",
      get: function get() {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          return this._body.isSleepy;
        }

        return false;
      }
      /**
       * @en
       * Gets whether the state is dormant.
       * @zh
       * 获取是否是正在休眠的状态。
       */

    }, {
      key: "isSleeping",
      get: function get() {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          return this._body.isSleeping;
        }

        return false;
      }
      /**
       * @en
       * Gets the wrapper object, through which the lowLevel instance can be accessed.
       * @zh
       * 获取封装对象，通过此对象可以访问到底层实例。
       */

    }, {
      key: "body",
      get: function get() {
        return this._body;
      }
    }, {
      key: "_assertOnload",
      get: function get() {
        var r = this._isOnLoadCalled == 0;

        if (r) {
          (0, _index2.error)('[Physics]: Please make sure that the node has been added to the scene');
        }

        return !r;
      }
    }]);

    function RigidBodyComponent() {
      var _this;

      _classCallCheck(this, RigidBodyComponent);

      _this = _possibleConstructorReturn(this, _getPrototypeOf(RigidBodyComponent).call(this));
      _this._allowSleep = true;

      _initializerDefineProperty(_this, "_mass", _descriptor, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_linearDamping", _descriptor2, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_angularDamping", _descriptor3, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_fixedRotation", _descriptor4, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_isKinematic", _descriptor5, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_useGravity", _descriptor6, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_linearFactor", _descriptor7, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_angularFactor", _descriptor8, _assertThisInitialized(_this));

      if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
        _this._body = (0, _instance.createRigidBody)();
      }

      return _this;
    } /// COMPONENT LIFECYCLE ///


    _createClass(RigidBodyComponent, [{
      key: "__preload",
      value: function __preload() {
        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.initialize(this);
        }
      }
    }, {
      key: "onEnable",
      value: function onEnable() {
        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.onEnable();
        }
      }
    }, {
      key: "onDisable",
      value: function onDisable() {
        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.onDisable();
        }
      }
    }, {
      key: "onDestroy",
      value: function onDestroy() {
        if (!_defaultConstants.EDITOR && !_defaultConstants.PHYSICS_BUILTIN) {
          this._body.onDestroy();
        }
      } /// PUBLIC METHOD ///

      /**
       * @en
       * Apply force to a world point. This could, for example, be a point on the Body surface.
       * @zh
       * 在世界空间中，相对于刚体的质心的某点上对刚体施加作用力。
       * @param force - 作用力
       * @param relativePoint - 作用点，相对于刚体的质心
       */

    }, {
      key: "applyForce",
      value: function applyForce(force, relativePoint) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.applyForce(force, relativePoint);
        }
      }
      /**
       * @en
       * Apply force to a local point. This could, for example, be a point on the Body surface.
       * @zh
       * 在本地空间中，相对于刚体的质心的某点上对刚体施加作用力。
       * @param force - 作用力
       * @param localPoint - 作用点
       */

    }, {
      key: "applyLocalForce",
      value: function applyLocalForce(force, localPoint) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.applyLocalForce(force, localPoint);
        }
      }
      /**
       * @en
       * In world space, impulse is applied to the rigid body at some point relative to the center of mass of the rigid body.
       * @zh
       * 在世界空间中，相对于刚体的质心的某点上对刚体施加冲量。
       * @param impulse - 冲量
       * @param relativePoint - 作用点，相对于刚体的中心点
       */

    }, {
      key: "applyImpulse",
      value: function applyImpulse(impulse, relativePoint) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.applyImpulse(impulse, relativePoint);
        }
      }
      /**
       * @en
       * In local space, impulse is applied to the rigid body at some point relative to the center of mass of the rigid body.
       * @zh
       * 在本地空间中，相对于刚体的质心的某点上对刚体施加冲量。
       * @param impulse - 冲量
       * @param localPoint - 作用点
       */

    }, {
      key: "applyLocalImpulse",
      value: function applyLocalImpulse(impulse, localPoint) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.applyLocalImpulse(impulse, localPoint);
        }
      }
      /**
       * @en
       * In world space, torque is applied to the rigid body.
       * @zh
       * 在世界空间中，对刚体施加扭矩。
       * @param torque - 扭矩
       */

    }, {
      key: "applyTorque",
      value: function applyTorque(torque) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.applyTorque(torque);
        }
      }
      /**
       * @zh
       * 在本地空间中，对刚体施加扭矩。
       * @param torque - 扭矩
       */

    }, {
      key: "applyLocalTorque",
      value: function applyLocalTorque(torque) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.applyLocalTorque(torque);
        }
      }
      /**
       * @en
       * Wake up the rigid body.
       * @zh
       * 唤醒刚体。
       */

    }, {
      key: "wakeUp",
      value: function wakeUp() {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.wakeUp();
        }
      }
      /**
       * @en
       * Dormancy of rigid body.
       * @zh
       * 休眠刚体。
       */

    }, {
      key: "sleep",
      value: function sleep() {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.sleep();
        }
      }
      /**
       * @en
       * Gets the linear velocity.
       * @zh
       * 获取线性速度。
       * @param out 速度 Vec3
       */

    }, {
      key: "getLinearVelocity",
      value: function getLinearVelocity(out) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.getLinearVelocity(out);
        }
      }
      /**
       * @en
       * Sets the linear velocity.
       * @zh
       * 设置线性速度。
       * @param value 速度 Vec3
       */

    }, {
      key: "setLinearVelocity",
      value: function setLinearVelocity(value) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.setLinearVelocity(value);
        }
      }
      /**
       * @en
       * Gets the angular velocity.
       * @zh
       * 获取旋转速度。
       * @param out 速度 Vec3
       */

    }, {
      key: "getAngularVelocity",
      value: function getAngularVelocity(out) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.getAngularVelocity(out);
        }
      }
      /**
       * @en
       * Sets the angular velocity.
       * @zh
       * 设置旋转速度。
       * @param value 速度 Vec3
       */

    }, {
      key: "setAngularVelocity",
      value: function setAngularVelocity(value) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.setAngularVelocity(value);
        }
      } /// GROUP MASK ///

      /**
       * @en
       * Sets the group value.
       * @zh
       * 设置分组值。
       * @param v - 整数，范围为 2 的 0 次方 到 2 的 31 次方
       */

    }, {
      key: "setGroup",
      value: function setGroup(v) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.setGroup(v);
        }
      }
      /**
       * @en
       * Gets the group value.
       * @zh
       * 获取分组值。
       * @returns 整数，范围为 2 的 0 次方 到 2 的 31 次方
       */

    }, {
      key: "getGroup",
      value: function getGroup() {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          return this._body.getGroup();
        }

        return 0;
      }
      /**
       * @en
       * Add a grouping value to fill in the group you want to join.
       * @zh
       * 添加分组值，可填要加入的 group。
       * @param v - 整数，范围为 2 的 0 次方 到 2 的 31 次方
       */

    }, {
      key: "addGroup",
      value: function addGroup(v) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.addGroup(v);
        }
      }
      /**
       * @en
       * Subtract the grouping value to fill in the group to be removed.
       * @zh
       * 减去分组值，可填要移除的 group。
       * @param v - 整数，范围为 2 的 0 次方 到 2 的 31 次方
       */

    }, {
      key: "removeGroup",
      value: function removeGroup(v) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.removeGroup(v);
        }
      }
      /**
       * @en
       * Gets the mask value.
       * @zh
       * 获取掩码值。
       * @returns 整数，范围为 2 的 0 次方 到 2 的 31 次方
       */

    }, {
      key: "getMask",
      value: function getMask() {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          return this._body.getMask();
        }

        return 0;
      }
      /**
       * @en
       * Sets the mask value.
       * @zh
       * 设置掩码值。
       * @param v - 整数，范围为 2 的 0 次方 到 2 的 31 次方
       */

    }, {
      key: "setMask",
      value: function setMask(v) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.setMask(v);
        }
      }
      /**
       * @en
       * Add mask values to fill in groups that need to be checked.
       * @zh
       * 添加掩码值，可填入需要检查的 group。
       * @param v - 整数，范围为 2 的 0 次方 到 2 的 31 次方
       */

    }, {
      key: "addMask",
      value: function addMask(v) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.addMask(v);
        }
      }
      /**
       * @en
       * Subtract the mask value to fill in the group that does not need to be checked.
       * @zh
       * 减去掩码值，可填入不需要检查的 group。
       * @param v - 整数，范围为 2 的 0 次方 到 2 的 31 次方
       */

    }, {
      key: "removeMask",
      value: function removeMask(v) {
        if (!_defaultConstants.PHYSICS_BUILTIN && this._assertOnload) {
          this._body.removeMask(v);
        }
      }
    }]);

    return RigidBodyComponent;
  }(_index2.Component), _temp), (_applyDecoratedDescriptor(_class2.prototype, "mass", [_dec5], Object.getOwnPropertyDescriptor(_class2.prototype, "mass"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "linearDamping", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, "linearDamping"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "angularDamping", [_dec7], Object.getOwnPropertyDescriptor(_class2.prototype, "angularDamping"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isKinematic", [_dec8], Object.getOwnPropertyDescriptor(_class2.prototype, "isKinematic"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "useGravity", [_dec9], Object.getOwnPropertyDescriptor(_class2.prototype, "useGravity"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "fixedRotation", [_dec10], Object.getOwnPropertyDescriptor(_class2.prototype, "fixedRotation"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "linearFactor", [_dec11], Object.getOwnPropertyDescriptor(_class2.prototype, "linearFactor"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "angularFactor", [_dec12], Object.getOwnPropertyDescriptor(_class2.prototype, "angularFactor"), _class2.prototype), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "_mass", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 1;
    }
  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_linearDamping", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0.1;
    }
  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_angularDamping", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0.1;
    }
  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "_fixedRotation", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return false;
    }
  }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "_isKinematic", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return false;
    }
  }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "_useGravity", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "_linearFactor", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return new _index.Vec3(1, 1, 1);
    }
  }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "_angularFactor", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return new _index.Vec3(1, 1, 1);
    }
  })), _class2)) || _class) || _class) || _class) || _class) || _class) || _class);
  _exports.RigidBodyComponent = RigidBodyComponent;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvcGh5c2ljcy9mcmFtZXdvcmsvY29tcG9uZW50cy9yaWdpZC1ib2R5LWNvbXBvbmVudC50cyJdLCJuYW1lcyI6WyJSaWdpZEJvZHlDb21wb25lbnQiLCJkaXNwbGF5T3JkZXIiLCJ0b29sdGlwIiwiZXhlY3V0ZUluRWRpdE1vZGUiLCJkaXNhbGxvd011bHRpcGxlIiwiX2FsbG93U2xlZXAiLCJ2IiwiRURJVE9SIiwiUEhZU0lDU19CVUlMVElOIiwiX2JvZHkiLCJzZXRBbGxvd1NsZWVwIiwiX21hc3MiLCJ2YWx1ZSIsInNldE1hc3MiLCJfbGluZWFyRGFtcGluZyIsInNldExpbmVhckRhbXBpbmciLCJfYW5ndWxhckRhbXBpbmciLCJzZXRBbmd1bGFyRGFtcGluZyIsIl9pc0tpbmVtYXRpYyIsInNldElzS2luZW1hdGljIiwiX3VzZUdyYXZpdHkiLCJ1c2VHcmF2aXR5IiwiX2ZpeGVkUm90YXRpb24iLCJmaXhSb3RhdGlvbiIsIl9saW5lYXJGYWN0b3IiLCJWZWMzIiwiY29weSIsInNldExpbmVhckZhY3RvciIsIl9hbmd1bGFyRmFjdG9yIiwic2V0QW5ndWxhckZhY3RvciIsIl9hc3NlcnRPbmxvYWQiLCJpc0F3YWtlIiwiaXNTbGVlcHkiLCJpc1NsZWVwaW5nIiwiciIsIl9pc09uTG9hZENhbGxlZCIsImluaXRpYWxpemUiLCJvbkVuYWJsZSIsIm9uRGlzYWJsZSIsIm9uRGVzdHJveSIsImZvcmNlIiwicmVsYXRpdmVQb2ludCIsImFwcGx5Rm9yY2UiLCJsb2NhbFBvaW50IiwiYXBwbHlMb2NhbEZvcmNlIiwiaW1wdWxzZSIsImFwcGx5SW1wdWxzZSIsImFwcGx5TG9jYWxJbXB1bHNlIiwidG9ycXVlIiwiYXBwbHlUb3JxdWUiLCJhcHBseUxvY2FsVG9ycXVlIiwid2FrZVVwIiwic2xlZXAiLCJvdXQiLCJnZXRMaW5lYXJWZWxvY2l0eSIsInNldExpbmVhclZlbG9jaXR5IiwiZ2V0QW5ndWxhclZlbG9jaXR5Iiwic2V0QW5ndWxhclZlbG9jaXR5Iiwic2V0R3JvdXAiLCJnZXRHcm91cCIsImFkZEdyb3VwIiwicmVtb3ZlR3JvdXAiLCJnZXRNYXNrIiwic2V0TWFzayIsImFkZE1hc2siLCJyZW1vdmVNYXNrIiwiQ29tcG9uZW50IiwicHJvcGVydHkiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFxQkE7Ozs7OztNQVlhQSxrQixXQU5aLDZCQUFRLHVCQUFSLEMsVUFDQSwwQkFBSyw0QkFBTCxDLFVBQ0Esb0NBQWUsRUFBZixDLFVBQ0EsMEJBQUssbUJBQUwsQyxVQWlDSSw4QkFBUztBQUNOQyxJQUFBQSxZQUFZLEVBQUUsQ0FEUjtBQUVOQyxJQUFBQSxPQUFPLEVBQUU7QUFGSCxHQUFULEMsVUFxQkEsOEJBQVM7QUFDTkQsSUFBQUEsWUFBWSxFQUFFLENBRFI7QUFFTkMsSUFBQUEsT0FBTyxFQUFFO0FBRkgsR0FBVCxDLFVBcUJBLDhCQUFTO0FBQ05ELElBQUFBLFlBQVksRUFBRSxDQURSO0FBRU5DLElBQUFBLE9BQU8sRUFBRTtBQUZILEdBQVQsQyxVQXFCQSw4QkFBUztBQUNORCxJQUFBQSxZQUFZLEVBQUUsQ0FEUjtBQUVOQyxJQUFBQSxPQUFPLEVBQUU7QUFGSCxHQUFULEMsVUFxQkEsOEJBQVM7QUFDTkQsSUFBQUEsWUFBWSxFQUFFLENBRFI7QUFFTkMsSUFBQUEsT0FBTyxFQUFFO0FBRkgsR0FBVCxDLFdBcUJBLDhCQUFTO0FBQ05ELElBQUFBLFlBQVksRUFBRSxDQURSO0FBRU5DLElBQUFBLE9BQU8sRUFBRTtBQUZILEdBQVQsQyxXQXFCQSw4QkFBUztBQUNORCxJQUFBQSxZQUFZLEVBQUUsQ0FEUjtBQUVOQyxJQUFBQSxPQUFPLEVBQUU7QUFGSCxHQUFULEMsV0FxQkEsOEJBQVM7QUFDTkQsSUFBQUEsWUFBWSxFQUFFLENBRFI7QUFFTkMsSUFBQUEsT0FBTyxF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QztBQUN4QyxlQUFLckIsS0FBTCxDQUFXc0QsT0FBWCxDQUFtQnpELENBQW5CO0FBQ0g7QUFDSjtBQUVEOzs7Ozs7Ozs7OzhCQU9nQkEsQyxFQUFXO0FBQ3ZCLFlBQUksQ0FBQ0UsaUNBQUQsSUFBb0IsS0FBS3NCLGFBQTdCLEVBQTRDO0FBQ3hDLGVBQUtyQixLQUFMLENBQVd1RCxPQUFYLENBQW1CMUQsQ0FBbkI7QUFDSDtBQUNKO0FBRUQ7Ozs7Ozs7Ozs7aUNBT21CQSxDLEVBQVc7QUFDMUIsWUFBSSxDQUFDRSxpQ0FBRCxJQUFvQixLQUFLc0IsYUFBN0IsRUFBNEM7QUFDeEMsZUFBS3JCLEtBQUwsQ0FBV3dELFVBQVgsQ0FBc0IzRCxDQUF0QjtBQUNIO0FBQ0o7Ozs7SUEvakJtQzRELGlCLHd6Q0F3UG5DQyx3Qjs7Ozs7YUFDdUIsQzs7cUZBRXZCQSx3Qjs7Ozs7YUFDZ0MsRzs7c0ZBRWhDQSx3Qjs7Ozs7YUFDaUMsRzs7cUZBRWpDQSx3Qjs7Ozs7YUFDaUMsSzs7bUZBRWpDQSx3Qjs7Ozs7YUFDK0IsSzs7a0ZBRS9CQSx3Qjs7Ozs7YUFDOEIsSTs7b0ZBRTlCQSx3Qjs7Ozs7YUFDNkIsSUFBSTFDLFdBQUosQ0FBUyxDQUFULEVBQVksQ0FBWixFQUFlLENBQWYsQzs7cUZBRTdCMEMsd0I7Ozs7O2FBQzhCLElBQUkxQyxXQUFKLENBQVMsQ0FBVCxFQUFZLENBQVosRUFBZSxDQUFmLEMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICog54mp55CG5qih5Z2XXHJcbiAqIEBjYXRlZ29yeSBwaHlzaWNzXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICAgIGNjY2xhc3MsXHJcbiAgICBoZWxwLFxyXG4gICAgZGlzYWxsb3dNdWx0aXBsZSxcclxuICAgIGV4ZWN1dGVJbkVkaXRNb2RlLFxyXG4gICAgZXhlY3V0aW9uT3JkZXIsXHJcbiAgICBtZW51LFxyXG4gICAgcHJvcGVydHksXHJcbn0gZnJvbSAnLi4vLi4vLi4vY29yZS9kYXRhL2NsYXNzLWRlY29yYXRvcic7XHJcbmltcG9ydCB7IFZlYzMgfSBmcm9tICcuLi8uLi8uLi9jb3JlL21hdGgnO1xyXG5pbXBvcnQgeyBDb21wb25lbnQsIGVycm9yIH0gZnJvbSAnLi4vLi4vLi4vY29yZSc7XHJcbmltcG9ydCB7IElSaWdpZEJvZHkgfSBmcm9tICcuLi8uLi9zcGVjL2ktcmlnaWQtYm9keSc7XHJcbmltcG9ydCB7IGNyZWF0ZVJpZ2lkQm9keSB9IGZyb20gJy4uL2luc3RhbmNlJztcclxuaW1wb3J0IHsgRURJVE9SLCBQSFlTSUNTX0JVSUxUSU4gfSBmcm9tICdpbnRlcm5hbDpjb25zdGFudHMnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAZW5cclxuICogUmlnaWQgYm9keSBjb21wb25lbnQuXHJcbiAqIEB6aFxyXG4gKiDliJrkvZPnu4Tku7bjgIJcclxuICovXHJcbkBjY2NsYXNzKCdjYy5SaWdpZEJvZHlDb21wb25lbnQnKVxyXG5AaGVscCgnaTE4bjpjYy5SaWdpZEJvZHlDb21wb25lbnQnKVxyXG5AZXhlY3V0aW9uT3JkZXIoOTkpXHJcbkBtZW51KCdQaHlzaWNzL1JpZ2lkQm9keScpXHJcbkBleGVjdXRlSW5FZGl0TW9kZVxyXG5AZGlzYWxsb3dNdWx0aXBsZVxyXG5leHBvcnQgY2xhc3MgUmlnaWRCb2R5Q29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHJcbiAgICAvLy8gUFVCTElDIFBST1BFUlRZIEdFVFRFUlxcU0VUVEVSIC8vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgd2hldGhlciBoaWJlcm5hdGlvbiBpcyBhbGxvd2VkLlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDojrflj5bmiJborr7nva7mmK/lkKblhYHorrjkvJHnnKDjgIJcclxuICAgICAqL1xyXG4gICAgLy8gQHByb3BlcnR5KHtcclxuICAgIC8vICAgICBkaXNwbGF5T3JkZXI6IC0xLFxyXG4gICAgLy8gfSlcclxuICAgIHB1YmxpYyBnZXQgYWxsb3dTbGVlcCAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbG93U2xlZXA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCBhbGxvd1NsZWVwICh2OiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fYWxsb3dTbGVlcCA9IHY7XHJcbiAgICAgICAgaWYgKCFFRElUT1IgJiYgIVBIWVNJQ1NfQlVJTFRJTikge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LnNldEFsbG93U2xlZXAodik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIG1hc3Mgb2YgdGhlIHJpZ2lkIGJvZHkuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPluaIluiuvue9ruWImuS9k+eahOi0qOmHj+OAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogMCxcclxuICAgICAgICB0b29sdGlwOiAn5Yia5L2T55qE6LSo6YePJyxcclxuICAgIH0pXHJcbiAgICBwdWJsaWMgZ2V0IG1hc3MgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXNzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgbWFzcyAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9tYXNzID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKCFFRElUT1IgJiYgIVBIWVNJQ1NfQlVJTFRJTikge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LnNldE1hc3ModmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogR2V0cyBvciBzZXRzIGxpbmVhciBkYW1waW5nLlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDojrflj5bmiJborr7nva7nur/mgKfpmLvlsLzjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBkaXNwbGF5T3JkZXI6IDEsXHJcbiAgICAgICAgdG9vbHRpcDogJ+e6v+aAp+mYu+WwvCcsXHJcbiAgICB9KVxyXG4gICAgcHVibGljIGdldCBsaW5lYXJEYW1waW5nICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbGluZWFyRGFtcGluZztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IGxpbmVhckRhbXBpbmcgKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fbGluZWFyRGFtcGluZyA9IHZhbHVlO1xyXG4gICAgICAgIGlmICghRURJVE9SICYmICFQSFlTSUNTX0JVSUxUSU4pIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keS5zZXRMaW5lYXJEYW1waW5nKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgcm90YXRpb24gZGFtcGluZy5cclxuICAgICAqIEB6aFxyXG4gICAgICog6I635Y+W5oiW6K6+572u5peL6L2s6Zi75bC844CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZGlzcGxheU9yZGVyOiAyLFxyXG4gICAgICAgIHRvb2x0aXA6ICfml4vovazpmLvlsLwnLFxyXG4gICAgfSlcclxuICAgIHB1YmxpYyBnZXQgYW5ndWxhckRhbXBpbmcgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hbmd1bGFyRGFtcGluZztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IGFuZ3VsYXJEYW1waW5nICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2FuZ3VsYXJEYW1waW5nID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKCFFRElUT1IgJiYgIVBIWVNJQ1NfQlVJTFRJTikge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LnNldEFuZ3VsYXJEYW1waW5nKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgb3Igc2V0cyB3aGV0aGVyIGEgcmlnaWQgYm9keSBpcyBjb250cm9sbGVkIGJ5IGEgcGh5c2ljYWwgc3lzdGVtLlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDojrflj5bmiJborr7nva7liJrkvZPmmK/lkKbnlLHniannkIbns7vnu5/mjqfliLbov5DliqjjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBkaXNwbGF5T3JkZXI6IDMsXHJcbiAgICAgICAgdG9vbHRpcDogJ+WImuS9k+aYr+WQpueUseeJqeeQhuezu+e7n+aOp+WItui/kOWKqCcsXHJcbiAgICB9KVxyXG4gICAgcHVibGljIGdldCBpc0tpbmVtYXRpYyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzS2luZW1hdGljO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgaXNLaW5lbWF0aWMgKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5faXNLaW5lbWF0aWMgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoIUVESVRPUiAmJiAhUEhZU0lDU19CVUlMVElOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuc2V0SXNLaW5lbWF0aWModmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogR2V0cyBvciBzZXRzIHdoZXRoZXIgYSByaWdpZCBib2R5IHVzZXMgZ3Jhdml0eS5cclxuICAgICAqIEB6aFxyXG4gICAgICog6I635Y+W5oiW6K6+572u5Yia5L2T5piv5ZCm5L2/55So6YeN5Yqb44CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgZGlzcGxheU9yZGVyOiA0LFxyXG4gICAgICAgIHRvb2x0aXA6ICfliJrkvZPmmK/lkKbkvb/nlKjph43lipsnLFxyXG4gICAgfSlcclxuICAgIHB1YmxpYyBnZXQgdXNlR3Jhdml0eSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZUdyYXZpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldCB1c2VHcmF2aXR5ICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3VzZUdyYXZpdHkgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoIUVESVRPUiAmJiAhUEhZU0lDU19CVUlMVElOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkudXNlR3Jhdml0eSh2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBHZXRzIG9yIHNldHMgd2hldGhlciB0aGUgcmlnaWQgYm9keSBpcyBmaXhlZCBmb3Igcm90YXRpb24uXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPluaIluiuvue9ruWImuS9k+aYr+WQpuWbuuWumuaXi+i9rOOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogNSxcclxuICAgICAgICB0b29sdGlwOiAn5Yia5L2T5piv5ZCm5Zu65a6a5peL6L2sJyxcclxuICAgIH0pXHJcbiAgICBwdWJsaWMgZ2V0IGZpeGVkUm90YXRpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9maXhlZFJvdGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXQgZml4ZWRSb3RhdGlvbiAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9maXhlZFJvdGF0aW9uID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKCFFRElUT1IgJiYgIVBIWVNJQ1NfQlVJTFRJTikge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LmZpeFJvdGF0aW9uKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgbGluZWFyIHZlbG9jaXR5IGZhY3RvciB0aGF0IGNhbiBiZSB1c2VkIHRvIGNvbnRyb2wgdGhlIHNjYWxpbmcgb2YgdGhlIHZlbG9jaXR5IGluIGVhY2ggYXhpcyBkaXJlY3Rpb24uXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPluaIluiuvue9rue6v+aAp+mAn+W6pueahOWboOWtkO+8jOWPr+S7peeUqOadpeaOp+WItuavj+S4qui9tOaWueWQkeS4iueahOmAn+W6pueahOe8qeaUvuOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIGRpc3BsYXlPcmRlcjogNixcclxuICAgICAgICB0b29sdGlwOiAn57q/5oCn6YCf5bqm55qE5Zug5a2Q77yM5Y+v5Lul55So5p2l5o6n5Yi25q+P5Liq6L205pa55ZCR5LiK55qE6YCf5bqm55qE57yp5pS+JyxcclxuICAgIH0pXHJcbiAgICBwdWJsaWMgZ2V0IGxpbmVhckZhY3RvciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVhckZhY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IGxpbmVhckZhY3RvciAodmFsdWU6IFZlYzMpIHtcclxuICAgICAgICBWZWMzLmNvcHkodGhpcy5fbGluZWFyRmFjdG9yLCB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFFRElUT1IgJiYgIVBIWVNJQ1NfQlVJTFRJTikge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LnNldExpbmVhckZhY3Rvcih0aGlzLl9saW5lYXJGYWN0b3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSByb3RhdGlvbiBzcGVlZCBmYWN0b3IgdGhhdCBjYW4gYmUgdXNlZCB0byBjb250cm9sIHRoZSBzY2FsaW5nIG9mIHRoZSByb3RhdGlvbiBzcGVlZCBpbiBlYWNoIGF4aXMgZGlyZWN0aW9uLlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDojrflj5bmiJborr7nva7ml4vovazpgJ/luqbnmoTlm6DlrZDvvIzlj6/ku6XnlKjmnaXmjqfliLbmr4/kuKrovbTmlrnlkJHkuIrnmoTml4vovazpgJ/luqbnmoTnvKnmlL7jgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBkaXNwbGF5T3JkZXI6IDcsXHJcbiAgICAgICAgdG9vbHRpcDogJ+aXi+i9rOmAn+W6pueahOWboOWtkO+8jOWPr+S7peeUqOadpeaOp+WItuavj+S4qui9tOaWueWQkeS4iueahOaXi+i9rOmAn+W6pueahOe8qeaUvicsXHJcbiAgICB9KVxyXG4gICAgcHVibGljIGdldCBhbmd1bGFyRmFjdG9yICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYW5ndWxhckZhY3RvcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0IGFuZ3VsYXJGYWN0b3IgKHZhbHVlOiBWZWMzKSB7XHJcbiAgICAgICAgVmVjMy5jb3B5KHRoaXMuX2FuZ3VsYXJGYWN0b3IsIHZhbHVlKTtcclxuICAgICAgICBpZiAoIUVESVRPUiAmJiAhUEhZU0lDU19CVUlMVElOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuc2V0QW5ndWxhckZhY3Rvcih0aGlzLl9hbmd1bGFyRmFjdG9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgd2hldGhlciBpdCBpcyB0aGUgc3RhdGUgb2YgYXdha2UuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPluaYr+WQpuaYr+WUpOmGkueahOeKtuaAgeOAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGlzQXdha2UgKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghUEhZU0lDU19CVUlMVElOICYmIHRoaXMuX2Fzc2VydE9ubG9hZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm9keS5pc0F3YWtlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgd2hldGhlciB5b3UgY2FuIGVudGVyIGEgZG9ybWFudCBzdGF0ZS5cclxuICAgICAqIEB6aFxyXG4gICAgICog6I635Y+W5piv5ZCm5piv5Y+v6L+b5YWl5LyR55yg55qE54q25oCB44CCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXQgaXNTbGVlcHkgKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghUEhZU0lDU19CVUlMVElOICYmIHRoaXMuX2Fzc2VydE9ubG9hZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm9keS5pc1NsZWVweTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBHZXRzIHdoZXRoZXIgdGhlIHN0YXRlIGlzIGRvcm1hbnQuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPluaYr+WQpuaYr+ato+WcqOS8keecoOeahOeKtuaAgeOAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGlzU2xlZXBpbmcgKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIGlmICghUEhZU0lDU19CVUlMVElOICYmIHRoaXMuX2Fzc2VydE9ubG9hZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYm9keS5pc1NsZWVwaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgdGhlIHdyYXBwZXIgb2JqZWN0LCB0aHJvdWdoIHdoaWNoIHRoZSBsb3dMZXZlbCBpbnN0YW5jZSBjYW4gYmUgYWNjZXNzZWQuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPluWwgeijheWvueixoe+8jOmAmui/h+atpOWvueixoeWPr+S7peiuv+mXruWIsOW6leWxguWunuS+i+OAglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IGJvZHkgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ib2R5O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2JvZHkhOiBJUmlnaWRCb2R5O1xyXG5cclxuICAgIC8vLyBQUklWQVRFIFBST1BFUlRZIC8vL1xyXG5cclxuICAgIC8vIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfYWxsb3dTbGVlcDogYm9vbGVhbiA9IHRydWU7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcml2YXRlIF9tYXNzOiBudW1iZXIgPSAxO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfbGluZWFyRGFtcGluZzogbnVtYmVyID0gMC4xO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfYW5ndWxhckRhbXBpbmc6IG51bWJlciA9IDAuMTtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX2ZpeGVkUm90YXRpb246IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX2lzS2luZW1hdGljOiBib29sZWFuID0gZmFsc2U7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcml2YXRlIF91c2VHcmF2aXR5OiBib29sZWFuID0gdHJ1ZTtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX2xpbmVhckZhY3RvcjogVmVjMyA9IG5ldyBWZWMzKDEsIDEsIDEpO1xyXG5cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfYW5ndWxhckZhY3RvcjogVmVjMyA9IG5ldyBWZWMzKDEsIDEsIDEpO1xyXG5cclxuICAgIHByb3RlY3RlZCBnZXQgX2Fzc2VydE9ubG9hZCAoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgY29uc3QgciA9IHRoaXMuX2lzT25Mb2FkQ2FsbGVkID09IDA7XHJcbiAgICAgICAgaWYgKHIpIHsgZXJyb3IoJ1tQaHlzaWNzXTogUGxlYXNlIG1ha2Ugc3VyZSB0aGF0IHRoZSBub2RlIGhhcyBiZWVuIGFkZGVkIHRvIHRoZSBzY2VuZScpOyB9XHJcbiAgICAgICAgcmV0dXJuICFyO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIGlmICghRURJVE9SICYmICFQSFlTSUNTX0JVSUxUSU4pIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keSA9IGNyZWF0ZVJpZ2lkQm9keSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLy8gQ09NUE9ORU5UIExJRkVDWUNMRSAvLy9cclxuXHJcbiAgICBwcm90ZWN0ZWQgX19wcmVsb2FkICgpIHtcclxuICAgICAgICBpZiAoIUVESVRPUiAmJiAhUEhZU0lDU19CVUlMVElOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuaW5pdGlhbGl6ZSh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIG9uRW5hYmxlICgpIHtcclxuICAgICAgICBpZiAoIUVESVRPUiAmJiAhUEhZU0lDU19CVUlMVElOKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkub25FbmFibGUhKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkRpc2FibGUgKCkge1xyXG4gICAgICAgIGlmICghRURJVE9SICYmICFQSFlTSUNTX0JVSUxUSU4pIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keS5vbkRpc2FibGUhKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBvbkRlc3Ryb3kgKCkge1xyXG4gICAgICAgIGlmICghRURJVE9SICYmICFQSFlTSUNTX0JVSUxUSU4pIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keS5vbkRlc3Ryb3khKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vLyBQVUJMSUMgTUVUSE9EIC8vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBBcHBseSBmb3JjZSB0byBhIHdvcmxkIHBvaW50LiBUaGlzIGNvdWxkLCBmb3IgZXhhbXBsZSwgYmUgYSBwb2ludCBvbiB0aGUgQm9keSBzdXJmYWNlLlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlnKjkuJbnlYznqbrpl7TkuK3vvIznm7jlr7nkuo7liJrkvZPnmoTotKjlv4PnmoTmn5DngrnkuIrlr7nliJrkvZPmlr3liqDkvZznlKjlipvjgIJcclxuICAgICAqIEBwYXJhbSBmb3JjZSAtIOS9nOeUqOWKm1xyXG4gICAgICogQHBhcmFtIHJlbGF0aXZlUG9pbnQgLSDkvZznlKjngrnvvIznm7jlr7nkuo7liJrkvZPnmoTotKjlv4NcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFwcGx5Rm9yY2UgKGZvcmNlOiBWZWMzLCByZWxhdGl2ZVBvaW50PzogVmVjMykge1xyXG4gICAgICAgIGlmICghUEhZU0lDU19CVUlMVElOICYmIHRoaXMuX2Fzc2VydE9ubG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LmFwcGx5Rm9yY2UoZm9yY2UsIHJlbGF0aXZlUG9pbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogQXBwbHkgZm9yY2UgdG8gYSBsb2NhbCBwb2ludC4gVGhpcyBjb3VsZCwgZm9yIGV4YW1wbGUsIGJlIGEgcG9pbnQgb24gdGhlIEJvZHkgc3VyZmFjZS5cclxuICAgICAqIEB6aFxyXG4gICAgICog5Zyo5pys5Zyw56m66Ze05Lit77yM55u45a+55LqO5Yia5L2T55qE6LSo5b+D55qE5p+Q54K55LiK5a+55Yia5L2T5pa95Yqg5L2c55So5Yqb44CCXHJcbiAgICAgKiBAcGFyYW0gZm9yY2UgLSDkvZznlKjliptcclxuICAgICAqIEBwYXJhbSBsb2NhbFBvaW50IC0g5L2c55So54K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhcHBseUxvY2FsRm9yY2UgKGZvcmNlOiBWZWMzLCBsb2NhbFBvaW50PzogVmVjMykge1xyXG4gICAgICAgIGlmICghUEhZU0lDU19CVUlMVElOICYmIHRoaXMuX2Fzc2VydE9ubG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LmFwcGx5TG9jYWxGb3JjZShmb3JjZSwgbG9jYWxQb2ludCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBJbiB3b3JsZCBzcGFjZSwgaW1wdWxzZSBpcyBhcHBsaWVkIHRvIHRoZSByaWdpZCBib2R5IGF0IHNvbWUgcG9pbnQgcmVsYXRpdmUgdG8gdGhlIGNlbnRlciBvZiBtYXNzIG9mIHRoZSByaWdpZCBib2R5LlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlnKjkuJbnlYznqbrpl7TkuK3vvIznm7jlr7nkuo7liJrkvZPnmoTotKjlv4PnmoTmn5DngrnkuIrlr7nliJrkvZPmlr3liqDlhrLph4/jgIJcclxuICAgICAqIEBwYXJhbSBpbXB1bHNlIC0g5Yay6YePXHJcbiAgICAgKiBAcGFyYW0gcmVsYXRpdmVQb2ludCAtIOS9nOeUqOeCue+8jOebuOWvueS6juWImuS9k+eahOS4reW/g+eCuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXBwbHlJbXB1bHNlIChpbXB1bHNlOiBWZWMzLCByZWxhdGl2ZVBvaW50PzogVmVjMykge1xyXG4gICAgICAgIGlmICghUEhZU0lDU19CVUlMVElOICYmIHRoaXMuX2Fzc2VydE9ubG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LmFwcGx5SW1wdWxzZShpbXB1bHNlLCByZWxhdGl2ZVBvaW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEluIGxvY2FsIHNwYWNlLCBpbXB1bHNlIGlzIGFwcGxpZWQgdG8gdGhlIHJpZ2lkIGJvZHkgYXQgc29tZSBwb2ludCByZWxhdGl2ZSB0byB0aGUgY2VudGVyIG9mIG1hc3Mgb2YgdGhlIHJpZ2lkIGJvZHkuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOWcqOacrOWcsOepuumXtOS4re+8jOebuOWvueS6juWImuS9k+eahOi0qOW/g+eahOafkOeCueS4iuWvueWImuS9k+aWveWKoOWGsumHj+OAglxyXG4gICAgICogQHBhcmFtIGltcHVsc2UgLSDlhrLph49cclxuICAgICAqIEBwYXJhbSBsb2NhbFBvaW50IC0g5L2c55So54K5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhcHBseUxvY2FsSW1wdWxzZSAoaW1wdWxzZTogVmVjMywgbG9jYWxQb2ludD86IFZlYzMpIHtcclxuICAgICAgICBpZiAoIVBIWVNJQ1NfQlVJTFRJTiAmJiB0aGlzLl9hc3NlcnRPbmxvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keS5hcHBseUxvY2FsSW1wdWxzZShpbXB1bHNlLCBsb2NhbFBvaW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEluIHdvcmxkIHNwYWNlLCB0b3JxdWUgaXMgYXBwbGllZCB0byB0aGUgcmlnaWQgYm9keS5cclxuICAgICAqIEB6aFxyXG4gICAgICog5Zyo5LiW55WM56m66Ze05Lit77yM5a+55Yia5L2T5pa95Yqg5omt55+p44CCXHJcbiAgICAgKiBAcGFyYW0gdG9ycXVlIC0g5omt55+pXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhcHBseVRvcnF1ZSAodG9ycXVlOiBWZWMzKSB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuYXBwbHlUb3JxdWUodG9ycXVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOWcqOacrOWcsOepuumXtOS4re+8jOWvueWImuS9k+aWveWKoOaJreefqeOAglxyXG4gICAgICogQHBhcmFtIHRvcnF1ZSAtIOaJreefqVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYXBwbHlMb2NhbFRvcnF1ZSAodG9ycXVlOiBWZWMzKSB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuYXBwbHlMb2NhbFRvcnF1ZSh0b3JxdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogV2FrZSB1cCB0aGUgcmlnaWQgYm9keS5cclxuICAgICAqIEB6aFxyXG4gICAgICog5ZSk6YaS5Yia5L2T44CCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB3YWtlVXAgKCkge1xyXG4gICAgICAgIGlmICghUEhZU0lDU19CVUlMVElOICYmIHRoaXMuX2Fzc2VydE9ubG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5Lndha2VVcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogRG9ybWFuY3kgb2YgcmlnaWQgYm9keS5cclxuICAgICAqIEB6aFxyXG4gICAgICog5LyR55yg5Yia5L2T44CCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzbGVlcCAoKSB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuc2xlZXAoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgdGhlIGxpbmVhciB2ZWxvY2l0eS5cclxuICAgICAqIEB6aFxyXG4gICAgICog6I635Y+W57q/5oCn6YCf5bqm44CCXHJcbiAgICAgKiBAcGFyYW0gb3V0IOmAn+W6piBWZWMzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRMaW5lYXJWZWxvY2l0eSAob3V0OiBWZWMzKSB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuZ2V0TGluZWFyVmVsb2NpdHkob3V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFNldHMgdGhlIGxpbmVhciB2ZWxvY2l0eS5cclxuICAgICAqIEB6aFxyXG4gICAgICog6K6+572u57q/5oCn6YCf5bqm44CCXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUg6YCf5bqmIFZlYzNcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldExpbmVhclZlbG9jaXR5ICh2YWx1ZTogVmVjMyk6IHZvaWQge1xyXG4gICAgICAgIGlmICghUEhZU0lDU19CVUlMVElOICYmIHRoaXMuX2Fzc2VydE9ubG9hZCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ib2R5LnNldExpbmVhclZlbG9jaXR5KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgdGhlIGFuZ3VsYXIgdmVsb2NpdHkuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPluaXi+i9rOmAn+W6puOAglxyXG4gICAgICogQHBhcmFtIG91dCDpgJ/luqYgVmVjM1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0QW5ndWxhclZlbG9jaXR5IChvdXQ6IFZlYzMpIHtcclxuICAgICAgICBpZiAoIVBIWVNJQ1NfQlVJTFRJTiAmJiB0aGlzLl9hc3NlcnRPbmxvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keS5nZXRBbmd1bGFyVmVsb2NpdHkob3V0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFNldHMgdGhlIGFuZ3VsYXIgdmVsb2NpdHkuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiuvue9ruaXi+i9rOmAn+W6puOAglxyXG4gICAgICogQHBhcmFtIHZhbHVlIOmAn+W6piBWZWMzXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRBbmd1bGFyVmVsb2NpdHkgKHZhbHVlOiBWZWMzKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuc2V0QW5ndWxhclZlbG9jaXR5KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vIEdST1VQIE1BU0sgLy8vXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFNldHMgdGhlIGdyb3VwIHZhbHVlLlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDorr7nva7liIbnu4TlgLzjgIJcclxuICAgICAqIEBwYXJhbSB2IC0g5pW05pWw77yM6IyD5Zu05Li6IDIg55qEIDAg5qyh5pa5IOWIsCAyIOeahCAzMSDmrKHmlrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldEdyb3VwICh2OiBudW1iZXIpOiB2b2lkIHtcclxuICAgICAgICBpZiAoIVBIWVNJQ1NfQlVJTFRJTiAmJiB0aGlzLl9hc3NlcnRPbmxvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keSEuc2V0R3JvdXAodik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBHZXRzIHRoZSBncm91cCB2YWx1ZS5cclxuICAgICAqIEB6aFxyXG4gICAgICog6I635Y+W5YiG57uE5YC844CCXHJcbiAgICAgKiBAcmV0dXJucyDmlbTmlbDvvIzojIPlm7TkuLogMiDnmoQgMCDmrKHmlrkg5YiwIDIg55qEIDMxIOasoeaWuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0R3JvdXAgKCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib2R5LmdldEdyb3VwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBBZGQgYSBncm91cGluZyB2YWx1ZSB0byBmaWxsIGluIHRoZSBncm91cCB5b3Ugd2FudCB0byBqb2luLlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmt7vliqDliIbnu4TlgLzvvIzlj6/loavopoHliqDlhaXnmoQgZ3JvdXDjgIJcclxuICAgICAqIEBwYXJhbSB2IC0g5pW05pWw77yM6IyD5Zu05Li6IDIg55qEIDAg5qyh5pa5IOWIsCAyIOeahCAzMSDmrKHmlrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGFkZEdyb3VwICh2OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoIVBIWVNJQ1NfQlVJTFRJTiAmJiB0aGlzLl9hc3NlcnRPbmxvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keS5hZGRHcm91cCh2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFN1YnRyYWN0IHRoZSBncm91cGluZyB2YWx1ZSB0byBmaWxsIGluIHRoZSBncm91cCB0byBiZSByZW1vdmVkLlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlh4/ljrvliIbnu4TlgLzvvIzlj6/loavopoHnp7vpmaTnmoQgZ3JvdXDjgIJcclxuICAgICAqIEBwYXJhbSB2IC0g5pW05pWw77yM6IyD5Zu05Li6IDIg55qEIDAg5qyh5pa5IOWIsCAyIOeahCAzMSDmrKHmlrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbW92ZUdyb3VwICh2OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoIVBIWVNJQ1NfQlVJTFRJTiAmJiB0aGlzLl9hc3NlcnRPbmxvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keS5yZW1vdmVHcm91cCh2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEdldHMgdGhlIG1hc2sgdmFsdWUuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiOt+WPluaOqeeggeWAvOOAglxyXG4gICAgICogQHJldHVybnMg5pW05pWw77yM6IyD5Zu05Li6IDIg55qEIDAg5qyh5pa5IOWIsCAyIOeahCAzMSDmrKHmlrlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldE1hc2sgKCk6IG51bWJlciB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib2R5LmdldE1hc2soKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIDA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFNldHMgdGhlIG1hc2sgdmFsdWUuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOiuvue9ruaOqeeggeWAvOOAglxyXG4gICAgICogQHBhcmFtIHYgLSDmlbTmlbDvvIzojIPlm7TkuLogMiDnmoQgMCDmrKHmlrkg5YiwIDIg55qEIDMxIOasoeaWuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0TWFzayAodjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkuc2V0TWFzayh2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEFkZCBtYXNrIHZhbHVlcyB0byBmaWxsIGluIGdyb3VwcyB0aGF0IG5lZWQgdG8gYmUgY2hlY2tlZC5cclxuICAgICAqIEB6aFxyXG4gICAgICog5re75Yqg5o6p56CB5YC877yM5Y+v5aGr5YWl6ZyA6KaB5qOA5p+l55qEIGdyb3Vw44CCXHJcbiAgICAgKiBAcGFyYW0gdiAtIOaVtOaVsO+8jOiMg+WbtOS4uiAyIOeahCAwIOasoeaWuSDliLAgMiDnmoQgMzEg5qyh5pa5XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBhZGRNYXNrICh2OiBudW1iZXIpIHtcclxuICAgICAgICBpZiAoIVBIWVNJQ1NfQlVJTFRJTiAmJiB0aGlzLl9hc3NlcnRPbmxvYWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fYm9keS5hZGRNYXNrKHYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogU3VidHJhY3QgdGhlIG1hc2sgdmFsdWUgdG8gZmlsbCBpbiB0aGUgZ3JvdXAgdGhhdCBkb2VzIG5vdCBuZWVkIHRvIGJlIGNoZWNrZWQuXHJcbiAgICAgKiBAemhcclxuICAgICAqIOWHj+WOu+aOqeeggeWAvO+8jOWPr+Whq+WFpeS4jemcgOimgeajgOafpeeahCBncm91cOOAglxyXG4gICAgICogQHBhcmFtIHYgLSDmlbTmlbDvvIzojIPlm7TkuLogMiDnmoQgMCDmrKHmlrkg5YiwIDIg55qEIDMxIOasoeaWuVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgcmVtb3ZlTWFzayAodjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKCFQSFlTSUNTX0JVSUxUSU4gJiYgdGhpcy5fYXNzZXJ0T25sb2FkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2JvZHkucmVtb3ZlTWFzayh2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiJdfQ==