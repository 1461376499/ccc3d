(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../core/assets/mesh.js", "../../core/gfx/buffer.js", "../../core/gfx/define.js", "../../core/math/color.js", "../../core/renderer/scene/model.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../core/assets/mesh.js"), require("../../core/gfx/buffer.js"), require("../../core/gfx/define.js"), require("../../core/math/color.js"), require("../../core/renderer/scene/model.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.mesh, global.buffer, global.define, global.color, global.model);
    global.particleBatchModel = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _mesh, _buffer, _define, _color, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.default = void 0;

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  var _uvs = [0, 0, // bottom-left
  1, 0, // bottom-right
  0, 1, // top-left
  1, 1 // top-right
  ];

  var ParticleBatchModel = /*#__PURE__*/function (_Model) {
    _inherits(ParticleBatchModel, _Model);

    function ParticleBatchModel() {
      var _this;

      _classCallCheck(this, ParticleBatchModel);

      _this = _possibleConstructorReturn(this, _getPrototypeOf(ParticleBatchModel).call(this));
      _this._capacity = void 0;
      _this._vertAttrs = void 0;
      _this._vertSize = void 0;
      _this._vBuffer = void 0;
      _this._vertAttrsFloatCount = void 0;
      _this._vdataF32 = void 0;
      _this._vdataUint32 = void 0;
      _this._iaInfo = void 0;
      _this._iaInfoBuffer = void 0;
      _this._subMeshData = void 0;
      _this._mesh = void 0;
      _this._vertCount = 0;
      _this._indexCount = 0;
      _this._startTimeOffset = 0;
      _this._lifeTimeOffset = 0;
      _this.type = _model.ModelType.PARTICLE_BATCH;
      _this._capacity = 0;
      _this._vertAttrs = null;
      _this._vertSize = 0;
      _this._vBuffer = null;
      _this._vertAttrsFloatCount = 0;
      _this._vdataF32 = null;
      _this._vdataUint32 = null;
      _this._iaInfo = {
        drawInfos: [{
          vertexCount: 0,
          firstVertex: 0,
          indexCount: 0,
          firstIndex: 0,
          vertexOffset: 0,
          instanceCount: 0,
          firstInstance: 0
        }]
      };
      _this._iaInfoBuffer = _this._device.createBuffer({
        usage: _define.GFXBufferUsageBit.INDIRECT,
        memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
        size: _buffer.GFX_DRAW_INFO_SIZE,
        stride: 1
      });
      _this._subMeshData = null;
      _this._mesh = null;
      return _this;
    }

    _createClass(ParticleBatchModel, [{
      key: "setCapacity",
      value: function setCapacity(capacity) {
        var capChanged = this._capacity !== capacity;
        this._capacity = capacity;

        if (this._inited && capChanged) {
          this._recreateBuffer();
        }
      }
    }, {
      key: "setVertexAttributes",
      value: function setVertexAttributes(mesh, attrs) {
        if (this._mesh === mesh && this._vertAttrs === attrs) {
          return;
        }

        this._mesh = mesh;
        this._vertAttrs = attrs;
        this._vertSize = 0;

        var _iterator = _createForOfIteratorHelper(this._vertAttrs),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var a = _step.value;
            a.offset = this._vertSize;
            this._vertSize += _define.GFXFormatInfos[a.format].size;
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }

        this._vertAttrsFloatCount = this._vertSize / 4; // number of float
        // rebuid

        this._vBuffer = this._createSubMeshData();
        this._vdataF32 = new Float32Array(this._vBuffer);
        this._vdataUint32 = new Uint32Array(this._vBuffer);
        this._inited = true;
      }
    }, {
      key: "_createSubMeshData",
      value: function _createSubMeshData() {
        this.destroySubMeshData();
        this._vertCount = 4;
        this._indexCount = 6;

        if (this._mesh) {
          this._vertCount = this._mesh.struct.vertexBundles[this._mesh.struct.primitives[0].vertexBundelIndices[0]].view.count;
          this._indexCount = this._mesh.struct.primitives[0].indexView.count;
        }

        var vertexBuffer = this._device.createBuffer({
          usage: _define.GFXBufferUsageBit.VERTEX | _define.GFXBufferUsageBit.TRANSFER_DST,
          memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
          size: this._vertSize * this._capacity * this._vertCount,
          stride: this._vertSize
        });

        var vBuffer = new ArrayBuffer(this._vertSize * this._capacity * this._vertCount);

        if (this._mesh) {
          var vIdx = this._vertAttrs.findIndex(function (val) {
            return val.name === _define.GFXAttributeName.ATTR_TEX_COORD3;
          });

          var vOffset = this._vertAttrs[vIdx++].offset;

          this._mesh.copyAttribute(0, _define.GFXAttributeName.ATTR_POSITION, vBuffer, this._vertSize, vOffset); // copy mesh position to ATTR_TEX_COORD3


          vOffset = this._vertAttrs[vIdx++].offset;

          this._mesh.copyAttribute(0, _define.GFXAttributeName.ATTR_NORMAL, vBuffer, this._vertSize, vOffset); // copy mesh normal to ATTR_NORMAL


          vOffset = this._vertAttrs[this._vertAttrs.findIndex(function (val) {
            return val.name === _define.GFXAttributeName.ATTR_TEX_COORD;
          })].offset;

          this._mesh.copyAttribute(0, _define.GFXAttributeName.ATTR_TEX_COORD, vBuffer, this._vertSize, vOffset); // copy mesh uv to ATTR_TEX_COORD


          vOffset = this._vertAttrs[vIdx++].offset;

          if (!this._mesh.copyAttribute(0, _define.GFXAttributeName.ATTR_COLOR, vBuffer, this._vertSize, vOffset)) {
            // copy mesh color to ATTR_COLOR1
            var vb = new Uint32Array(vBuffer);

            for (var iVertex = 0; iVertex < this._vertCount; ++iVertex) {
              vb[iVertex * this._vertAttrsFloatCount + vOffset / 4] = _color.Color.WHITE._val;
            }
          }

          var vbFloatArray = new Float32Array(vBuffer);

          for (var i = 1; i < this._capacity; i++) {
            vbFloatArray.copyWithin(i * this._vertSize * this._vertCount / 4, 0, this._vertSize * this._vertCount / 4);
          }
        }

        vertexBuffer.update(vBuffer);
        var indices = new Uint16Array(this._capacity * this._indexCount);

        if (this._mesh) {
          this._mesh.copyIndices(0, indices);

          for (var _i = 1; _i < this._capacity; _i++) {
            for (var j = 0; j < this._indexCount; j++) {
              indices[_i * this._indexCount + j] = indices[j] + _i * this._vertCount;
            }
          }
        } else {
          var dst = 0;

          for (var _i2 = 0; _i2 < this._capacity; ++_i2) {
            var baseIdx = 4 * _i2;
            indices[dst++] = baseIdx;
            indices[dst++] = baseIdx + 1;
            indices[dst++] = baseIdx + 2;
            indices[dst++] = baseIdx + 3;
            indices[dst++] = baseIdx + 2;
            indices[dst++] = baseIdx + 1;
          }
        }

        var indexBuffer = this._device.createBuffer({
          usage: _define.GFXBufferUsageBit.INDEX | _define.GFXBufferUsageBit.TRANSFER_DST,
          memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
          size: this._capacity * this._indexCount * Uint16Array.BYTES_PER_ELEMENT,
          stride: Uint16Array.BYTES_PER_ELEMENT
        });

        indexBuffer.update(indices);
        this._iaInfo.drawInfos[0].vertexCount = this._capacity * this._vertCount;
        this._iaInfo.drawInfos[0].indexCount = this._capacity * this._indexCount;

        if (this._iaInfoBuffer.status === _define.GFXStatus.UNREADY) {
          this._iaInfoBuffer.initialize({
            usage: _define.GFXBufferUsageBit.INDIRECT,
            memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
            size: _buffer.GFX_DRAW_INFO_SIZE,
            stride: 1
          });
        }

        this._iaInfoBuffer.update(this._iaInfo);

        this._subMeshData = new _mesh.RenderingSubMesh([vertexBuffer], this._vertAttrs, _define.GFXPrimitiveMode.TRIANGLE_LIST);
        this._subMeshData.indexBuffer = indexBuffer;
        this._subMeshData.indirectBuffer = this._iaInfoBuffer;
        this.setSubModelMesh(0, this._subMeshData);
        return vBuffer;
      }
    }, {
      key: "setSubModelMaterial",
      value: function setSubModelMaterial(idx, mat) {
        this.initLocalBindings(mat);

        _get(_getPrototypeOf(ParticleBatchModel.prototype), "setSubModelMaterial", this).call(this, idx, mat);
      }
    }, {
      key: "addParticleVertexData",
      value: function addParticleVertexData(index, pvdata) {
        if (!this._mesh) {
          var offset = index * this._vertAttrsFloatCount;
          this._vdataF32[offset++] = pvdata[0].x; // position

          this._vdataF32[offset++] = pvdata[0].y;
          this._vdataF32[offset++] = pvdata[0].z;
          this._vdataF32[offset++] = pvdata[1].x; // uv

          this._vdataF32[offset++] = pvdata[1].y;
          this._vdataF32[offset++] = pvdata[1].z; // frame idx

          this._vdataF32[offset++] = pvdata[2].x; // size

          this._vdataF32[offset++] = pvdata[2].y;
          this._vdataF32[offset++] = pvdata[2].z;
          this._vdataF32[offset++] = pvdata[3].x; // rotation

          this._vdataF32[offset++] = pvdata[3].y;
          this._vdataF32[offset++] = pvdata[3].z;
          this._vdataUint32[offset++] = pvdata[4]; // color

          if (pvdata[5]) {
            this._vdataF32[offset++] = pvdata[5].x; // velocity

            this._vdataF32[offset++] = pvdata[5].y;
            this._vdataF32[offset++] = pvdata[5].z;
          }
        } else {
          for (var i = 0; i < this._vertCount; i++) {
            var _offset = (index * this._vertCount + i) * this._vertAttrsFloatCount;

            this._vdataF32[_offset++] = pvdata[0].x; // position

            this._vdataF32[_offset++] = pvdata[0].y;
            this._vdataF32[_offset++] = pvdata[0].z;
            _offset += 2; // this._vdataF32![offset++] = index;
            // this._vdataF32![offset++] = pvdata[1].y;

            this._vdataF32[_offset++] = pvdata[1].z; // frame idx

            this._vdataF32[_offset++] = pvdata[2].x; // size

            this._vdataF32[_offset++] = pvdata[2].y;
            this._vdataF32[_offset++] = pvdata[2].z;
            this._vdataF32[_offset++] = pvdata[3].x; // rotation

            this._vdataF32[_offset++] = pvdata[3].y;
            this._vdataF32[_offset++] = pvdata[3].z;
            this._vdataUint32[_offset++] = pvdata[4]; // color
          }
        }
      }
    }, {
      key: "addGPUParticleVertexData",
      value: function addGPUParticleVertexData(p, num, time) {
        var offset = num * this._vertAttrsFloatCount * this._vertCount;

        for (var i = 0; i < this._vertCount; i++) {
          var idx = offset;
          this._vdataF32[idx++] = p.position.x;
          this._vdataF32[idx++] = p.position.y;
          this._vdataF32[idx++] = p.position.z;
          this._vdataF32[idx++] = time;
          this._vdataF32[idx++] = p.startSize.x;
          this._vdataF32[idx++] = p.startSize.y;
          this._vdataF32[idx++] = p.startSize.z;
          this._vdataF32[idx++] = _uvs[2 * i];
          this._vdataF32[idx++] = p.rotation.x;
          this._vdataF32[idx++] = p.rotation.y;
          this._vdataF32[idx++] = p.rotation.z;
          this._vdataF32[idx++] = _uvs[2 * i + 1];
          this._vdataF32[idx++] = p.startColor.r / 255.0;
          this._vdataF32[idx++] = p.startColor.g / 255.0;
          this._vdataF32[idx++] = p.startColor.b / 255.0;
          this._vdataF32[idx++] = p.startColor.a / 255.0;
          this._vdataF32[idx++] = p.velocity.x;
          this._vdataF32[idx++] = p.velocity.y;
          this._vdataF32[idx++] = p.velocity.z;
          this._vdataF32[idx++] = p.startLifetime;
          this._vdataF32[idx++] = p.randomSeed;
          offset += this._vertAttrsFloatCount;
        }
      }
    }, {
      key: "updateGPUParticles",
      value: function updateGPUParticles(num, time, dt) {
        var pSize = this._vertAttrsFloatCount * this._vertCount;
        var pBaseIndex = 0;
        var startTime = 0;
        var lifeTime = 0;
        var lastBaseIndex = 0;
        var interval = 0;

        for (var i = 0; i < num; ++i) {
          pBaseIndex = i * pSize;
          startTime = this._vdataF32[pBaseIndex + this._startTimeOffset];
          lifeTime = this._vdataF32[pBaseIndex + this._lifeTimeOffset];
          interval = time - startTime;

          if (lifeTime - interval < dt) {
            lastBaseIndex = --num * pSize;

            this._vdataF32.copyWithin(pBaseIndex, lastBaseIndex, lastBaseIndex + pSize);

            i--;
          }
        }

        return num;
      }
    }, {
      key: "constructAttributeIndex",
      value: function constructAttributeIndex() {
        if (!this._vertAttrs) {
          return;
        }

        var vIdx = this._vertAttrs.findIndex(function (val) {
          return val.name === 'a_position_starttime';
        });

        var vOffset = this._vertAttrs[vIdx].offset;
        this._startTimeOffset = vOffset / 4 + 3;
        vIdx = this._vertAttrs.findIndex(function (val) {
          return val.name === 'a_dir_life';
        });
        vOffset = this._vertAttrs[vIdx].offset;
        this._lifeTimeOffset = vOffset / 4 + 3;
      }
    }, {
      key: "updateIA",
      value: function updateIA(count) {
        var ia = this.getSubModel(0).inputAssembler;
        ia.vertexBuffers[0].update(this._vdataF32);
        ia.indexCount = this._indexCount * count;
        this._iaInfo.drawInfos[0] = ia;

        this._iaInfoBuffer.update(this._iaInfo);
      }
    }, {
      key: "clear",
      value: function clear() {
        this.getSubModel(0).inputAssembler.indexCount = 0;
      }
    }, {
      key: "destroy",
      value: function destroy() {
        _get(_getPrototypeOf(ParticleBatchModel.prototype), "destroy", this).call(this);

        this._vBuffer = null;
        this._vdataF32 = null;
        this.destroySubMeshData();

        this._iaInfoBuffer.destroy();
      }
    }, {
      key: "_recreateBuffer",
      value: function _recreateBuffer() {
        this._vBuffer = this._createSubMeshData();
        this.getSubModel(0).updateCommandBuffer();
        this._vdataF32 = new Float32Array(this._vBuffer);
        this._vdataUint32 = new Uint32Array(this._vBuffer);
      }
    }, {
      key: "destroySubMeshData",
      value: function destroySubMeshData() {
        if (this._subMeshData) {
          this._subMeshData.destroy();

          this._subMeshData = null;
        }
      }
    }]);

    return ParticleBatchModel;
  }(_model.Model);

  _exports.default = ParticleBatchModel;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvcGFydGljbGUvbW9kZWxzL3BhcnRpY2xlLWJhdGNoLW1vZGVsLnRzIl0sIm5hbWVzIjpbIl91dnMiLCJQYXJ0aWNsZUJhdGNoTW9kZWwiLCJfY2FwYWNpdHkiLCJfdmVydEF0dHJzIiwiX3ZlcnRTaXplIiwiX3ZCdWZmZXIiLCJfdmVydEF0dHJzRmxvYXRDb3VudCIsIl92ZGF0YUYzMiIsIl92ZGF0YVVpbnQzMiIsIl9pYUluZm8iLCJfaWFJbmZvQnVmZmVyIiwiX3N1Yk1lc2hEYXRhIiwiX21lc2giLCJfdmVydENvdW50IiwiX2luZGV4Q291bnQiLCJfc3RhcnRUaW1lT2Zmc2V0IiwiX2xpZmVUaW1lT2Zmc2V0IiwidHlwZSIsIk1vZGVsVHlwZSIsIlBBUlRJQ0xFX0JBVENIIiwiZHJhd0luZm9zIiwidmVydGV4Q291bnQiLCJmaXJzdFZlcnRleCIsImluZGV4Q291bnQiLCJmaXJzdEluZGV4IiwidmVydGV4T2Zmc2V0IiwiaW5zdGFuY2VDb3VudCIsImZpcnN0SW5zdGFuY2UiLCJfZGV2aWNlIiwiY3JlYXRlQnVmZmVyIiwidXNhZ2UiLCJHRlhCdWZmZXJVc2FnZUJpdCIsIklORElSRUNUIiwibWVtVXNhZ2UiLCJHRlhNZW1vcnlVc2FnZUJpdCIsIkhPU1QiLCJERVZJQ0UiLCJzaXplIiwiR0ZYX0RSQVdfSU5GT19TSVpFIiwic3RyaWRlIiwiY2FwYWNpdHkiLCJjYXBDaGFuZ2VkIiwiX2luaXRlZCIsIl9yZWNyZWF0ZUJ1ZmZlciIsIm1lc2giLCJhdHRycyIsImEiLCJvZmZzZXQiLCJHRlhGb3JtYXRJbmZvcyIsImZvcm1hdCIsIl9jcmVhdGVTdWJNZXNoRGF0YSIsIkZsb2F0MzJBcnJheSIsIlVpbnQzMkFycmF5IiwiZGVzdHJveVN1Yk1lc2hEYXRhIiwic3RydWN0IiwidmVydGV4QnVuZGxlcyIsInByaW1pdGl2ZXMiLCJ2ZXJ0ZXhCdW5kZWxJbmRpY2VzIiwidmlldyIsImNvdW50IiwiaW5kZXhWaWV3IiwidmVydGV4QnVmZmVyIiwiVkVSVEVYIiwiVFJBTlNGRVJfRFNUIiwidkJ1ZmZlciIsIkFycmF5QnVmZmVyIiwidklkeCIsImZpbmRJbmRleCIsInZhbCIsIm5hbWUiLCJHRlhBdHRyaWJ1dGVOYW1lIiwiQVRUUl9URVhfQ09PUkQzIiwidk9mZnNldCIsImNvcHlBdHRyaWJ1dGUiLCJBVFRSX1BPU0lUSU9OIiwiQVRUUl9OT1JNQUwiLCJBVFRSX1RFWF9DT09SRCIsIkFUVFJfQ09MT1IiLCJ2YiIsImlWZXJ0ZXgiLCJDb2xvciIsIldISVRFIiwiX3ZhbCIsInZiRmxvYXRBcnJheSIsImkiLCJjb3B5V2l0aGluIiwidXBkYXRlIiwiaW5kaWNlcyIsIlVpbnQxNkFycmF5IiwiY29weUluZGljZXMiLCJqIiwiZHN0IiwiYmFzZUlkeCIsImluZGV4QnVmZmVyIiwiSU5ERVgiLCJCWVRFU19QRVJfRUxFTUVOVCIsInN0YXR1cyIsIkdGWFN0YXR1cyIsIlVOUkVBRFkiLCJpbml0aWFsaXplIiwiUmVuZGVyaW5nU3ViTWVzaCIsIkdGWFByaW1pdGl2ZU1vZGUiLCJUUklBTkdMRV9MSVNUIiwiaW5kaXJlY3RCdWZmZXIiLCJzZXRTdWJNb2RlbE1lc2giLCJpZHgiLCJtYXQiLCJpbml0TG9jYWxCaW5kaW5ncyIsImluZGV4IiwicHZkYXRhIiwieCIsInkiLCJ6IiwicCIsIm51bSIsInRpbWUiLCJwb3NpdGlvbiIsInN0YXJ0U2l6ZSIsInJvdGF0aW9uIiwic3RhcnRDb2xvciIsInIiLCJnIiwiYiIsInZlbG9jaXR5Iiwic3RhcnRMaWZldGltZSIsInJhbmRvbVNlZWQiLCJkdCIsInBTaXplIiwicEJhc2VJbmRleCIsInN0YXJ0VGltZSIsImxpZmVUaW1lIiwibGFzdEJhc2VJbmRleCIsImludGVydmFsIiwiaWEiLCJnZXRTdWJNb2RlbCIsImlucHV0QXNzZW1ibGVyIiwidmVydGV4QnVmZmVycyIsImRlc3Ryb3kiLCJ1cGRhdGVDb21t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QUFFLENBQUM5RyxVQUFILEdBQWdCLEtBQUtULFdBQUwsR0FBbUI2QyxLQUFuQztBQUNBLGFBQUtsRCxPQUFMLENBQWFXLFNBQWIsQ0FBdUIsQ0FBdkIsSUFBNEJpSCxFQUE1Qjs7QUFDQSxhQUFLM0gsYUFBTCxDQUFtQjRFLE1BQW5CLENBQTBCLEtBQUs3RSxPQUEvQjtBQUNIOzs7OEJBRWU7QUFDWixhQUFLNkgsV0FBTCxDQUFpQixDQUFqQixFQUFvQkMsY0FBcEIsQ0FBb0NoSCxVQUFwQyxHQUFpRCxDQUFqRDtBQUNIOzs7Z0NBRWlCO0FBQ2Q7O0FBQ0EsYUFBS2xCLFFBQUwsR0FBZ0IsSUFBaEI7QUFDQSxhQUFLRSxTQUFMLEdBQWlCLElBQWpCO0FBQ0EsYUFBSzhDLGtCQUFMOztBQUNBLGFBQUszQyxhQUFMLENBQW1CK0gsT0FBbkI7QUFDSDs7O3dDQUUwQjtBQUN2QixhQUFLcEksUUFBTCxHQUFnQixLQUFLNkMsa0JBQUwsRUFBaEI7QUFDQSxhQUFLb0YsV0FBTCxDQUFpQixDQUFqQixFQUFvQkksbUJBQXBCO0FBQ0EsYUFBS25JLFNBQUwsR0FBaUIsSUFBSTRDLFlBQUosQ0FBaUIsS0FBSzlDLFFBQXRCLENBQWpCO0FBQ0EsYUFBS0csWUFBTCxHQUFvQixJQUFJNEMsV0FBSixDQUFnQixLQUFLL0MsUUFBckIsQ0FBcEI7QUFDSDs7OzJDQUU2QjtBQUMxQixZQUFJLEtBQUtNLFlBQVQsRUFBdUI7QUFDbkIsZUFBS0EsWUFBTCxDQUFrQjhILE9BQWxCOztBQUNBLGVBQUs5SCxZQUFMLEdBQW9CLElBQXBCO0FBQ0g7QUFDSjs7OztJQXZUMkNnSSxZIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHA6Ly93d3cuY29jb3MuY29tXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXHJcbiAgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxyXG4gdG8gdXNlIENvY29zIENyZWF0b3Igc29sZWx5IHRvIGRldmVsb3AgZ2FtZXMgb24geW91ciB0YXJnZXQgcGxhdGZvcm1zLiBZb3Ugc2hhbGxcclxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXHJcbiAgdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxyXG4gIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiBDb2NvcyBDcmVhdG9yLlxyXG5cclxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXHJcbiBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC4gcmVzZXJ2ZXMgYWxsIHJpZ2h0cyBub3QgZXhwcmVzc2x5IGdyYW50ZWQgdG8geW91LlxyXG5cclxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG4gVEhFIFNPRlRXQVJFLlxyXG4qL1xyXG5cclxuLyoqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcblxyXG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gJy4uLy4uL2NvcmUvYXNzZXRzL21hdGVyaWFsJztcclxuaW1wb3J0IHsgUmVuZGVyaW5nU3ViTWVzaCwgTWVzaCB9IGZyb20gJy4uLy4uL2NvcmUvYXNzZXRzL21lc2gnO1xyXG5pbXBvcnQgeyBHRlhfRFJBV19JTkZPX1NJWkUsIEdGWEJ1ZmZlciwgSUdGWEluZGlyZWN0QnVmZmVyIH0gZnJvbSAnLi4vLi4vY29yZS9nZngvYnVmZmVyJztcclxuaW1wb3J0IHsgR0ZYQXR0cmlidXRlTmFtZSwgR0ZYQnVmZmVyVXNhZ2VCaXQsIEdGWEZvcm1hdEluZm9zLFxyXG4gICAgR0ZYTWVtb3J5VXNhZ2VCaXQsIEdGWFByaW1pdGl2ZU1vZGUsIEdGWFN0YXR1cyB9IGZyb20gJy4uLy4uL2NvcmUvZ2Z4L2RlZmluZSc7XHJcbmltcG9ydCB7IElHRlhBdHRyaWJ1dGUgfSBmcm9tICcuLi8uLi9jb3JlL2dmeC9pbnB1dC1hc3NlbWJsZXInO1xyXG5pbXBvcnQgeyBDb2xvciB9IGZyb20gJy4uLy4uL2NvcmUvbWF0aC9jb2xvcic7XHJcbmltcG9ydCB7IE1vZGVsLCBNb2RlbFR5cGUgfSBmcm9tICcuLi8uLi9jb3JlL3JlbmRlcmVyL3NjZW5lL21vZGVsJztcclxuaW1wb3J0IHsgUGFydGljbGUgfSBmcm9tICcuLi9wYXJ0aWNsZSc7XHJcblxyXG5jb25zdCBfdXZzID0gW1xyXG4gICAgMCwgMCwgLy8gYm90dG9tLWxlZnRcclxuICAgIDEsIDAsIC8vIGJvdHRvbS1yaWdodFxyXG4gICAgMCwgMSwgLy8gdG9wLWxlZnRcclxuICAgIDEsIDEsIC8vIHRvcC1yaWdodFxyXG5dO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFydGljbGVCYXRjaE1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG5cclxuICAgIHByaXZhdGUgX2NhcGFjaXR5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF92ZXJ0QXR0cnM6IElHRlhBdHRyaWJ1dGVbXSB8IG51bGw7XHJcbiAgICBwcml2YXRlIF92ZXJ0U2l6ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfdkJ1ZmZlcjogQXJyYXlCdWZmZXIgfCBudWxsO1xyXG4gICAgcHJpdmF0ZSBfdmVydEF0dHJzRmxvYXRDb3VudDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfdmRhdGFGMzI6IEZsb2F0MzJBcnJheSB8IG51bGw7XHJcbiAgICBwcml2YXRlIF92ZGF0YVVpbnQzMjogVWludDMyQXJyYXkgfCBudWxsO1xyXG4gICAgcHJpdmF0ZSBfaWFJbmZvOiBJR0ZYSW5kaXJlY3RCdWZmZXI7XHJcbiAgICBwcml2YXRlIF9pYUluZm9CdWZmZXI6IEdGWEJ1ZmZlcjtcclxuICAgIHByaXZhdGUgX3N1Yk1lc2hEYXRhOiBSZW5kZXJpbmdTdWJNZXNoIHwgbnVsbDtcclxuICAgIHByaXZhdGUgX21lc2g6IE1lc2ggfCBudWxsO1xyXG4gICAgcHJpdmF0ZSBfdmVydENvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBfaW5kZXhDb3VudDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX3N0YXJ0VGltZU9mZnNldDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX2xpZmVUaW1lT2Zmc2V0OiBudW1iZXIgPSAwO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnR5cGUgPSBNb2RlbFR5cGUuUEFSVElDTEVfQkFUQ0g7XHJcbiAgICAgICAgdGhpcy5fY2FwYWNpdHkgPSAwO1xyXG4gICAgICAgIHRoaXMuX3ZlcnRBdHRycyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fdmVydFNpemUgPSAwO1xyXG4gICAgICAgIHRoaXMuX3ZCdWZmZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX3ZlcnRBdHRyc0Zsb2F0Q291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuX3ZkYXRhRjMyID0gbnVsbDtcclxuICAgICAgICB0aGlzLl92ZGF0YVVpbnQzMiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5faWFJbmZvID0ge1xyXG4gICAgICAgICAgICBkcmF3SW5mb3M6IFt7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIGZpcnN0VmVydGV4OiAwLFxyXG4gICAgICAgICAgICAgICAgaW5kZXhDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIGZpcnN0SW5kZXg6IDAsXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUNvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgZmlyc3RJbnN0YW5jZTogMCxcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9pYUluZm9CdWZmZXIgPSB0aGlzLl9kZXZpY2UuY3JlYXRlQnVmZmVyKHtcclxuICAgICAgICAgICAgdXNhZ2U6IEdGWEJ1ZmZlclVzYWdlQml0LklORElSRUNULFxyXG4gICAgICAgICAgICBtZW1Vc2FnZTogR0ZYTWVtb3J5VXNhZ2VCaXQuSE9TVCB8IEdGWE1lbW9yeVVzYWdlQml0LkRFVklDRSxcclxuICAgICAgICAgICAgc2l6ZTogR0ZYX0RSQVdfSU5GT19TSVpFLFxyXG4gICAgICAgICAgICBzdHJpZGU6IDEsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fc3ViTWVzaERhdGEgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX21lc2ggPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRDYXBhY2l0eSAoY2FwYWNpdHk6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGNhcENoYW5nZWQgPSB0aGlzLl9jYXBhY2l0eSAhPT0gY2FwYWNpdHk7XHJcbiAgICAgICAgdGhpcy5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcclxuICAgICAgICBpZiAodGhpcy5faW5pdGVkICYmIGNhcENoYW5nZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVjcmVhdGVCdWZmZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZlcnRleEF0dHJpYnV0ZXMgKG1lc2g6IE1lc2ggfCBudWxsLCBhdHRyczogSUdGWEF0dHJpYnV0ZVtdKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX21lc2ggPT09IG1lc2ggJiYgdGhpcy5fdmVydEF0dHJzID09PSBhdHRycykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX21lc2ggPSBtZXNoO1xyXG4gICAgICAgIHRoaXMuX3ZlcnRBdHRycyA9IGF0dHJzO1xyXG4gICAgICAgIHRoaXMuX3ZlcnRTaXplID0gMDtcclxuICAgICAgICBmb3IgKGNvbnN0IGEgb2YgdGhpcy5fdmVydEF0dHJzKSB7XHJcbiAgICAgICAgICAgIChhIGFzIGFueSkub2Zmc2V0ID0gdGhpcy5fdmVydFNpemU7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRTaXplICs9IEdGWEZvcm1hdEluZm9zW2EuZm9ybWF0XS5zaXplO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl92ZXJ0QXR0cnNGbG9hdENvdW50ID0gdGhpcy5fdmVydFNpemUgLyA0OyAvLyBudW1iZXIgb2YgZmxvYXRcclxuICAgICAgICAvLyByZWJ1aWRcclxuICAgICAgICB0aGlzLl92QnVmZmVyID0gdGhpcy5fY3JlYXRlU3ViTWVzaERhdGEoKTtcclxuICAgICAgICB0aGlzLl92ZGF0YUYzMiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdkJ1ZmZlcik7XHJcbiAgICAgICAgdGhpcy5fdmRhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5fdkJ1ZmZlcik7XHJcbiAgICAgICAgdGhpcy5faW5pdGVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX2NyZWF0ZVN1Yk1lc2hEYXRhICgpOiBBcnJheUJ1ZmZlciB7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95U3ViTWVzaERhdGEoKTtcclxuICAgICAgICB0aGlzLl92ZXJ0Q291bnQgPSA0O1xyXG4gICAgICAgIHRoaXMuX2luZGV4Q291bnQgPSA2O1xyXG4gICAgICAgIGlmICh0aGlzLl9tZXNoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZlcnRDb3VudCA9IHRoaXMuX21lc2guc3RydWN0LnZlcnRleEJ1bmRsZXNbdGhpcy5fbWVzaC5zdHJ1Y3QucHJpbWl0aXZlc1swXS52ZXJ0ZXhCdW5kZWxJbmRpY2VzWzBdXS52aWV3LmNvdW50O1xyXG4gICAgICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gdGhpcy5fbWVzaC5zdHJ1Y3QucHJpbWl0aXZlc1swXS5pbmRleFZpZXchLmNvdW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLl9kZXZpY2UuY3JlYXRlQnVmZmVyKHtcclxuICAgICAgICAgICAgdXNhZ2U6IEdGWEJ1ZmZlclVzYWdlQml0LlZFUlRFWCB8IEdGWEJ1ZmZlclVzYWdlQml0LlRSQU5TRkVSX0RTVCxcclxuICAgICAgICAgICAgbWVtVXNhZ2U6IEdGWE1lbW9yeVVzYWdlQml0LkhPU1QgfCBHRlhNZW1vcnlVc2FnZUJpdC5ERVZJQ0UsXHJcbiAgICAgICAgICAgIHNpemU6IHRoaXMuX3ZlcnRTaXplICogdGhpcy5fY2FwYWNpdHkgKiB0aGlzLl92ZXJ0Q291bnQsXHJcbiAgICAgICAgICAgIHN0cmlkZTogdGhpcy5fdmVydFNpemUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgdkJ1ZmZlcjogQXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5fdmVydFNpemUgKiB0aGlzLl9jYXBhY2l0eSAqIHRoaXMuX3ZlcnRDb3VudCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX21lc2gpIHtcclxuICAgICAgICAgICAgbGV0IHZJZHggPSB0aGlzLl92ZXJ0QXR0cnMhLmZpbmRJbmRleCgodmFsKSA9PiB2YWwubmFtZSA9PT0gR0ZYQXR0cmlidXRlTmFtZS5BVFRSX1RFWF9DT09SRDMpO1xyXG4gICAgICAgICAgICBsZXQgdk9mZnNldCA9ICh0aGlzLl92ZXJ0QXR0cnMhW3ZJZHgrK10gYXMgYW55KS5vZmZzZXQ7XHJcbiAgICAgICAgICAgIHRoaXMuX21lc2guY29weUF0dHJpYnV0ZSgwLCBHRlhBdHRyaWJ1dGVOYW1lLkFUVFJfUE9TSVRJT04sIHZCdWZmZXIsIHRoaXMuX3ZlcnRTaXplLCB2T2Zmc2V0KTsgIC8vIGNvcHkgbWVzaCBwb3NpdGlvbiB0byBBVFRSX1RFWF9DT09SRDNcclxuICAgICAgICAgICAgdk9mZnNldCA9ICh0aGlzLl92ZXJ0QXR0cnMhW3ZJZHgrK10gYXMgYW55KS5vZmZzZXQ7XHJcbiAgICAgICAgICAgIHRoaXMuX21lc2guY29weUF0dHJpYnV0ZSgwLCBHRlhBdHRyaWJ1dGVOYW1lLkFUVFJfTk9STUFMLCB2QnVmZmVyLCB0aGlzLl92ZXJ0U2l6ZSwgdk9mZnNldCk7ICAvLyBjb3B5IG1lc2ggbm9ybWFsIHRvIEFUVFJfTk9STUFMXHJcbiAgICAgICAgICAgIHZPZmZzZXQgPSAodGhpcy5fdmVydEF0dHJzIVt0aGlzLl92ZXJ0QXR0cnMhLmZpbmRJbmRleCgodmFsKSA9PiB2YWwubmFtZSA9PT0gR0ZYQXR0cmlidXRlTmFtZS5BVFRSX1RFWF9DT09SRCldIGFzIGFueSkub2Zmc2V0O1xyXG4gICAgICAgICAgICB0aGlzLl9tZXNoLmNvcHlBdHRyaWJ1dGUoMCwgR0ZYQXR0cmlidXRlTmFtZS5BVFRSX1RFWF9DT09SRCwgdkJ1ZmZlciwgdGhpcy5fdmVydFNpemUsIHZPZmZzZXQpOyAgLy8gY29weSBtZXNoIHV2IHRvIEFUVFJfVEVYX0NPT1JEXHJcbiAgICAgICAgICAgIHZPZmZzZXQgPSAodGhpcy5fdmVydEF0dHJzIVt2SWR4KytdIGFzIGFueSkub2Zmc2V0O1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuX21lc2guY29weUF0dHJpYnV0ZSgwLCBHRlhBdHRyaWJ1dGVOYW1lLkFUVFJfQ09MT1IsIHZCdWZmZXIsIHRoaXMuX3ZlcnRTaXplLCB2T2Zmc2V0KSkgeyAgLy8gY29weSBtZXNoIGNvbG9yIHRvIEFUVFJfQ09MT1IxXHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YiA9IG5ldyBVaW50MzJBcnJheSh2QnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGlWZXJ0ZXggPSAwOyBpVmVydGV4IDwgdGhpcy5fdmVydENvdW50OyArK2lWZXJ0ZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YltpVmVydGV4ICogdGhpcy5fdmVydEF0dHJzRmxvYXRDb3VudCArIHZPZmZzZXQgLyA0XSA9IENvbG9yLldISVRFLl92YWw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdmJGbG9hdEFycmF5ID0gbmV3IEZsb2F0MzJBcnJheSh2QnVmZmVyKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLl9jYXBhY2l0eTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YkZsb2F0QXJyYXkuY29weVdpdGhpbihpICogdGhpcy5fdmVydFNpemUgKiB0aGlzLl92ZXJ0Q291bnQgLyA0LCAwLCB0aGlzLl92ZXJ0U2l6ZSAqIHRoaXMuX3ZlcnRDb3VudCAvIDQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZlcnRleEJ1ZmZlci51cGRhdGUodkJ1ZmZlcik7XHJcblxyXG4gICAgICAgIGNvbnN0IGluZGljZXM6IFVpbnQxNkFycmF5ID0gbmV3IFVpbnQxNkFycmF5KHRoaXMuX2NhcGFjaXR5ICogdGhpcy5faW5kZXhDb3VudCk7XHJcbiAgICAgICAgaWYgKHRoaXMuX21lc2gpIHtcclxuICAgICAgICAgICAgdGhpcy5fbWVzaC5jb3B5SW5kaWNlcygwLCBpbmRpY2VzKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLl9jYXBhY2l0eTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMuX2luZGV4Q291bnQ7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGluZGljZXNbaSAqIHRoaXMuX2luZGV4Q291bnQgKyBqXSA9IGluZGljZXNbal0gKyBpICogdGhpcy5fdmVydENvdW50O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGV0IGRzdCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fY2FwYWNpdHk7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmFzZUlkeCA9IDQgKiBpO1xyXG4gICAgICAgICAgICAgICAgaW5kaWNlc1tkc3QrK10gPSBiYXNlSWR4O1xyXG4gICAgICAgICAgICAgICAgaW5kaWNlc1tkc3QrK10gPSBiYXNlSWR4ICsgMTtcclxuICAgICAgICAgICAgICAgIGluZGljZXNbZHN0KytdID0gYmFzZUlkeCArIDI7XHJcbiAgICAgICAgICAgICAgICBpbmRpY2VzW2RzdCsrXSA9IGJhc2VJZHggKyAzO1xyXG4gICAgICAgICAgICAgICAgaW5kaWNlc1tkc3QrK10gPSBiYXNlSWR4ICsgMjtcclxuICAgICAgICAgICAgICAgIGluZGljZXNbZHN0KytdID0gYmFzZUlkeCArIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGluZGV4QnVmZmVyOiBHRlhCdWZmZXIgPSB0aGlzLl9kZXZpY2UuY3JlYXRlQnVmZmVyKHtcclxuICAgICAgICAgICAgdXNhZ2U6IEdGWEJ1ZmZlclVzYWdlQml0LklOREVYIHwgR0ZYQnVmZmVyVXNhZ2VCaXQuVFJBTlNGRVJfRFNULFxyXG4gICAgICAgICAgICBtZW1Vc2FnZTogR0ZYTWVtb3J5VXNhZ2VCaXQuSE9TVCB8IEdGWE1lbW9yeVVzYWdlQml0LkRFVklDRSxcclxuICAgICAgICAgICAgc2l6ZTogdGhpcy5fY2FwYWNpdHkgKiB0aGlzLl9pbmRleENvdW50ICogVWludDE2QXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbiAgICAgICAgICAgIHN0cmlkZTogVWludDE2QXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZShpbmRpY2VzKTtcclxuXHJcbiAgICAgICAgdGhpcy5faWFJbmZvLmRyYXdJbmZvc1swXS52ZXJ0ZXhDb3VudCA9IHRoaXMuX2NhcGFjaXR5ICogdGhpcy5fdmVydENvdW50O1xyXG4gICAgICAgIHRoaXMuX2lhSW5mby5kcmF3SW5mb3NbMF0uaW5kZXhDb3VudCA9IHRoaXMuX2NhcGFjaXR5ICogdGhpcy5faW5kZXhDb3VudDtcclxuICAgICAgICBpZiAodGhpcy5faWFJbmZvQnVmZmVyLnN0YXR1cyA9PT0gR0ZYU3RhdHVzLlVOUkVBRFkpIHtcclxuICAgICAgICAgICAgdGhpcy5faWFJbmZvQnVmZmVyLmluaXRpYWxpemUoe1xyXG4gICAgICAgICAgICAgICAgdXNhZ2U6IEdGWEJ1ZmZlclVzYWdlQml0LklORElSRUNULFxyXG4gICAgICAgICAgICAgICAgbWVtVXNhZ2U6IEdGWE1lbW9yeVVzYWdlQml0LkhPU1QgfCBHRlhNZW1vcnlVc2FnZUJpdC5ERVZJQ0UsXHJcbiAgICAgICAgICAgICAgICBzaXplOiBHRlhfRFJBV19JTkZPX1NJWkUsXHJcbiAgICAgICAgICAgICAgICBzdHJpZGU6IDEsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9pYUluZm9CdWZmZXIudXBkYXRlKHRoaXMuX2lhSW5mbyk7XHJcblxyXG4gICAgICAgIHRoaXMuX3N1Yk1lc2hEYXRhID0gbmV3IFJlbmRlcmluZ1N1Yk1lc2goW3ZlcnRleEJ1ZmZlcl0sIHRoaXMuX3ZlcnRBdHRycyEsIEdGWFByaW1pdGl2ZU1vZGUuVFJJQU5HTEVfTElTVCk7XHJcbiAgICAgICAgdGhpcy5fc3ViTWVzaERhdGEuaW5kZXhCdWZmZXIgPSBpbmRleEJ1ZmZlcjtcclxuICAgICAgICB0aGlzLl9zdWJNZXNoRGF0YS5pbmRpcmVjdEJ1ZmZlciA9IHRoaXMuX2lhSW5mb0J1ZmZlcjtcclxuICAgICAgICB0aGlzLnNldFN1Yk1vZGVsTWVzaCgwLCB0aGlzLl9zdWJNZXNoRGF0YSEpO1xyXG4gICAgICAgIHJldHVybiB2QnVmZmVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRTdWJNb2RlbE1hdGVyaWFsIChpZHg6IG51bWJlciwgbWF0OiBNYXRlcmlhbCB8IG51bGwpIHtcclxuICAgICAgICB0aGlzLmluaXRMb2NhbEJpbmRpbmdzKG1hdCk7XHJcbiAgICAgICAgc3VwZXIuc2V0U3ViTW9kZWxNYXRlcmlhbChpZHgsIG1hdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFBhcnRpY2xlVmVydGV4RGF0YSAoaW5kZXg6IG51bWJlciwgcHZkYXRhOiBhbnlbXSkge1xyXG4gICAgICAgIGlmICghdGhpcy5fbWVzaCkge1xyXG4gICAgICAgICAgICBsZXQgb2Zmc2V0OiBudW1iZXIgPSBpbmRleCAqIHRoaXMuX3ZlcnRBdHRyc0Zsb2F0Q291bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbMF0ueDsgLy8gcG9zaXRpb25cclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVswXS55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcHZkYXRhWzBdLno7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbMV0ueDsgLy8gdXZcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVsxXS55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcHZkYXRhWzFdLno7IC8vIGZyYW1lIGlkeFxyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcHZkYXRhWzJdLng7IC8vIHNpemVcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVsyXS55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcHZkYXRhWzJdLno7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbM10ueDsgLy8gcm90YXRpb25cclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVszXS55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcHZkYXRhWzNdLno7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhVWludDMyIVtvZmZzZXQrK10gPSBwdmRhdGFbNF07IC8vIGNvbG9yXHJcbiAgICAgICAgICAgIGlmIChwdmRhdGFbNV0pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbNV0ueDsgLy8gdmVsb2NpdHlcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbNV0ueTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbNV0uejtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fdmVydENvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQ6IG51bWJlciA9IChpbmRleCAqIHRoaXMuX3ZlcnRDb3VudCArIGkpICogdGhpcy5fdmVydEF0dHJzRmxvYXRDb3VudDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbMF0ueDsgLy8gcG9zaXRpb25cclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbMF0ueTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbMF0uejtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSAyO1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgLy8gdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVsxXS55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVsxXS56OyAvLyBmcmFtZSBpZHhcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwdmRhdGFbMl0ueDsgLy8gc2l6ZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVsyXS55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVsyXS56O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVszXS54OyAvLyByb3RhdGlvblxyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVszXS55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHB2ZGF0YVszXS56O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFVaW50MzIhW29mZnNldCsrXSA9IHB2ZGF0YVs0XTsgLy8gY29sb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkR1BVUGFydGljbGVWZXJ0ZXhEYXRhIChwOiBQYXJ0aWNsZSwgbnVtOiBudW1iZXIsIHRpbWU6bnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IG9mZnNldCA9IG51bSAqIHRoaXMuX3ZlcnRBdHRyc0Zsb2F0Q291bnQgKiB0aGlzLl92ZXJ0Q291bnQ7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl92ZXJ0Q291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgaWR4ID0gb2Zmc2V0O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbaWR4KytdID0gcC5wb3NpdGlvbi54O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbaWR4KytdID0gcC5wb3NpdGlvbi55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbaWR4KytdID0gcC5wb3NpdGlvbi56O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbaWR4KytdID0gdGltZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnN0YXJ0U2l6ZS54O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbaWR4KytdID0gcC5zdGFydFNpemUueTtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW2lkeCsrXSA9IHAuc3RhcnRTaXplLno7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBfdXZzWzIgKiBpXTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnJvdGF0aW9uLng7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnJvdGF0aW9uLnk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnJvdGF0aW9uLno7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBfdXZzWzIgKiBpICsgMV07XHJcblxyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbaWR4KytdID0gcC5zdGFydENvbG9yLnIgLyAyNTUuMDtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW2lkeCsrXSA9IHAuc3RhcnRDb2xvci5nIC8gMjU1LjA7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnN0YXJ0Q29sb3IuYiAvIDI1NS4wO1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbaWR4KytdID0gcC5zdGFydENvbG9yLmEgLyAyNTUuMDtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnZlbG9jaXR5Lng7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnZlbG9jaXR5Lnk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnZlbG9jaXR5Lno7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtpZHgrK10gPSBwLnN0YXJ0TGlmZXRpbWU7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbaWR4KytdID0gcC5yYW5kb21TZWVkO1xyXG5cclxuICAgICAgICAgICAgb2Zmc2V0ICs9IHRoaXMuX3ZlcnRBdHRyc0Zsb2F0Q291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVHUFVQYXJ0aWNsZXMgKG51bTogbnVtYmVyLCB0aW1lOiBudW1iZXIsIGR0OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBwU2l6ZSA9IHRoaXMuX3ZlcnRBdHRyc0Zsb2F0Q291bnQgKiB0aGlzLl92ZXJ0Q291bnQ7XHJcbiAgICAgICAgbGV0IHBCYXNlSW5kZXggPSAwO1xyXG4gICAgICAgIGxldCBzdGFydFRpbWUgPSAwO1xyXG4gICAgICAgIGxldCBsaWZlVGltZSA9IDA7XHJcbiAgICAgICAgbGV0IGxhc3RCYXNlSW5kZXggPSAwO1xyXG4gICAgICAgIGxldCBpbnRlcnZhbCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW07ICsraSkge1xyXG4gICAgICAgICAgICBwQmFzZUluZGV4ID0gaSAqIHBTaXplO1xyXG4gICAgICAgICAgICBzdGFydFRpbWUgPSB0aGlzLl92ZGF0YUYzMiFbcEJhc2VJbmRleCArIHRoaXMuX3N0YXJ0VGltZU9mZnNldF07XHJcbiAgICAgICAgICAgIGxpZmVUaW1lID0gdGhpcy5fdmRhdGFGMzIhW3BCYXNlSW5kZXggKyB0aGlzLl9saWZlVGltZU9mZnNldF07XHJcbiAgICAgICAgICAgIGludGVydmFsID0gdGltZSAtIHN0YXJ0VGltZTtcclxuICAgICAgICAgICAgaWYgKGxpZmVUaW1lIC0gaW50ZXJ2YWwgPCBkdCkge1xyXG4gICAgICAgICAgICAgICAgbGFzdEJhc2VJbmRleCA9IC0tIG51bSAqIHBTaXplO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhLmNvcHlXaXRoaW4ocEJhc2VJbmRleCwgbGFzdEJhc2VJbmRleCwgbGFzdEJhc2VJbmRleCArIHBTaXplKTtcclxuICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG51bTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0QXR0cmlidXRlSW5kZXggKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5fdmVydEF0dHJzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHZJZHggPSB0aGlzLl92ZXJ0QXR0cnMhLmZpbmRJbmRleCgodmFsKSA9PiB2YWwubmFtZSA9PT0gJ2FfcG9zaXRpb25fc3RhcnR0aW1lJyk7XHJcbiAgICAgICAgbGV0IHZPZmZzZXQgPSAodGhpcy5fdmVydEF0dHJzIVt2SWR4XSBhcyBhbnkpLm9mZnNldDtcclxuICAgICAgICB0aGlzLl9zdGFydFRpbWVPZmZzZXQgPSB2T2Zmc2V0IC8gNCArIDM7XHJcbiAgICAgICAgdklkeCA9IHRoaXMuX3ZlcnRBdHRycyEuZmluZEluZGV4KCh2YWwpID0+IHZhbC5uYW1lID09PSAnYV9kaXJfbGlmZScpO1xyXG4gICAgICAgIHZPZmZzZXQgPSAodGhpcy5fdmVydEF0dHJzIVt2SWR4XSBhcyBhbnkpLm9mZnNldDtcclxuICAgICAgICB0aGlzLl9saWZlVGltZU9mZnNldCA9IHZPZmZzZXQgLyA0ICsgMztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlSUEgKGNvdW50OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBpYSA9IHRoaXMuZ2V0U3ViTW9kZWwoMCkuaW5wdXRBc3NlbWJsZXIhO1xyXG4gICAgICAgIGlhLnZlcnRleEJ1ZmZlcnNbMF0udXBkYXRlKHRoaXMuX3ZkYXRhRjMyISk7XHJcbiAgICAgICAgaWEuaW5kZXhDb3VudCA9IHRoaXMuX2luZGV4Q291bnQgKiBjb3VudDtcclxuICAgICAgICB0aGlzLl9pYUluZm8uZHJhd0luZm9zWzBdID0gaWE7XHJcbiAgICAgICAgdGhpcy5faWFJbmZvQnVmZmVyLnVwZGF0ZSh0aGlzLl9pYUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGVhciAoKSB7XHJcbiAgICAgICAgdGhpcy5nZXRTdWJNb2RlbCgwKS5pbnB1dEFzc2VtYmxlciEuaW5kZXhDb3VudCA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3kgKCkge1xyXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcclxuICAgICAgICB0aGlzLl92QnVmZmVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLl92ZGF0YUYzMiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5kZXN0cm95U3ViTWVzaERhdGEoKTtcclxuICAgICAgICB0aGlzLl9pYUluZm9CdWZmZXIuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3JlY3JlYXRlQnVmZmVyICgpIHtcclxuICAgICAgICB0aGlzLl92QnVmZmVyID0gdGhpcy5fY3JlYXRlU3ViTWVzaERhdGEoKTtcclxuICAgICAgICB0aGlzLmdldFN1Yk1vZGVsKDApLnVwZGF0ZUNvbW1hbmRCdWZmZXIoKTtcclxuICAgICAgICB0aGlzLl92ZGF0YUYzMiA9IG5ldyBGbG9hdDMyQXJyYXkodGhpcy5fdkJ1ZmZlcik7XHJcbiAgICAgICAgdGhpcy5fdmRhdGFVaW50MzIgPSBuZXcgVWludDMyQXJyYXkodGhpcy5fdkJ1ZmZlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkZXN0cm95U3ViTWVzaERhdGEgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9zdWJNZXNoRGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJNZXNoRGF0YS5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3N1Yk1lc2hEYXRhID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIl19