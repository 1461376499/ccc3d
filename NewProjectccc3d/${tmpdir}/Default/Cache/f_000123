(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../../core/assets/index.js", "../../../core/components/component.js", "../../../core/utils/index.js", "../../../core/math/index.js", "../../components/index.js", "../../../core/load-pipeline/index.js", "../../../core/platform/debug.js", "../../../core/default-constants.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../../core/assets/index.js"), require("../../../core/components/component.js"), require("../../../core/utils/index.js"), require("../../../core/math/index.js"), require("../../components/index.js"), require("../../../core/load-pipeline/index.js"), require("../../../core/platform/debug.js"), require("../../../core/default-constants.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.index, global.component, global.index, global.index, global.index, global.index, global.debug, global.defaultConstants);
    global.ttfUtils = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _index, _component, _index2, _index3, _index4, _index5, _debug, _defaultConstants) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.ttfUtils = void 0;

  function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  var Overflow = _index4.LabelComponent.Overflow;

  var WHITE = _index3.Color.WHITE.clone();

  var OUTLINE_SUPPORTED = _index2.js.isChildClassOf(_index4.LabelOutlineComponent, _component.Component);

  var _context = null;
  var _canvas = null;
  var _texture = null;
  var _fontDesc = '';
  var _string = '';
  var _fontSize = 0;
  var _drawFontsize = 0;
  var _splitedStrings = [];

  var _canvasSize = new _index3.Size();

  var _lineHeight = 0;
  var _hAlign = 0;
  var _vAlign = 0;

  var _color = new _index3.Color();

  var _fontFamily = '';
  var _overflow = Overflow.NONE;
  var _isWrapText = false; // outline

  var _isOutlined = false;

  var _outlineColor = new _index3.Color();

  var _outlineWidth = 0;
  var _margin = 0;
  var _isBold = false;
  var _isItalic = false;
  var _isUnderline = false;
  var ttfUtils = {
    getAssemblerData: function getAssemblerData() {
      var sharedLabelData = _index4.LabelComponent._canvasPool.get();

      sharedLabelData.canvas.width = sharedLabelData.canvas.height = 1;
      return sharedLabelData;
    },
    resetAssemblerData: function resetAssemblerData(assemblerData) {
      if (assemblerData) {
        _index4.LabelComponent._canvasPool.put(assemblerData);
      }
    },
    updateRenderData: function updateRenderData(comp) {
      if (!comp.renderData || !comp.renderData.vertDirty) {
        return;
      }

      this._updateFontFamly(comp);

      this._updateProperties(comp);

      this._calculateLabelFont();

      this._calculateSplitedStrings();

      this._updateLabelDimensions();

      this._calculateTextBaseline();

      this._updateTexture();

      comp.actualFontSize = _fontSize;
      comp.node.setContentSize(_canvasSize);
      this.updateVerts(comp);
      comp.markForUpdateRenderData(false);
      _context = null;
      _canvas = null;
      _texture = null;
    },
    updateVerts: function updateVerts(comp) {},
    _updateFontFamly: function _updateFontFamly(comp) {
      if (!comp.useSystemFont) {
        if (comp.font) {
          if (comp.font._nativeAsset) {
            _fontFamily = comp.font._nativeAsset;
          } else {
            _index5.loader.load(comp.font.nativeUrl, function (err, fontFamily) {
              _fontFamily = fontFamily || 'Arial';
              comp.updateRenderData(true);
            });
          }
        } else {
          _fontFamily = 'Arial';
        }
      } else {
        _fontFamily = comp.fontFamily;
      }
    },
    _updateProperties: function _updateProperties(comp) {
      var assemblerData = comp.assemblerData;

      if (!assemblerData) {
        return;
      }

      _context = assemblerData.context;
      _canvas = assemblerData.canvas;
      _texture = comp.spriteFrame;
      _string = comp.string.toString();
      _fontSize = comp.fontSize;
      _drawFontsize = _fontSize;
      _overflow = comp.overflow;
      _canvasSize.width = comp.node.width;
      _canvasSize.height = comp.node.height;
      _lineHeight = comp.lineHeight;
      _hAlign = comp.horizontalAlign;
      _vAlign = comp.verticalAlign;
      _color = comp.color;
      _isBold = comp.isBold;
      _isItalic = comp.isItalic;
      _isUnderline = comp.isUnderline;

      if (_overflow === Overflow.NONE) {
        _isWrapText = false;
      } else if (_overflow === Overflow.RESIZE_HEIGHT) {
        _isWrapText = true;
      } else {
        _isWrapText = comp.enableWrapText;
      } // outline


      var outline = OUTLINE_SUPPORTED && comp.getComponent(_index4.LabelOutlineComponent);

      if (outline && outline.enabled) {
        _isOutlined = true;
        _margin = _outlineWidth = outline.width;

        _outlineColor.set(outline.color); // TODO: temporary solution, cascade opacity for outline color


        _outlineColor.a = _outlineColor.a * comp.color.a / 255.0;
      } else {
        _isOutlined = false;
        _margin = 0;
      }
    },
    _calculateFillTextStartPosition: function _calculateFillTextStartPosition() {
      var lineHeight = this._getLineHeight();

      var lineCount = _splitedStrings.length;
      var labelX;
      var firstLinelabelY;

      if (_hAlign === _index4.HorizontalTextAlignment.RIGHT) {
        labelX = _canvasSize.width - _margin;
      } else if (_hAlign === _index4.HorizontalTextAlignment.CENTER) {
        labelX = _canvasSize.width / 2;
      } else {
        labelX = 0 + _margin;
      }

      if (_vAlign === _index4.VerticalTextAlignment.TOP) {
        firstLinelabelY = _fontSize * (_index2.BASELINE_RATIO / 2);

        if (_defaultConstants.RUNTIME_BASED || _defaultConstants.MINIGAME) {
          firstLinelabelY = 0;
        }
      } else if (_vAlign === _index4.VerticalTextAlignment.CENTER) {
        firstLinelabelY = _canvasSize.height / 2 - lineHeight * (lineCount - 1) / 2;
      } else {
        firstLinelabelY = _canvasSize.height - lineHeight * (lineCount - 1);
      }

      return new _index3.Vec2(labelX, firstLinelabelY);
    },
    _updateTexture: function _updateTexture() {
      if (!_context || !_canvas) {
        return;
      }

      _context.clearRect(0, 0, _canvas.width, _canvas.height);

      _context.font = _fontDesc;

      var startPosition = this._calculateFillTextStartPosition();

      var lineHeight = this._getLineHeight(); // use round for line join to avoid sharp intersect point


      _context.lineJoin = 'round';
      _context.fillStyle = "rgba(".concat(_color.r, ", ").concat(_color.g, ", ").concat(_color.b, ", ").concat(_color.a / 255, ")");
      var underlineStartPosition; // do real rendering

      for (var i = 0; i < _splitedStrings.length; ++i) {
        if (_isOutlined) {
          var strokeColor = _outlineColor || WHITE;
          _context.strokeStyle = "rgba(".concat(strokeColor.r, ", ").concat(strokeColor.g, ", ").concat(strokeColor.b, ", ").concat(strokeColor.a / 255, ")");
          _context.lineWidth = _outlineWidth * 2;

          _context.strokeText(_splitedStrings[i], startPosition.x, startPosition.y + i * lineHeight);
        }

        _context.fillText(_splitedStrings[i], startPosition.x, startPosition.y + i * lineHeight);

        if (_isUnderline) {
          underlineStartPosition = this._calculateUnderlineStartPosition();

          _context.save();

          _context.beginPath();

          _context.lineWidth = _fontSize / 8;
          _context.strokeStyle = "rgba(".concat(_color.r, ", ").concat(_color.g, ", ").concat(_color.b, ", ").concat(_color.a / 255, ")");

          _context.moveTo(underlineStartPosition.x, underlineStartPosition.y + i * lineHeight - 1);

          _context.lineTo(underlineStartPosition.x + _canvas.width, underlineStartPosition.y + i * lineHeight - 1);

          _context.stroke();

          _context.restore();
        }
      } // _texture.handleLoadedTexture();


      if (_texture) {
        var tex;

        if (_texture instanceof _index.SpriteFrame) {
          tex = _texture.texture;
        } else {
          tex = _texture;
        }

        var uploadAgain = _canvas.width === 0 || _canvas.height === 0;
        tex.reset({
          width: _canvas.width,
          height: _canvas.height,
          mipmapLevel: uploadAgain ? 0 : 1
        });

        if (!uploadAgain) {
          tex.uploadData(_canvas);
        }
      }
    },
    _calculateUnderlineStartPosition: function _calculateUnderlineStartPosition() {
      var lineHeight = this._getLineHeight();

      var lineCount = _splitedStrings.length;
      var labelX;
      var firstLinelabelY;
      labelX = 0 + _margin;

      if (_vAlign === _index4.VerticalTextAlignment.TOP) {
        firstLinelabelY = _fontSize;
      } else if (_vAlign === _index4.VerticalTextAlignment.CENTER) {
        firstLinelabelY = _canvasSize.height / 2 - lineHeight * (lineCount - 1) / 2 + _fontSize / 2;
      } else {
        firstLinelabelY = _canvasSize.height - lineHeight * (lineCount - 1);
      }

      return new _index3.Vec2(labelX, firstLinelabelY);
    },
    _updateLabelDimensions: function _updateLabelDimensions() {
      if (!_context) {
        return;
      }

      var paragraphedStrings = _string.split('\n');

      if (_overflow === Overflow.RESIZE_HEIGHT) {
        _canvasSize.height = (_splitedStrings.length + _index2.BASELINE_RATIO) * this._getLineHeight();
      } else if (_overflow === Overflow.NONE) {
        _splitedStrings = paragraphedStrings;
        var canvasSizeX = 0;
        var canvasSizeY = 0;

        var _iterator = _createForOfIteratorHelper(paragraphedStrings),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var para = _step.value;
            var paraLength = (0, _index2.safeMeasureText)(_context, para);
            canvasSizeX = canvasSizeX > paraLength ? canvasSizeX : paraLength;
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }

        canvasSizeY = (_splitedStrings.length + _index2.BASELINE_RATIO) * this._getLineHeight();
        _canvasSize.width = parseFloat(canvasSizeX.toFixed(2)) + 2 * _margin;
        _canvasSize.height = parseFloat(canvasSizeY.toFixed(2));

        if (_isItalic) {
          // 0.0174532925 = 3.141592653 / 180
          _canvasSize.width += _drawFontsize * Math.tan(12 * 0.0174532925);
        }
      }

      if (!_canvas) {
        return;
      }

      _canvas.width = _canvasSize.width;
      _canvas.height = _canvasSize.height;
    },
    _calculateTextBaseline: function _calculateTextBaseline() {
      // let node = this._node;
      var hAlign;
      var vAlign;

      if (_hAlign === _index4.HorizontalTextAlignment.RIGHT) {
        hAlign = 'right';
      } else if (_hAlign === _index4.HorizontalTextAlignment.CENTER) {
        hAlign = 'center';
      } else {
        hAlign = 'left';
      }

      if (_vAlign === _index4.VerticalTextAlignment.TOP) {
        vAlign = 'top';
      } else if (_vAlign === _index4.VerticalTextAlignment.CENTER) {
        vAlign = 'middle';
      } else {
        vAlign = 'bottom';
      }

      if (_context) {
        _context.textAlign = hAlign;
        _context.textBaseline = vAlign;
      }
    },
    _calculateSplitedStrings: function _calculateSplitedStrings() {
      if (!_context) {
        return;
      }

      var paragraphedStrings = _string.split('\n');

      if (_isWrapText) {
        _splitedStrings = [];
        var canvasWidthNoMargin = _canvasSize.width - 2 * _margin;

        var _iterator2 = _createForOfIteratorHelper(paragraphedStrings),
            _step2;

        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var para = _step2.value;
            var allWidth = (0, _index2.safeMeasureText)(_context, para);
            var textFragment = (0, _index2.fragmentText)(para, allWidth, canvasWidthNoMargin, this._measureText(_context));
            _splitedStrings = _splitedStrings.concat(textFragment);
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
      } else {
        _splitedStrings = paragraphedStrings;
      }
    },
    _getFontDesc: function _getFontDesc() {
      var fontDesc = _fontSize.toString() + 'px ';
      fontDesc = fontDesc + _fontFamily;

      if (_isBold) {
        fontDesc = 'bold ' + fontDesc;
      }

      if (_isItalic) {
        fontDesc = 'italic ' + fontDesc;
      }

      return fontDesc;
    },
    _getLineHeight: function _getLineHeight() {
      var nodeSpacingY = _lineHeight;

      if (nodeSpacingY === 0) {
        nodeSpacingY = _fontSize;
      } else {
        nodeSpacingY = nodeSpacingY * _fontSize / _drawFontsize;
      }

      return nodeSpacingY | 0;
    },
    _calculateParagraphLength: function _calculateParagraphLength(paragraphedStrings, ctx) {
      var paragraphLength = [];

      var _iterator3 = _createForOfIteratorHelper(paragraphedStrings),
          _step3;

      try {
        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
          var para = _step3.value;
          var width = (0, _index2.safeMeasureText)(ctx, para);
          paragraphLength.push(width);
        }
      } catch (err) {
        _iterator3.e(err);
      } finally {
        _iterator3.f();
      }

      return paragraphLength;
    },
    _measureText: function _measureText(ctx) {
      return function (string) {
        return (0, _index2.safeMeasureText)(ctx, string);
      };
    },
    _calculateLabelFont: function _calculateLabelFont() {
      if (!_context) {
        return;
      }

      _fontDesc = this._getFontDesc();
      _context.font = _fontDesc;

      if (_overflow === Overflow.SHRINK) {
        var paragraphedStrings = _string.split('\n');

        var paragraphLength = this._calculateParagraphLength(paragraphedStrings, _context);

        _splitedStrings = paragraphedStrings;
        var i = 0;
        var totalHeight = 0;
        var maxLength = 0;

        if (_isWrapText) {
          var canvasWidthNoMargin = _canvasSize.width - 2 * _margin;
          var canvasHeightNoMargin = _canvasSize.height - 2 * _margin;

          if (canvasWidthNoMargin < 0 || canvasHeightNoMargin < 0) {
            _fontDesc = this._getFontDesc();
            _context.font = _fontDesc;
            return;
          }

          totalHeight = canvasHeightNoMargin + 1;
          maxLength = canvasWidthNoMargin + 1;
          var actualFontSize = _fontSize + 1;
          var textFragment = [];
          var tryDivideByTwo = true;
          var startShrinkFontSize = actualFontSize | 0;

          while (totalHeight > canvasHeightNoMargin || maxLength > canvasWidthNoMargin) {
            if (tryDivideByTwo) {
              actualFontSize = startShrinkFontSize / 2 | 0;
            } else {
              actualFontSize = startShrinkFontSize - 1;
              startShrinkFontSize = actualFontSize;
            }

            if (actualFontSize <= 0) {
              (0, _debug.logID)(4003);
              break;
            }

            _fontSize = actualFontSize;
            _fontDesc = this._getFontDesc();
            _context.font = _fontDesc;
            _splitedStrings = [];
            totalHeight = 0;

            for (i = 0; i < paragraphedStrings.length; ++i) {
              var j = 0;
              var allWidth = (0, _index2.safeMeasureText)(_context, paragraphedStrings[i]);
              textFragment = (0, _index2.fragmentText)(paragraphedStrings[i], allWidth, canvasWidthNoMargin, this._measureText(_context));

              while (j < textFragment.length) {
                var measureWidth = (0, _index2.safeMeasureText)(_context, textFragment[j]);
                maxLength = measureWidth;
                totalHeight += this._getLineHeight();
                ++j;
              }

              _splitedStrings = _splitedStrings.concat(textFragment);
            }

            if (tryDivideByTwo) {
              if (totalHeight > canvasHeightNoMargin) {
                startShrinkFontSize = actualFontSize | 0;
              } else {
                tryDivideByTwo = false;
                totalHeight = canvasHeightNoMargin + 1;
              }
            }
          }
        } else {
          totalHeight = paragraphedStrings.length * this._getLineHeight();

          for (i = 0; i < paragraphedStrings.length; ++i) {
            if (maxLength < paragraphLength[i]) {
              maxLength = paragraphLength[i];
            }
          }

          var scaleX = (_canvasSize.width - 2 * _margin) / maxLength;
          var scaleY = _canvasSize.height / totalHeight;
          _fontSize = _drawFontsize * Math.min(1, scaleX, scaleY) | 0;
          _fontDesc = this._getFontDesc();
          _context.font = _fontDesc;
        }
      }
    }
  };
  _exports.ttfUtils = ttfUtils;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvdWkvYXNzZW1ibGVyL2xhYmVsL3R0ZlV0aWxzLnRzIl0sIm5hbWVzIjpbIk92ZXJmbG93IiwiTGFiZWxDb21wb25lbnQiLCJXSElURSIsIkNvbG9yIiwiY2xvbmUiLCJPVVRMSU5FX1NVUFBPUlRFRCIsImpzIiwiaXNDaGlsZENsYXNzT2YiLCJMYWJlbE91dGxpbmVDb21wb25lbnQiLCJDb21wb25lbnQiLCJfY29udGV4dCIsIl9jYW52YXMiLCJfdGV4dHVyZSIsIl9mb250RGVzYyIsIl9zdHJpbmciLCJfZm9udFNpemUiLCJfZHJhd0ZvbnRzaXplIiwiX3NwbGl0ZWRTdHJpbmdzIiwiX2NhbnZhc1NpemUiLCJTaXplIiwiX2xpbmVIZWlnaHQiLCJfaEFsaWduIiwiX3ZBbGlnbiIsIl9jb2xvciIsIl9mb250RmFtaWx5IiwiX292ZXJmbG93IiwiTk9ORSIsIl9pc1dyYXBUZXh0IiwiX2lzT3V0bGluZWQiLCJfb3V0bGluZUNvbG9yIiwiX291dGxpbmVXaWR0aCIsIl9tYXJnaW4iLCJfaXNCb2xkIiwiX2lzSXRhbGljIiwiX2lzVW5kZXJsaW5lIiwidHRmVXRpbHMiLCJnZXRBc3NlbWJsZXJEYXRhIiwic2hhcmVkTGFiZWxEYXRhIiwiX2NhbnZhc1Bvb2wiLCJnZXQiLCJjYW52YXMiLCJ3aWR0aCIsImhlaWdodCIsInJlc2V0QXNzZW1ibGVyRGF0YSIsImFzc2VtYmxlckRhdGEiLCJwdXQiLCJ1cGRhdGVSZW5kZXJEYXRhIiwiY29tcCIsInJlbmRlckRhdGEiLCJ2ZXJ0RGlydHkiLCJfdXBkYXRlRm9udEZhbWx5IiwiX3VwZGF0ZVByb3BlcnRpZXMiLCJfY2FsY3VsYXRlTGFiZWxGb250IiwiX2NhbGN1bGF0ZVNwbGl0ZWRTdHJpbmdzIiwiX3VwZGF0ZUxhYmVsRGltZW5zaW9ucyIsIl9jYWxjdWxhdGVUZXh0QmFzZWxpbmUiLCJfdXBkYXRlVGV4dHVyZSIsImFjdHVhbEZvbnRTaXplIiwibm9kZSIsInNldENvbnRlbnRTaXplIiwidXBkYXRlVmVydHMiLCJtYXJrRm9yVXBkYXRlUmVuZGVyRGF0YSIsInVzZVN5c3RlbUZvbnQiLCJmb250IiwiX25hdGl2ZUFzc2V0IiwibG9hZGVyIiwibG9hZCIsIm5hdGl2ZVVybCIsImVyciIsImZvbnRGYW1pbHkiLCJjb250ZXh0Iiwic3ByaXRlRnJhbWUiLCJzdHJpbmciLCJ0b1N0cmluZyIsImZvbnRTaXplIiwib3ZlcmZsb3ciLCJsaW5lSGVpZ2h0IiwiaG9yaXpvbnRhbEFsaWduIiwidmVydGljYWxBbGlnbiIsImNvbG9yIiwiaXNCb2xkIiwiaXNJdGFsaWMiLCJpc1VuZGVybGluZSIsIlJFU0laRV9IRUlHSFQiLCJlbmFibGVXcmFwVGV4dCIsIm91dGxpbmUiLCJnZXRDb21wb25lbnQiLCJlbmFibGVkIiwic2V0IiwiYSIsIl9jYWxjdWxhdGVGaWxsVGV4dFN0YXJ0UG9zaXRpb24iLCJfZ2V0TGluZUhlaWdodCIsImxpbmVDb3VudCIsImxlbmd0aCIsImxhYmVsWCIsImZpcnN0TGluZWxhYmVsWSIsIkhvcml6b250YWxUZXh0QWxpZ25tZW50IiwiUklHSFQiLCJDRU5URVIiLCJWZXJ0aWNhbFRleHRBbGlnbm1lbnQiLCJUT1AiLCJCQVNFTElORV9SQVRJTyIsIlJVTlRJTUVfQkFTRUQiLCJNSU5JR0FNRSIsIlZlYzIiLCJjbGVhclJlY3QiLCJzdGFydFBvc2l0aW9uIiwibGluZUpvaW4iLCJmaWxsU3R5bGUiLCJyIiwiZyIsImIiLCJ1bmRlcmxpbmVTdGFydFBvc2l0aW9uIiwiaSIsInN0cm9rZUNvbG9yIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2VUZXh0IiwieCIsInkiLCJmaWxsVGV4dCIsIl9jYWxjdWxhdGVVbmRlcmxpbmVTdGFydFBvc2l0aW9uIiwic2F2ZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInJlc3RvcmUiLCJ0ZXgiLCJTcHJpdGVGcmFtZSIsInRleHR1cmUiLCJ1cGxvYWRBZ2FpbiIsInJlc2V0IiwibWlwbWFwTGV2ZWwiLCJ1cGxvYWREYXRhIiwicGFyYWdyYXBoZWRTdHJpbmdzIiwic3BsaXQiLCJjYW52YXNTaXplWCIsImNhbnZhc1NpemVZIiwicGFyYSIsInBhcmFMZW5ndGgiLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsIk1hdGgiLCJ0YW4iLCJoQWxpZ24iLCJ2QWxpZ24iLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJjYW52YXNXaWR0aE5vTWFyZ2luIiwiYWxsV2lkdGgiLCJ0ZXh0RnJhZ21lbnQiLCJfbWVhc3VyZVRleHQiLCJjb25jYXQiLCJfZ2V0Rm9udERlc2MiLCJmb250RGVzYyIsIm5vZGVTcGFjaW5nWSIsIl9jYWxjdWxhdGVQYXJhZ3JhcGhMZW5ndGgiLCJjdHgiLCJwYXJhZ3JhcGhMZW5ndGgiLCJwdXNoIiwiU0hSSU5LIiwidG90YWxIZWlnaHQiLCJtYXhMZW5ndGgiLCJjYW52YXNIZWlnaHROb01hcmdpbiIsInRyeURpdmlkZUJ5VHdvIiwic3RhcnRTaHJpbmtGb250U2l6ZSIsImoiLCJtZWFzdXJlV2lkdGgiLCJzY2FsZVgiLCJzY2FsZVkiLCJtaW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBd0NBLE1BQU1BLFFBQVEsR0FBR0MsdUJBQWVELFFBQWhDOztBQUNBLE1BQU1FLEtBQUssR0FBR0MsY0FBTUQsS0FBTixDQUFZRSxLQUFaLEVBQWQ7O0FBQ0EsTUFBTUMsaUJBQWlCLEdBQUdDLFdBQUdDLGNBQUgsQ0FBa0JDLDZCQUFsQixFQUF5Q0Msb0JBQXpDLENBQTFCOztBQUVBLE1BQUlDLFFBQXlDLEdBQUcsSUFBaEQ7QUFDQSxNQUFJQyxPQUFpQyxHQUFHLElBQXhDO0FBQ0EsTUFBSUMsUUFBa0QsR0FBRyxJQUF6RDtBQUVBLE1BQUlDLFNBQVMsR0FBRyxFQUFoQjtBQUNBLE1BQUlDLE9BQU8sR0FBRyxFQUFkO0FBQ0EsTUFBSUMsU0FBUyxHQUFHLENBQWhCO0FB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bkosVUFBQUEsU0FBUyxHQUFJQyxhQUFhLEdBQUcrSCxJQUFJLENBQUM0QixHQUFMLENBQVMsQ0FBVCxFQUFZRixNQUFaLEVBQW9CQyxNQUFwQixDQUFqQixHQUFnRCxDQUE1RDtBQUNBN0osVUFBQUEsU0FBUyxHQUFHLEtBQUs2SSxZQUFMLEVBQVo7QUFDQWhKLFVBQUFBLFFBQVEsQ0FBQ3FELElBQVQsR0FBZ0JsRCxTQUFoQjtBQUNIO0FBQ0o7QUFDSjtBQTNib0IsR0FBbEIiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gQ29weXJpZ2h0IChjKSAyMDE3LTIwMTggWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuXHJcblxyXG4gaHR0cDovL3d3dy5jb2Nvcy5jb21cclxuXHJcbiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGVuZ2luZSBzb3VyY2UgY29kZSAodGhlIFwiU29mdHdhcmVcIiksIGEgbGltaXRlZCxcclxuIHdvcmxkd2lkZSwgcm95YWx0eS1mcmVlLCBub24tYXNzaWduYWJsZSwgcmV2b2NhYmxlIGFuZCBub24tZXhjbHVzaXZlIGxpY2Vuc2VcclxuIHRvIHVzZSBDb2NvcyBDcmVhdG9yIHNvbGVseSB0byBkZXZlbG9wIGdhbWVzIG9uIHlvdXIgdGFyZ2V0IHBsYXRmb3Jtcy4gWW91IHNoYWxsXHJcbiBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXHJcbiB1c2VkIGZvciBkZXZlbG9waW5nIGdhbWVzLiBZb3UgYXJlIG5vdCBncmFudGVkIHRvIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsXHJcbiBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgQ29jb3MgQ3JlYXRvci5cclxuXHJcbiBUaGUgc29mdHdhcmUgb3IgdG9vbHMgaW4gdGhpcyBMaWNlbnNlIEFncmVlbWVudCBhcmUgbGljZW5zZWQsIG5vdCBzb2xkLlxyXG4gWGlhbWVuIFlhamkgU29mdHdhcmUgQ28uLCBMdGQuIHJlc2VydmVzIGFsbCByaWdodHMgbm90IGV4cHJlc3NseSBncmFudGVkIHRvIHlvdS5cclxuXHJcbiBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcclxuIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxyXG4gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG4gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcclxuIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cclxuIFRIRSBTT0ZUV0FSRS5cclxuKi9cclxuXHJcbi8qKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHsgU3ByaXRlRnJhbWUsIFRleHR1cmUyRCB9IGZyb20gJy4uLy4uLy4uL2NvcmUvYXNzZXRzJztcclxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vY29yZS9jb21wb25lbnRzL2NvbXBvbmVudCc7XHJcbmltcG9ydCB7IGZyYWdtZW50VGV4dCwgc2FmZU1lYXN1cmVUZXh0LCBqcywgQkFTRUxJTkVfUkFUSU8gfSBmcm9tICcuLi8uLi8uLi9jb3JlL3V0aWxzJztcclxuaW1wb3J0IHsgQ29sb3IsIFNpemUsIFZlYzIgfSBmcm9tICcuLi8uLi8uLi9jb3JlL21hdGgnO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsVGV4dEFsaWdubWVudCwgTGFiZWxDb21wb25lbnQsIExhYmVsT3V0bGluZUNvbXBvbmVudCwgVmVydGljYWxUZXh0QWxpZ25tZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IENhbnZhc1Bvb2wsIElTaGFyZWRMYWJlbERhdGEgfSBmcm9tICcuL2ZvbnQtdXRpbHMnO1xyXG5pbXBvcnQgeyBMZXR0ZXJSZW5kZXJUZXh0dXJlIH0gZnJvbSAnLi9sZXR0ZXItZm9udCc7XHJcbmltcG9ydCB7IGxvYWRlciB9IGZyb20gJy4uLy4uLy4uL2NvcmUvbG9hZC1waXBlbGluZSc7XHJcbmltcG9ydCB7IGxvZ0lEIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9wbGF0Zm9ybS9kZWJ1Zyc7XHJcbmltcG9ydCB7IFJVTlRJTUVfQkFTRUQsIE1JTklHQU1FIH0gZnJvbSAnaW50ZXJuYWw6Y29uc3RhbnRzJztcclxuXHJcbmNvbnN0IE92ZXJmbG93ID0gTGFiZWxDb21wb25lbnQuT3ZlcmZsb3c7XHJcbmNvbnN0IFdISVRFID0gQ29sb3IuV0hJVEUuY2xvbmUoKTtcclxuY29uc3QgT1VUTElORV9TVVBQT1JURUQgPSBqcy5pc0NoaWxkQ2xhc3NPZihMYWJlbE91dGxpbmVDb21wb25lbnQsIENvbXBvbmVudCk7XHJcblxyXG5sZXQgX2NvbnRleHQ6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwgPSBudWxsO1xyXG5sZXQgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQgfCBudWxsID0gbnVsbDtcclxubGV0IF90ZXh0dXJlOiBTcHJpdGVGcmFtZSB8IExldHRlclJlbmRlclRleHR1cmUgfCBudWxsID0gbnVsbDtcclxuXHJcbmxldCBfZm9udERlc2MgPSAnJztcclxubGV0IF9zdHJpbmcgPSAnJztcclxubGV0IF9mb250U2l6ZSA9IDA7XHJcbmxldCBfZHJhd0ZvbnRzaXplID0gMDtcclxubGV0IF9zcGxpdGVkU3RyaW5nczogc3RyaW5nW10gPSBbXTtcclxuY29uc3QgX2NhbnZhc1NpemUgPSBuZXcgU2l6ZSgpO1xyXG5sZXQgX2xpbmVIZWlnaHQgPSAwO1xyXG5sZXQgX2hBbGlnbiA9IDA7XHJcbmxldCBfdkFsaWduID0gMDtcclxubGV0IF9jb2xvciA9IG5ldyBDb2xvcigpO1xyXG5sZXQgX2ZvbnRGYW1pbHkgPSAnJztcclxubGV0IF9vdmVyZmxvdyA9IE92ZXJmbG93Lk5PTkU7XHJcbmxldCBfaXNXcmFwVGV4dCA9IGZhbHNlO1xyXG5cclxuLy8gb3V0bGluZVxyXG5sZXQgX2lzT3V0bGluZWQgPSBmYWxzZTtcclxubGV0IF9vdXRsaW5lQ29sb3IgPSBuZXcgQ29sb3IoKTtcclxubGV0IF9vdXRsaW5lV2lkdGggPSAwO1xyXG5sZXQgX21hcmdpbiA9IDA7XHJcblxyXG5sZXQgX2lzQm9sZCA9IGZhbHNlO1xyXG5sZXQgX2lzSXRhbGljID0gZmFsc2U7XHJcbmxldCBfaXNVbmRlcmxpbmUgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBjb25zdCB0dGZVdGlscyA9ICB7XHJcbiAgICBnZXRBc3NlbWJsZXJEYXRhICgpIHtcclxuICAgICAgICBjb25zdCBzaGFyZWRMYWJlbERhdGEgPSBMYWJlbENvbXBvbmVudC5fY2FudmFzUG9vbC5nZXQoKTtcclxuICAgICAgICBzaGFyZWRMYWJlbERhdGEuY2FudmFzLndpZHRoID0gc2hhcmVkTGFiZWxEYXRhLmNhbnZhcy5oZWlnaHQgPSAxO1xyXG4gICAgICAgIHJldHVybiBzaGFyZWRMYWJlbERhdGE7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlc2V0QXNzZW1ibGVyRGF0YSAoYXNzZW1ibGVyRGF0YTogSVNoYXJlZExhYmVsRGF0YSkge1xyXG4gICAgICAgIGlmIChhc3NlbWJsZXJEYXRhKSB7XHJcbiAgICAgICAgICAgIExhYmVsQ29tcG9uZW50Ll9jYW52YXNQb29sLnB1dChhc3NlbWJsZXJEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZVJlbmRlckRhdGEgKGNvbXA6IExhYmVsQ29tcG9uZW50KSB7XHJcbiAgICAgICAgaWYgKCFjb21wLnJlbmRlckRhdGEgfHwgIWNvbXAucmVuZGVyRGF0YS52ZXJ0RGlydHkpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgICAgIHRoaXMuX3VwZGF0ZUZvbnRGYW1seShjb21wKTtcclxuICAgICAgICB0aGlzLl91cGRhdGVQcm9wZXJ0aWVzKGNvbXApO1xyXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZUxhYmVsRm9udCgpO1xyXG4gICAgICAgIHRoaXMuX2NhbGN1bGF0ZVNwbGl0ZWRTdHJpbmdzKCk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlTGFiZWxEaW1lbnNpb25zKCk7XHJcbiAgICAgICAgdGhpcy5fY2FsY3VsYXRlVGV4dEJhc2VsaW5lKCk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlVGV4dHVyZSgpO1xyXG5cclxuICAgICAgICBjb21wLmFjdHVhbEZvbnRTaXplID0gX2ZvbnRTaXplO1xyXG4gICAgICAgIGNvbXAubm9kZS5zZXRDb250ZW50U2l6ZShfY2FudmFzU2l6ZSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVmVydHMoY29tcCk7XHJcblxyXG4gICAgICAgIGNvbXAubWFya0ZvclVwZGF0ZVJlbmRlckRhdGEoZmFsc2UpO1xyXG5cclxuICAgICAgICBfY29udGV4dCA9IG51bGw7XHJcbiAgICAgICAgX2NhbnZhcyA9IG51bGw7XHJcbiAgICAgICAgX3RleHR1cmUgPSBudWxsO1xyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGVWZXJ0cyAoY29tcDogTGFiZWxDb21wb25lbnQpIHtcclxuICAgIH0sXHJcblxyXG4gICAgX3VwZGF0ZUZvbnRGYW1seSAoY29tcDogTGFiZWxDb21wb25lbnQpIHtcclxuICAgICAgICBpZiAoIWNvbXAudXNlU3lzdGVtRm9udCkge1xyXG4gICAgICAgICAgICBpZiAoY29tcC5mb250KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29tcC5mb250Ll9uYXRpdmVBc3NldCkge1xyXG4gICAgICAgICAgICAgICAgICAgIF9mb250RmFtaWx5ID0gY29tcC5mb250Ll9uYXRpdmVBc3NldDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlci5sb2FkKGNvbXAuZm9udC5uYXRpdmVVcmwsIChlcnIsIGZvbnRGYW1pbHkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2ZvbnRGYW1pbHkgPSBmb250RmFtaWx5IHx8ICdBcmlhbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXAudXBkYXRlUmVuZGVyRGF0YSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIF9mb250RmFtaWx5ID0gJ0FyaWFsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgX2ZvbnRGYW1pbHkgPSBjb21wLmZvbnRGYW1pbHk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBfdXBkYXRlUHJvcGVydGllcyAoY29tcDogTGFiZWxDb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBhc3NlbWJsZXJEYXRhID0gY29tcC5hc3NlbWJsZXJEYXRhO1xyXG4gICAgICAgIGlmICghYXNzZW1ibGVyRGF0YSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9jb250ZXh0ID0gYXNzZW1ibGVyRGF0YS5jb250ZXh0O1xyXG4gICAgICAgIF9jYW52YXMgPSBhc3NlbWJsZXJEYXRhLmNhbnZhcztcclxuICAgICAgICBfdGV4dHVyZSA9IGNvbXAuc3ByaXRlRnJhbWU7XHJcblxyXG4gICAgICAgIF9zdHJpbmcgPSBjb21wLnN0cmluZy50b1N0cmluZygpO1xyXG4gICAgICAgIF9mb250U2l6ZSA9IGNvbXAuZm9udFNpemU7XHJcbiAgICAgICAgX2RyYXdGb250c2l6ZSA9IF9mb250U2l6ZTtcclxuICAgICAgICBfb3ZlcmZsb3cgPSBjb21wLm92ZXJmbG93O1xyXG4gICAgICAgIF9jYW52YXNTaXplLndpZHRoID0gY29tcC5ub2RlLndpZHRoITtcclxuICAgICAgICBfY2FudmFzU2l6ZS5oZWlnaHQgPSBjb21wLm5vZGUuaGVpZ2h0ITtcclxuICAgICAgICBfbGluZUhlaWdodCA9IGNvbXAubGluZUhlaWdodDtcclxuICAgICAgICBfaEFsaWduID0gY29tcC5ob3Jpem9udGFsQWxpZ247XHJcbiAgICAgICAgX3ZBbGlnbiA9IGNvbXAudmVydGljYWxBbGlnbjtcclxuICAgICAgICBfY29sb3IgPSBjb21wLmNvbG9yO1xyXG4gICAgICAgIF9pc0JvbGQgPSBjb21wLmlzQm9sZDtcclxuICAgICAgICBfaXNJdGFsaWMgPSBjb21wLmlzSXRhbGljO1xyXG4gICAgICAgIF9pc1VuZGVybGluZSA9IGNvbXAuaXNVbmRlcmxpbmU7XHJcblxyXG4gICAgICAgIGlmIChfb3ZlcmZsb3cgPT09IE92ZXJmbG93Lk5PTkUpIHtcclxuICAgICAgICAgICAgX2lzV3JhcFRleHQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX292ZXJmbG93ID09PSBPdmVyZmxvdy5SRVNJWkVfSEVJR0hUKSB7XHJcbiAgICAgICAgICAgIF9pc1dyYXBUZXh0ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9pc1dyYXBUZXh0ID0gY29tcC5lbmFibGVXcmFwVGV4dDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG91dGxpbmVcclxuICAgICAgICBjb25zdCBvdXRsaW5lID0gT1VUTElORV9TVVBQT1JURUQgJiYgY29tcC5nZXRDb21wb25lbnQoTGFiZWxPdXRsaW5lQ29tcG9uZW50KTtcclxuICAgICAgICBpZiAob3V0bGluZSAmJiBvdXRsaW5lLmVuYWJsZWQpIHtcclxuICAgICAgICAgICAgX2lzT3V0bGluZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBfbWFyZ2luID0gX291dGxpbmVXaWR0aCA9IG91dGxpbmUud2lkdGg7XHJcbiAgICAgICAgICAgIF9vdXRsaW5lQ29sb3Iuc2V0KG91dGxpbmUuY29sb3IpO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiB0ZW1wb3Jhcnkgc29sdXRpb24sIGNhc2NhZGUgb3BhY2l0eSBmb3Igb3V0bGluZSBjb2xvclxyXG4gICAgICAgICAgICBfb3V0bGluZUNvbG9yLmEgPSBfb3V0bGluZUNvbG9yLmEgKiBjb21wLmNvbG9yLmEgLyAyNTUuMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIF9pc091dGxpbmVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIF9tYXJnaW4gPSAwO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgX2NhbGN1bGF0ZUZpbGxUZXh0U3RhcnRQb3NpdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgbGluZUhlaWdodCA9IHRoaXMuX2dldExpbmVIZWlnaHQoKTtcclxuICAgICAgICBjb25zdCBsaW5lQ291bnQgPSBfc3BsaXRlZFN0cmluZ3MubGVuZ3RoO1xyXG4gICAgICAgIGxldCBsYWJlbFg7XHJcbiAgICAgICAgbGV0IGZpcnN0TGluZWxhYmVsWTtcclxuXHJcbiAgICAgICAgaWYgKF9oQWxpZ24gPT09IEhvcml6b250YWxUZXh0QWxpZ25tZW50LlJJR0hUKSB7XHJcbiAgICAgICAgICAgIGxhYmVsWCA9IF9jYW52YXNTaXplLndpZHRoIC0gX21hcmdpbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX2hBbGlnbiA9PT0gSG9yaXpvbnRhbFRleHRBbGlnbm1lbnQuQ0VOVEVSKSB7XHJcbiAgICAgICAgICAgIGxhYmVsWCA9IF9jYW52YXNTaXplLndpZHRoIC8gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxhYmVsWCA9IDAgKyBfbWFyZ2luO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKF92QWxpZ24gPT09IFZlcnRpY2FsVGV4dEFsaWdubWVudC5UT1ApIHtcclxuICAgICAgICAgICAgZmlyc3RMaW5lbGFiZWxZID0gX2ZvbnRTaXplICogKEJBU0VMSU5FX1JBVElPIC8gMik7XHJcbiAgICAgICAgICAgIGlmIChSVU5USU1FX0JBU0VEIHx8IE1JTklHQU1FKSB7XHJcbiAgICAgICAgICAgICAgICBmaXJzdExpbmVsYWJlbFkgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKF92QWxpZ24gPT09IFZlcnRpY2FsVGV4dEFsaWdubWVudC5DRU5URVIpIHtcclxuICAgICAgICAgICAgZmlyc3RMaW5lbGFiZWxZID0gX2NhbnZhc1NpemUuaGVpZ2h0IC8gMiAtIGxpbmVIZWlnaHQgKiAobGluZUNvdW50IC0gMSkgLyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZmlyc3RMaW5lbGFiZWxZID0gX2NhbnZhc1NpemUuaGVpZ2h0IC0gbGluZUhlaWdodCAqIChsaW5lQ291bnQgLSAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjMihsYWJlbFgsIGZpcnN0TGluZWxhYmVsWSk7XHJcbiAgICB9LFxyXG5cclxuICAgIF91cGRhdGVUZXh0dXJlICgpIHtcclxuICAgICAgICBpZiAoIV9jb250ZXh0IHx8ICFfY2FudmFzKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX2NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIF9jYW52YXMud2lkdGgsIF9jYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBfY29udGV4dC5mb250ID0gX2ZvbnREZXNjO1xyXG5cclxuICAgICAgICBjb25zdCBzdGFydFBvc2l0aW9uID0gdGhpcy5fY2FsY3VsYXRlRmlsbFRleHRTdGFydFBvc2l0aW9uKCk7XHJcbiAgICAgICAgY29uc3QgbGluZUhlaWdodCA9IHRoaXMuX2dldExpbmVIZWlnaHQoKTtcclxuICAgICAgICAvLyB1c2Ugcm91bmQgZm9yIGxpbmUgam9pbiB0byBhdm9pZCBzaGFycCBpbnRlcnNlY3QgcG9pbnRcclxuICAgICAgICBfY29udGV4dC5saW5lSm9pbiA9ICdyb3VuZCc7XHJcbiAgICAgICAgX2NvbnRleHQuZmlsbFN0eWxlID0gYHJnYmEoJHtfY29sb3Iucn0sICR7X2NvbG9yLmd9LCAke19jb2xvci5ifSwgJHtfY29sb3IuYSAvIDI1NX0pYDtcclxuICAgICAgICBsZXQgdW5kZXJsaW5lU3RhcnRQb3NpdGlvbjtcclxuXHJcbiAgICAgICAgLy8gZG8gcmVhbCByZW5kZXJpbmdcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IF9zcGxpdGVkU3RyaW5ncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBpZiAoX2lzT3V0bGluZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHN0cm9rZUNvbG9yID0gX291dGxpbmVDb2xvciB8fCBXSElURTtcclxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnN0cm9rZVN0eWxlID0gYHJnYmEoJHtzdHJva2VDb2xvci5yfSwgJHtzdHJva2VDb2xvci5nfSwgJHtzdHJva2VDb2xvci5ifSwgJHtzdHJva2VDb2xvci5hIC8gMjU1fSlgO1xyXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubGluZVdpZHRoID0gX291dGxpbmVXaWR0aCAqIDI7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5zdHJva2VUZXh0KF9zcGxpdGVkU3RyaW5nc1tpXSwgc3RhcnRQb3NpdGlvbi54LCBzdGFydFBvc2l0aW9uLnkgKyBpICogbGluZUhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgX2NvbnRleHQuZmlsbFRleHQoX3NwbGl0ZWRTdHJpbmdzW2ldLCBzdGFydFBvc2l0aW9uLngsIHN0YXJ0UG9zaXRpb24ueSArIGkgKiBsaW5lSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChfaXNVbmRlcmxpbmUpIHtcclxuICAgICAgICAgICAgICAgIHVuZGVybGluZVN0YXJ0UG9zaXRpb24gPSB0aGlzLl9jYWxjdWxhdGVVbmRlcmxpbmVTdGFydFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIF9jb250ZXh0LmxpbmVXaWR0aCA9IF9mb250U2l6ZSAvIDg7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5zdHJva2VTdHlsZSA9IGByZ2JhKCR7X2NvbG9yLnJ9LCAke19jb2xvci5nfSwgJHtfY29sb3IuYn0sICR7X2NvbG9yLmEgLyAyNTV9KWA7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5tb3ZlVG8odW5kZXJsaW5lU3RhcnRQb3NpdGlvbi54LCB1bmRlcmxpbmVTdGFydFBvc2l0aW9uLnkgKyBpICogbGluZUhlaWdodCAtIDEpO1xyXG4gICAgICAgICAgICAgICAgX2NvbnRleHQubGluZVRvKHVuZGVybGluZVN0YXJ0UG9zaXRpb24ueCArIF9jYW52YXMud2lkdGgsIHVuZGVybGluZVN0YXJ0UG9zaXRpb24ueSArIGkgKiBsaW5lSGVpZ2h0IC0gMSk7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5zdHJva2UoKTtcclxuICAgICAgICAgICAgICAgIF9jb250ZXh0LnJlc3RvcmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gX3RleHR1cmUuaGFuZGxlTG9hZGVkVGV4dHVyZSgpO1xyXG4gICAgICAgIGlmIChfdGV4dHVyZSkge1xyXG4gICAgICAgICAgICBsZXQgdGV4OiBUZXh0dXJlMkQgfCBudWxsO1xyXG4gICAgICAgICAgICBpZiAoX3RleHR1cmUgaW5zdGFuY2VvZiBTcHJpdGVGcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgdGV4ID0gKF90ZXh0dXJlLnRleHR1cmUgYXMgVGV4dHVyZTJEKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRleCA9IF90ZXh0dXJlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB1cGxvYWRBZ2FpbiA9IF9jYW52YXMud2lkdGggPT09IDAgfHwgX2NhbnZhcy5oZWlnaHQgPT09IDA7XHJcbiAgICAgICAgICAgIHRleC5yZXNldCh7XHJcbiAgICAgICAgICAgICAgICB3aWR0aDogX2NhbnZhcy53aWR0aCxcclxuICAgICAgICAgICAgICAgIGhlaWdodDogX2NhbnZhcy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICBtaXBtYXBMZXZlbDogdXBsb2FkQWdhaW4gPyAwIDogMSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmICghdXBsb2FkQWdhaW4pIHtcclxuICAgICAgICAgICAgICAgIHRleC51cGxvYWREYXRhKF9jYW52YXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBfY2FsY3VsYXRlVW5kZXJsaW5lU3RhcnRQb3NpdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgbGluZUhlaWdodCA9IHRoaXMuX2dldExpbmVIZWlnaHQoKTtcclxuICAgICAgICBjb25zdCBsaW5lQ291bnQgPSBfc3BsaXRlZFN0cmluZ3MubGVuZ3RoO1xyXG4gICAgICAgIGxldCBsYWJlbFg7XHJcbiAgICAgICAgbGV0IGZpcnN0TGluZWxhYmVsWTtcclxuXHJcbiAgICAgICAgbGFiZWxYID0gMCArIF9tYXJnaW47XHJcblxyXG4gICAgICAgIGlmIChfdkFsaWduID09PSBWZXJ0aWNhbFRleHRBbGlnbm1lbnQuVE9QKSB7XHJcbiAgICAgICAgICAgIGZpcnN0TGluZWxhYmVsWSA9IF9mb250U2l6ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX3ZBbGlnbiA9PT0gVmVydGljYWxUZXh0QWxpZ25tZW50LkNFTlRFUikge1xyXG4gICAgICAgICAgICBmaXJzdExpbmVsYWJlbFkgPSBfY2FudmFzU2l6ZS5oZWlnaHQgLyAyIC0gbGluZUhlaWdodCAqIChsaW5lQ291bnQgLSAxKSAvIDIgKyBfZm9udFNpemUgLyAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZmlyc3RMaW5lbGFiZWxZID0gX2NhbnZhc1NpemUuaGVpZ2h0IC0gbGluZUhlaWdodCAqIChsaW5lQ291bnQgLSAxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgVmVjMihsYWJlbFgsIGZpcnN0TGluZWxhYmVsWSk7XHJcbiAgICB9LFxyXG5cclxuICAgIF91cGRhdGVMYWJlbERpbWVuc2lvbnMgKCkge1xyXG4gICAgICAgIGlmICghX2NvbnRleHQpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwYXJhZ3JhcGhlZFN0cmluZ3MgPSBfc3RyaW5nLnNwbGl0KCdcXG4nKTtcclxuXHJcbiAgICAgICAgaWYgKF9vdmVyZmxvdyA9PT0gT3ZlcmZsb3cuUkVTSVpFX0hFSUdIVCkge1xyXG4gICAgICAgICAgICBfY2FudmFzU2l6ZS5oZWlnaHQgPSAoX3NwbGl0ZWRTdHJpbmdzLmxlbmd0aCArIEJBU0VMSU5FX1JBVElPKSAqIHRoaXMuX2dldExpbmVIZWlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX292ZXJmbG93ID09PSBPdmVyZmxvdy5OT05FKSB7XHJcbiAgICAgICAgICAgIF9zcGxpdGVkU3RyaW5ncyA9IHBhcmFncmFwaGVkU3RyaW5ncztcclxuICAgICAgICAgICAgbGV0IGNhbnZhc1NpemVYID0gMDtcclxuICAgICAgICAgICAgbGV0IGNhbnZhc1NpemVZID0gMDtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJhIG9mIHBhcmFncmFwaGVkU3RyaW5ncykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYUxlbmd0aCA9IHNhZmVNZWFzdXJlVGV4dChfY29udGV4dCwgcGFyYSk7XHJcbiAgICAgICAgICAgICAgICBjYW52YXNTaXplWCA9IGNhbnZhc1NpemVYID4gcGFyYUxlbmd0aCA/IGNhbnZhc1NpemVYIDogcGFyYUxlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYW52YXNTaXplWSA9IChfc3BsaXRlZFN0cmluZ3MubGVuZ3RoICsgQkFTRUxJTkVfUkFUSU8pICogdGhpcy5fZ2V0TGluZUhlaWdodCgpO1xyXG5cclxuICAgICAgICAgICAgX2NhbnZhc1NpemUud2lkdGggPSBwYXJzZUZsb2F0KGNhbnZhc1NpemVYLnRvRml4ZWQoMikpICsgMiAqIF9tYXJnaW47XHJcbiAgICAgICAgICAgIF9jYW52YXNTaXplLmhlaWdodCA9IHBhcnNlRmxvYXQoY2FudmFzU2l6ZVkudG9GaXhlZCgyKSk7XHJcbiAgICAgICAgICAgIGlmIChfaXNJdGFsaWMpIHtcclxuICAgICAgICAgICAgICAgIC8vIDAuMDE3NDUzMjkyNSA9IDMuMTQxNTkyNjUzIC8gMTgwXHJcbiAgICAgICAgICAgICAgICBfY2FudmFzU2l6ZS53aWR0aCArPSBfZHJhd0ZvbnRzaXplICogTWF0aC50YW4oMTIgKiAwLjAxNzQ1MzI5MjUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIV9jYW52YXMpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfY2FudmFzLndpZHRoID0gX2NhbnZhc1NpemUud2lkdGg7XHJcbiAgICAgICAgX2NhbnZhcy5oZWlnaHQgPSBfY2FudmFzU2l6ZS5oZWlnaHQ7XHJcbiAgICB9LFxyXG5cclxuICAgIF9jYWxjdWxhdGVUZXh0QmFzZWxpbmUgKCkge1xyXG4gICAgICAgIC8vIGxldCBub2RlID0gdGhpcy5fbm9kZTtcclxuICAgICAgICBsZXQgaEFsaWduO1xyXG4gICAgICAgIGxldCB2QWxpZ247XHJcblxyXG4gICAgICAgIGlmIChfaEFsaWduID09PSBIb3Jpem9udGFsVGV4dEFsaWdubWVudC5SSUdIVCkge1xyXG4gICAgICAgICAgICBoQWxpZ24gPSAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfaEFsaWduID09PSBIb3Jpem9udGFsVGV4dEFsaWdubWVudC5DRU5URVIpIHtcclxuICAgICAgICAgICAgaEFsaWduID0gJ2NlbnRlcic7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBoQWxpZ24gPSAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoX3ZBbGlnbiA9PT0gVmVydGljYWxUZXh0QWxpZ25tZW50LlRPUCkge1xyXG4gICAgICAgICAgICB2QWxpZ24gPSAndG9wJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoX3ZBbGlnbiA9PT0gVmVydGljYWxUZXh0QWxpZ25tZW50LkNFTlRFUikge1xyXG4gICAgICAgICAgICB2QWxpZ24gPSAnbWlkZGxlJztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHZBbGlnbiA9ICdib3R0b20nO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKF9jb250ZXh0KSB7XHJcbiAgICAgICAgICAgIF9jb250ZXh0LnRleHRBbGlnbiA9IGhBbGlnbjtcclxuICAgICAgICAgICAgX2NvbnRleHQudGV4dEJhc2VsaW5lID0gdkFsaWduO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgX2NhbGN1bGF0ZVNwbGl0ZWRTdHJpbmdzICgpIHtcclxuICAgICAgICBpZiAoIV9jb250ZXh0KXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJhZ3JhcGhlZFN0cmluZ3MgPSBfc3RyaW5nLnNwbGl0KCdcXG4nKTtcclxuXHJcbiAgICAgICAgaWYgKF9pc1dyYXBUZXh0KSB7XHJcbiAgICAgICAgICAgIF9zcGxpdGVkU3RyaW5ncyA9IFtdO1xyXG4gICAgICAgICAgICBjb25zdCBjYW52YXNXaWR0aE5vTWFyZ2luID0gX2NhbnZhc1NpemUud2lkdGggLSAyICogX21hcmdpbjtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBwYXJhIG9mIHBhcmFncmFwaGVkU3RyaW5ncykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYWxsV2lkdGggPSBzYWZlTWVhc3VyZVRleHQoX2NvbnRleHQsIHBhcmEpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dEZyYWdtZW50ID0gZnJhZ21lbnRUZXh0KHBhcmEsIGFsbFdpZHRoLCBjYW52YXNXaWR0aE5vTWFyZ2luLCB0aGlzLl9tZWFzdXJlVGV4dChfY29udGV4dCEpKTtcclxuICAgICAgICAgICAgICAgIF9zcGxpdGVkU3RyaW5ncyA9IF9zcGxpdGVkU3RyaW5ncy5jb25jYXQodGV4dEZyYWdtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgX3NwbGl0ZWRTdHJpbmdzID0gcGFyYWdyYXBoZWRTdHJpbmdzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9LFxyXG5cclxuICAgIF9nZXRGb250RGVzYyAoKSB7XHJcbiAgICAgICAgbGV0IGZvbnREZXNjID0gX2ZvbnRTaXplLnRvU3RyaW5nKCkgKyAncHggJztcclxuICAgICAgICBmb250RGVzYyA9IGZvbnREZXNjICsgX2ZvbnRGYW1pbHk7XHJcbiAgICAgICAgaWYgKF9pc0JvbGQpIHtcclxuICAgICAgICAgICAgZm9udERlc2MgPSAnYm9sZCAnICsgZm9udERlc2M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoX2lzSXRhbGljKSB7XHJcbiAgICAgICAgICAgIGZvbnREZXNjID0gJ2l0YWxpYyAnICsgZm9udERlc2M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZm9udERlc2M7XHJcbiAgICB9LFxyXG5cclxuICAgIF9nZXRMaW5lSGVpZ2h0ICgpIHtcclxuICAgICAgICBsZXQgbm9kZVNwYWNpbmdZID0gX2xpbmVIZWlnaHQ7XHJcbiAgICAgICAgaWYgKG5vZGVTcGFjaW5nWSA9PT0gMCkge1xyXG4gICAgICAgICAgICBub2RlU3BhY2luZ1kgPSBfZm9udFNpemU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbm9kZVNwYWNpbmdZID0gbm9kZVNwYWNpbmdZICogX2ZvbnRTaXplIC8gX2RyYXdGb250c2l6ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBub2RlU3BhY2luZ1kgfCAwO1xyXG4gICAgfSxcclxuXHJcbiAgICBfY2FsY3VsYXRlUGFyYWdyYXBoTGVuZ3RoIChwYXJhZ3JhcGhlZFN0cmluZ3M6IHN0cmluZ1tdLCBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmFncmFwaExlbmd0aDogbnVtYmVyW10gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBwYXJhIG9mIHBhcmFncmFwaGVkU3RyaW5ncykge1xyXG4gICAgICAgICAgICBjb25zdCB3aWR0aDogbnVtYmVyID0gc2FmZU1lYXN1cmVUZXh0KGN0eCwgcGFyYSk7XHJcbiAgICAgICAgICAgIHBhcmFncmFwaExlbmd0aC5wdXNoKHdpZHRoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBwYXJhZ3JhcGhMZW5ndGg7XHJcbiAgICB9LFxyXG5cclxuICAgIF9tZWFzdXJlVGV4dCAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICByZXR1cm4gKHN0cmluZzogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBzYWZlTWVhc3VyZVRleHQoY3R4LCBzdHJpbmcpO1xyXG4gICAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIF9jYWxjdWxhdGVMYWJlbEZvbnQgKCkge1xyXG4gICAgICAgIGlmICghX2NvbnRleHQpe1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfZm9udERlc2MgPSB0aGlzLl9nZXRGb250RGVzYygpO1xyXG4gICAgICAgIF9jb250ZXh0LmZvbnQgPSBfZm9udERlc2M7XHJcblxyXG4gICAgICAgIGlmIChfb3ZlcmZsb3cgPT09IE92ZXJmbG93LlNIUklOSykge1xyXG4gICAgICAgICAgICBjb25zdCBwYXJhZ3JhcGhlZFN0cmluZ3MgPSBfc3RyaW5nLnNwbGl0KCdcXG4nKTtcclxuICAgICAgICAgICAgY29uc3QgcGFyYWdyYXBoTGVuZ3RoID0gdGhpcy5fY2FsY3VsYXRlUGFyYWdyYXBoTGVuZ3RoKHBhcmFncmFwaGVkU3RyaW5ncywgX2NvbnRleHQpO1xyXG5cclxuICAgICAgICAgICAgX3NwbGl0ZWRTdHJpbmdzID0gcGFyYWdyYXBoZWRTdHJpbmdzO1xyXG4gICAgICAgICAgICBsZXQgaSA9IDA7XHJcbiAgICAgICAgICAgIGxldCB0b3RhbEhlaWdodCA9IDA7XHJcbiAgICAgICAgICAgIGxldCBtYXhMZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKF9pc1dyYXBUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjYW52YXNXaWR0aE5vTWFyZ2luID0gX2NhbnZhc1NpemUud2lkdGggLSAyICogX21hcmdpbjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhc0hlaWdodE5vTWFyZ2luID0gX2NhbnZhc1NpemUuaGVpZ2h0IC0gMiAqIF9tYXJnaW47XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FudmFzV2lkdGhOb01hcmdpbiA8IDAgfHwgY2FudmFzSGVpZ2h0Tm9NYXJnaW4gPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgX2ZvbnREZXNjID0gdGhpcy5fZ2V0Rm9udERlc2MoKTtcclxuICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5mb250ID0gX2ZvbnREZXNjO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRvdGFsSGVpZ2h0ID0gY2FudmFzSGVpZ2h0Tm9NYXJnaW4gKyAxO1xyXG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gY2FudmFzV2lkdGhOb01hcmdpbiArIDE7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWN0dWFsRm9udFNpemUgPSBfZm9udFNpemUgKyAxO1xyXG4gICAgICAgICAgICAgICAgbGV0IHRleHRGcmFnbWVudDogc3RyaW5nW10gPSBbXTtcclxuICAgICAgICAgICAgICAgIGxldCB0cnlEaXZpZGVCeVR3byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnRTaHJpbmtGb250U2l6ZSA9IGFjdHVhbEZvbnRTaXplIHwgMDtcclxuXHJcbiAgICAgICAgICAgICAgICB3aGlsZSAodG90YWxIZWlnaHQgPiBjYW52YXNIZWlnaHROb01hcmdpbiB8fCBtYXhMZW5ndGggPiBjYW52YXNXaWR0aE5vTWFyZ2luKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyeURpdmlkZUJ5VHdvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdHVhbEZvbnRTaXplID0gKHN0YXJ0U2hyaW5rRm9udFNpemUgLyAyKSB8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0dWFsRm9udFNpemUgPSBzdGFydFNocmlua0ZvbnRTaXplIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRTaHJpbmtGb250U2l6ZSA9IGFjdHVhbEZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0dWFsRm9udFNpemUgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dJRCg0MDAzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF9mb250U2l6ZSA9IGFjdHVhbEZvbnRTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIF9mb250RGVzYyA9IHRoaXMuX2dldEZvbnREZXNjKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQuZm9udCA9IF9mb250RGVzYztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgX3NwbGl0ZWRTdHJpbmdzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWxIZWlnaHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJhZ3JhcGhlZFN0cmluZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGogPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhbGxXaWR0aCA9IHNhZmVNZWFzdXJlVGV4dChfY29udGV4dCwgcGFyYWdyYXBoZWRTdHJpbmdzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dEZyYWdtZW50ID0gZnJhZ21lbnRUZXh0KHBhcmFncmFwaGVkU3RyaW5nc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzV2lkdGhOb01hcmdpbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21lYXN1cmVUZXh0KF9jb250ZXh0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgdGV4dEZyYWdtZW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVhc3VyZVdpZHRoID0gc2FmZU1lYXN1cmVUZXh0KF9jb250ZXh0LCB0ZXh0RnJhZ21lbnRbal0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gbWVhc3VyZVdpZHRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxIZWlnaHQgKz0gdGhpcy5fZ2V0TGluZUhlaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKytqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zcGxpdGVkU3RyaW5ncyA9IF9zcGxpdGVkU3RyaW5ncy5jb25jYXQodGV4dEZyYWdtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0cnlEaXZpZGVCeVR3bykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodG90YWxIZWlnaHQgPiBjYW52YXNIZWlnaHROb01hcmdpbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRTaHJpbmtGb250U2l6ZSA9IGFjdHVhbEZvbnRTaXplIHwgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeURpdmlkZUJ5VHdvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEhlaWdodCA9IGNhbnZhc0hlaWdodE5vTWFyZ2luICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRvdGFsSGVpZ2h0ID0gcGFyYWdyYXBoZWRTdHJpbmdzLmxlbmd0aCAqIHRoaXMuX2dldExpbmVIZWlnaHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFyYWdyYXBoZWRTdHJpbmdzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1heExlbmd0aCA8IHBhcmFncmFwaExlbmd0aFtpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGggPSBwYXJhZ3JhcGhMZW5ndGhbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVYID0gKF9jYW52YXNTaXplLndpZHRoIC0gMiAqIF9tYXJnaW4pIC8gbWF4TGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVZID0gX2NhbnZhc1NpemUuaGVpZ2h0IC8gdG90YWxIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICAgICAgX2ZvbnRTaXplID0gKF9kcmF3Rm9udHNpemUgKiBNYXRoLm1pbigxLCBzY2FsZVgsIHNjYWxlWSkpIHwgMDtcclxuICAgICAgICAgICAgICAgIF9mb250RGVzYyA9IHRoaXMuX2dldEZvbnREZXNjKCk7XHJcbiAgICAgICAgICAgICAgICBfY29udGV4dC5mb250ID0gX2ZvbnREZXNjO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufTtcclxuIl19