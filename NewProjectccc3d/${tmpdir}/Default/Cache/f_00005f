(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../core/3d/builtin/index.js", "../core/3d/framework/renderable-component.js", "../core/assets/index.js", "../core/assets/asset-enum.js", "../core/assets/material.js", "../core/assets/mesh.js", "../core/components/index.js", "../core/data/class-decorator.js", "../core/data/object.js", "../core/director.js", "../core/gfx/define.js", "../core/math/index.js", "../core/renderer/scene/model.js", "../core/scene-graph/private-node.js", "./terrain-asset.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../core/3d/builtin/index.js"), require("../core/3d/framework/renderable-component.js"), require("../core/assets/index.js"), require("../core/assets/asset-enum.js"), require("../core/assets/material.js"), require("../core/assets/mesh.js"), require("../core/components/index.js"), require("../core/data/class-decorator.js"), require("../core/data/object.js"), require("../core/director.js"), require("../core/gfx/define.js"), require("../core/math/index.js"), require("../core/renderer/scene/model.js"), require("../core/scene-graph/private-node.js"), require("./terrain-asset.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.index, global.renderableComponent, global.index, global.assetEnum, global.material, global.mesh, global.index, global.classDecorator, global.object, global.director, global.define, global.index, global.model, global.privateNode, global.terrainAsset);
    global.terrain = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _index, _renderableComponent, _index2, _assetEnum, _material, _mesh, _index3, _classDecorator, _object, _director, _define, _index4, _model, _privateNode, _terrainAsset) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.Terrain = _exports.TerrainBlock = _exports.TerrainBlockLightmapInfo = _exports.TerrainBlockInfo = _exports.TerrainLayer = _exports.TerrainInfo = _exports.TERRAIN_EAST_INDEX = _exports.TERRAIN_WEST_INDEX = _exports.TERRAIN_SOUTH_INDEX = _exports.TERRAIN_NORTH_INDEX = _exports.TERRAIN_HEIGHT_FACTORY = _exports.TERRAIN_HEIGHT_BASE = _exports.TERRAIN_BLOCK_VERTEX_SIZE = _exports.TERRAIN_BLOCK_VERTEX_COMPLEXITY = _exports.TERRAIN_BLOCK_TILE_COMPLEXITY = _exports.TERRAIN_MAX_LAYER_COUNT = _exports.TERRAIN_MAX_BLEND_LAYERS = _exports.TERRAIN_MAX_LEVELS = void 0;

  var _dec, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _temp, _dec2, _class4, _class5, _descriptor5, _descriptor6, _temp2, _dec3, _class7, _class8, _descriptor7, _temp3, _dec4, _class10, _class11, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _temp4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _class13, _class14, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _temp5;

  function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _get(target, property, receiver) { if (typeof Reflect !== "undefined" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }

  function _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  var TERRAIN_MAX_LEVELS = 4;
  _exports.TERRAIN_MAX_LEVELS = TERRAIN_MAX_LEVELS;
  var TERRAIN_MAX_BLEND_LAYERS = 4;
  _exports.TERRAIN_MAX_BLEND_LAYERS = TERRAIN_MAX_BLEND_LAYERS;
  var TERRAIN_MAX_LAYER_COUNT = 256;
  _exports.TERRAIN_MAX_LAYER_COUNT = TERRAIN_MAX_LAYER_COUNT;
  var TERRAIN_BLOCK_TILE_COMPLEXITY = 32;
  _exports.TERRAIN_BLOCK_TILE_COMPLEXITY = TERRAIN_BLOCK_TILE_COMPLEXITY;
  var TERRAIN_BLOCK_VERTEX_COMPLEXITY = 33;
  _exports.TERRAIN_BLOCK_VERTEX_COMPLEXITY = TERRAIN_BLOCK_VERTEX_COMPLEXITY;
  var TERRAIN_BLOCK_VERTEX_SIZE = 8; // position + normal + uv

  _exports.TERRAIN_BLOCK_VERTEX_SIZE = TERRAIN_BLOCK_VERTEX_SIZE;
  var TERRAIN_HEIGHT_BASE = 32768;
  _exports.TERRAIN_HEIGHT_BASE = TERRAIN_HEIGHT_BASE;
  var TERRAIN_HEIGHT_FACTORY = 1.0 / 512.0;
  _exports.TERRAIN_HEIGHT_FACTORY = TERRAIN_HEIGHT_FACTORY;
  var TERRAIN_NORTH_INDEX = 0;
  _exports.TERRAIN_NORTH_INDEX = TERRAIN_NORTH_INDEX;
  var TERRAIN_SOUTH_INDEX = 1;
  _exports.TERRAIN_SOUTH_INDEX = TERRAIN_SOUTH_INDEX;
  var TERRAIN_WEST_INDEX = 2;
  _exports.TERRAIN_WEST_INDEX = TERRAIN_WEST_INDEX;
  var TERRAIN_EAST_INDEX = 3;
  /**
   * @en Terrain info
   * @zh 地形信息
   */

  _exports.TERRAIN_EAST_INDEX = TERRAIN_EAST_INDEX;
  var TerrainInfo = (_dec = (0, _classDecorator.ccclass)('cc.TerrainInfo'), _dec(_class = (_class2 = (_temp = /*#__PURE__*/function () {
    function TerrainInfo() {
      _classCallCheck(this, TerrainInfo);

      _initializerDefineProperty(this, "tileSize", _descriptor, this);

      _initializerDefineProperty(this, "blockCount", _descriptor2, this);

      _initializerDefineProperty(this, "weightMapSize", _descriptor3, this);

      _initializerDefineProperty(this, "lightMapSize", _descriptor4, this);
    }

    _createClass(TerrainInfo, [{
      key: "size",

      /**
       * @en terrain size
       * @zh 地形大小
       */
      get: function get() {
        var sz = new _index4.Size(0, 0);
        sz.width = this.blockCount[0] * TERRAIN_BLOCK_TILE_COMPLEXITY * this.tileSize;
        sz.height = this.blockCount[1] * TERRAIN_BLOCK_TILE_COMPLEXITY * this.tileSize;
        return sz;
      }
      /**
       * @en tile count
       * @zh 栅格数量
       */

    }, {
      key: "tileCount",
      get: function get() {
        var _tileCount = [0, 0];
        _tileCount[0] = this.blockCount[0] * TERRAIN_BLOCK_TILE_COMPLEXITY;
        _tileCount[1] = this.blockCount[1] * TERRAIN_BLOCK_TILE_COMPLEXITY;
        return _tileCount;
      }
      /**
       * @en vertex count
       * @zh 顶点数量
       */

    }, {
      key: "vertexCount",
      get: function get() {
        var _vertexCount = this.tileCount;
        _vertexCount[0] += 1;
        _vertexCount[1] += 1;
        return _vertexCount;
      }
    }]);

    return TerrainInfo;
  }(), _temp), (_descriptor = _applyDecoratedDescriptor(_class2.prototype, "tileSize", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 1;
    }
  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "blockCount", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return [1, 1];
    }
  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "weightMapSize", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 128;
    }
  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "lightMapSize", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 128;
    }
  })), _class2)) || _class);
  /**
   * @en Terrain layer
   * @zh 地形纹理层
   */

  _exports.TerrainInfo = TerrainInfo;
  var TerrainLayer = (_dec2 = (0, _classDecorator.ccclass)('cc.TerrainLayer'), _dec2(_class4 = (_class5 = (_temp2 = function TerrainLayer() {
    _classCallCheck(this, TerrainLayer);

    _initializerDefineProperty(this, "detailMap", _descriptor5, this);

    _initializerDefineProperty(this, "tileSize", _descriptor6, this);
  }, _temp2), (_descriptor5 = _applyDecoratedDescriptor(_class5.prototype, "detailMap", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor6 = _applyDecoratedDescriptor(_class5.prototype, "tileSize", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 1;
    }
  })), _class5)) || _class4);
  /**
   * @en Terrain renderable
   * @zh 地形渲染组件
   */

  _exports.TerrainLayer = TerrainLayer;

  var TerrainRenderable = /*#__PURE__*/function (_RenderableComponent) {
    _inherits(TerrainRenderable, _RenderableComponent);

    function TerrainRenderable() {
      var _getPrototypeOf2;

      var _this;

      _classCallCheck(this, TerrainRenderable);

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TerrainRenderable)).call.apply(_getPrototypeOf2, [this].concat(args)));
      _this._model = null;
      _this._meshData = null;
      _this._brushMaterial = null;
      _this._currentMaterial = null;
      _this._currentMaterialLayers = 0;
      return _this;
    }

    _createClass(TerrainRenderable, [{
      key: "destroy",
      value: function destroy() {
        // this._invalidMaterial();
        if (this._model != null) {
          cc.director.root.destroyModel(this._model);
          this._model = null;
        }

        _get(_getPrototypeOf(TerrainRenderable.prototype), "destroy", this).call(this);
      }
    }, {
      key: "_invalidMaterial",
      value: function _invalidMaterial() {
        if (this._currentMaterial == null) {
          return;
        }

        this._clearMaterials();

        this._currentMaterial = null;

        if (this._model != null) {
          this._model.enabled = false;
        }
      }
    }, {
      key: "_updateMaterial",
      value: function _updateMaterial(block, init) {
        if (this._meshData == null || this._model == null) {
          return;
        }

        var nLayers = block.getMaxLayer();

        if (this._currentMaterial == null || nLayers !== this._currentMaterialLayers) {
          this._currentMaterial = new _material.Material();

          this._currentMaterial.initialize({
            effectAsset: cc.EffectAsset.get('builtin-terrain'),
            defines: block._getMaterialDefines(nLayers)
          });

          if (this._brushMaterial !== null) {
            var passes = this._currentMaterial.passes;
            passes.push(this._brushMaterial.passes[0]);
          }

          if (init) {
            this._model.initSubModel(0, this._meshData, this._currentMaterial);
          }

          this.setMaterial(this._currentMaterial, 0);
          this._currentMaterialLayers = nLayers;
          this._model.enabled = true;
        }
      }
    }, {
      key: "_onMaterialModified",
      value: function _onMaterialModified(idx, mtl) {
        if (this._model == null) {
          return;
        }

        this._onRebuildPSO(idx, mtl || this._getBuiltinMaterial());
      }
    }, {
      key: "_onRebuildPSO",
      value: function _onRebuildPSO(idx, material) {
        if (this._model) {
          this._model.setSubModelMaterial(idx, material);
        }
      }
    }, {
      key: "_clearMaterials",
      value: function _clearMaterials() {
        if (this._model == null) {
          return;
        }

        this._onMaterialModified(0, null);
      }
    }, {
      key: "_getBuiltinMaterial",
      value: function _getBuiltinMaterial() {
        return _index.builtinResMgr.get('missing-material');
      }
    }]);

    return TerrainRenderable;
  }(_renderableComponent.RenderableComponent);
  /**
   * @en Terrain block info
   * @zh 地形块信息
   */


  var TerrainBlockInfo = (_dec3 = (0, _classDecorator.ccclass)('cc.TerrainBlockInfo'), _dec3(_class7 = (_class8 = (_temp3 = function TerrainBlockInfo() {
    _classCallCheck(this, TerrainBlockInfo);

    _initializerDefineProperty(this, "layers", _descriptor7, this);
  }, _temp3), (_descriptor7 = _applyDecoratedDescriptor(_class8.prototype, "layers", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return [-1, -1, -1, -1];
    }
  })), _class8)) || _class7);
  /**
   * @en Terrain block light map info
   * @zh 地形块光照图信息
   */

  _exports.TerrainBlockInfo = TerrainBlockInfo;
  var TerrainBlockLightmapInfo = (_dec4 = (0, _classDecorator.ccclass)('cc.TerrainBlockLightmapInfo'), _dec4(_class10 = (_class11 = (_temp4 = function TerrainBlockLightmapInfo() {
    _classCallCheck(this, TerrainBlockLightmapInfo);

    _initializerDefineProperty(this, "texture", _descriptor8, this);

    _initializerDefineProperty(this, "UOff", _descriptor9, this);

    _initializerDefineProperty(this, "VOff", _descriptor10, this);

    _initializerDefineProperty(this, "UScale", _descriptor11, this);

    _initializerDefineProperty(this, "VScale", _descriptor12, this);
  }, _temp4), (_descriptor8 = _applyDecoratedDescriptor(_class11.prototype, "texture", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor9 = _applyDecoratedDescriptor(_class11.prototype, "UOff", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor10 = _applyDecoratedDescriptor(_class11.prototype, "VOff", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor11 = _applyDecoratedDescriptor(_class11.prototype, "UScale", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor12 = _applyDecoratedDescriptor(_class11.prototype, "VScale", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  })), _class11)) || _class10);
  /**
   * @en Terrain block
   * @zh 地形块
   */

  _exports.TerrainBlockLightmapInfo = TerrainBlockLightmapInfo;

  var TerrainBlock = /*#__PURE__*/function () {
    // private _neighbor: TerrainBlock|null[] = [null, null, null, null];
    function TerrainBlock(t, i, j) {
      _classCallCheck(this, TerrainBlock);

      this._terrain = void 0;
      this._info = void 0;
      this._node = void 0;
      this._renderable = void 0;
      this._index = [1, 1];
      this._weightMap = null;
      this._lightmapInfo = null;
      this._terrain = t;
      this._info = t.getBlockInfo(i, j);
      this._index[0] = i;
      this._index[1] = j;
      this._lightmapInfo = t._getLightmapInfo(i, j);
      this._node = new _privateNode.PrivateNode(''); // @ts-ignore

      this._node.setParent(this._terrain.node); // @ts-ignore


      this._node._objFlags |= cc.Object.Flags.DontSave;
      this._renderable = this._node.addComponent(TerrainRenderable);
    }

    _createClass(TerrainBlock, [{
      key: "build",
      value: function build() {
        var gfxDevice = _director.director.root.device; // vertex buffer

        var vertexData = new Float32Array(TERRAIN_BLOCK_VERTEX_SIZE * TERRAIN_BLOCK_VERTEX_COMPLEXITY * TERRAIN_BLOCK_VERTEX_COMPLEXITY);
        var index = 0;

        for (var j = 0; j < TERRAIN_BLOCK_VERTEX_COMPLEXITY; ++j) {
          for (var i = 0; i < TERRAIN_BLOCK_VERTEX_COMPLEXITY; ++i) {
            var x = this._index[0] * TERRAIN_BLOCK_TILE_COMPLEXITY + i;
            var y = this._index[1] * TERRAIN_BLOCK_TILE_COMPLEXITY + j;

            var position = this._terrain.getPosition(x, y);

            var normal = this._terrain.getNormal(x, y);

            var uv = new _index4.Vec2(i / TERRAIN_BLOCK_TILE_COMPLEXITY, j / TERRAIN_BLOCK_TILE_COMPLEXITY);
            vertexData[index++] = position.x;
            vertexData[index++] = position.y;
            vertexData[index++] = position.z;
            vertexData[index++] = normal.x;
            vertexData[index++] = normal.y;
            vertexData[index++] = normal.z;
            vertexData[index++] = uv.x;
            vertexData[index++] = uv.y;
          }
        }

        var vertexBuffer = gfxDevice.createBuffer({
          usage: _define.GFXBufferUsageBit.VERTEX | _define.GFXBufferUsageBit.TRANSFER_DST,
          memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
          size: TERRAIN_BLOCK_VERTEX_SIZE * Float32Array.BYTES_PER_ELEMENT * TERRAIN_BLOCK_VERTEX_COMPLEXITY * TERRAIN_BLOCK_VERTEX_COMPLEXITY,
          stride: TERRAIN_BLOCK_VERTEX_SIZE * Float32Array.BYTES_PER_ELEMENT
        });
        vertexBuffer.update(vertexData); // initialize renderable

        var gfxAttributes = [{
          name: _define.GFXAttributeName.ATTR_POSITION,
          format: _define.GFXFormat.RGB32F
        }, {
          name: _define.GFXAttributeName.ATTR_NORMAL,
          format: _define.GFXFormat.RGB32F
        }, {
          name: _define.GFXAttributeName.ATTR_TEX_COORD,
          format: _define.GFXFormat.RG32F
        }];
        var subMesh = this._renderable._meshData = new _mesh.RenderingSubMesh([vertexBuffer], gfxAttributes, _define.GFXPrimitiveMode.TRIANGLE_LIST);
        subMesh.indexBuffer = this._terrain._getSharedIndexBuffer() || undefined;
        this._renderable._model = cc.director.root.createModel(_model.Model);

        this._renderable._model.initialize(this._node);

        this._renderable._getRenderScene().addModel(this._renderable._model); // reset weightmap


        this._updateWeightMap(); // reset material


        this._updateMaterial(true);
      }
    }, {
      key: "rebuild",
      value: function rebuild() {
        this._updateHeight();

        this._updateWeightMap();

        this._renderable._invalidMaterial();

        this._updateMaterial(false);
      }
    }, {
      key: "destroy",
      value: function destroy() {
        if (this._renderable != null) {
          this._renderable.destroy();
        }

        if (this._node != null) {
          this._node.destroy();
        }

        if (this._weightMap != null) {
          this._weightMap.destroy();
        }
      }
    }, {
      key: "update",
      value: function update() {
        this._updateMaterial(false);

        var mtl = this._renderable._currentMaterial;

        if (mtl != null) {
          var nlayers = this.getMaxLayer();
          var uvScale = new _index4.Vec4(1, 1, 1, 1);

          if (nlayers === 0) {
            if (this.layers[0] !== -1) {
              var l0 = this._terrain.getLayer(this.layers[0]);

              if (l0 != null) {
                uvScale.x = 1.0 / l0.tileSize;
              }

              mtl.setProperty('detailMap0', l0 != null ? l0.detailMap : null);
            } else {
              mtl.setProperty('detailMap0', cc.builtinResMgr.get('default-texture'));
            }
          } else if (nlayers === 1) {
            var _l = this._terrain.getLayer(this.layers[0]);

            var l1 = this._terrain.getLayer(this.layers[1]);

            if (_l != null) {
              uvScale.x = 1.0 / _l.tileSize;
            }

            if (l1 != null) {
              uvScale.y = 1.0 / l1.tileSize;
            }

            mtl.setProperty('weightMap', this._weightMap);
            mtl.setProperty('detailMap0', _l != null ? _l.detailMap : null);
            mtl.setProperty('detailMap1', l1 != null ? l1.detailMap : null);
          } else if (nlayers === 2) {
            var _l2 = this._terrain.getLayer(this.layers[0]);

            var _l3 = this._terrain.getLayer(this.layers[1]);

            var l2 = this._terrain.getLayer(this.layers[2]);

            if (_l2 != null) {
              uvScale.x = 1.0 / _l2.tileSize;
            }

            if (_l3 != null) {
              uvScale.y = 1.0 / _l3.tileSize;
            }

            if (l2 != null) {
              uvScale.z = 1.0 / l2.tileSize;
            }

            mtl.setProperty('weightMap', this._weightMap);
            mtl.setProperty('detailMap0', _l2 != null ? _l2.detailMap : null);
            mtl.setProperty('detailMap1', _l3 != null ? _l3.detailMap : null);
            mtl.setProperty('detailMap2', l2 != null ? l2.detailMap : null);
          } else if (nlayers === 3) {
            var _l4 = this._terrain.getLayer(this.layers[0]);

            var _l5 = this._terrain.getLayer(this.layers[1]);

            var _l6 = this._terrain.getLayer(this.layers[2]);

            var l3 = this._terrain.getLayer(this.layers[3]);

            if (_l4 != null) {
              uvScale.x = 1.0 / _l4.tileSize;
            }

            if (_l5 != null) {
              uvScale.y = 1.0 / _l5.tileSize;
            }

            if (_l6 != null) {
              uvScale.z = 1.0 / _l6.tileSize;
            }

            if (l3 != null) {
              uvScale.z = 1.0 / l3.tileSize;
            }

            mtl.setProperty('weightMap', this._weightMap);
            mtl.setProperty('detailMap0', _l4 != null ? _l4.detailMap : null);
            mtl.setProperty('detailMap1', _l5 != null ? _l5.detailMap : null);
            mtl.setProperty('detailMap2', _l6 != null ? _l6.detailMap : null);
            mtl.setProperty('detailMap3', l3 != null ? l3.detailMap : null);
          }

          mtl.setProperty('UVScale', uvScale);

          if (this.lightmap != null) {
            mtl.setProperty('lightMap', this.lightmap);
            mtl.setProperty('lightMapUVParam', this.lightmapUVParam);
          }
        }
      }
    }, {
      key: "setBrushMaterial",
      value: function setBrushMaterial(mtl) {
        if (this._renderable._brushMaterial !== mtl) {
          this._renderable._brushMaterial = mtl;

          this._renderable._invalidMaterial();
        }
      }
      /**
       * @en get layers
       * @zh 获得纹理层索引
       */

    }, {
      key: "getTerrain",

      /**
       * @en get terrain owner
       * @zh 获得地形对象
       */
      value: function getTerrain() {
        return this._terrain;
      }
      /**
       * @en get index
       * @zh 获得地形索引
       */

    }, {
      key: "getIndex",
      value: function getIndex() {
        return this._index;
      }
      /**
       * @en get rect bound
       * @zh 获得地形矩形包围体
       */

    }, {
      key: "getRect",
      value: function getRect() {
        var rect = new _index4.Rect();
        rect.x = this._index[0] * TERRAIN_BLOCK_TILE_COMPLEXITY;
        rect.y = this._index[1] * TERRAIN_BLOCK_TILE_COMPLEXITY;
        rect.width = TERRAIN_BLOCK_TILE_COMPLEXITY;
        rect.height = TERRAIN_BLOCK_TILE_COMPLEXITY;
        return rect;
      }
      /**
       * @en set layer
       * @zh 设置纹理层
       */

    }, {
      key: "setLayer",
      value: function setLayer(index, layerId) {
        if (this.layers[index] !== layerId) {
          this.layers[index] = layerId;

          this._renderable._invalidMaterial();

          this._updateMaterial(false);
        }
      }
      /**
       * @en get layer
       * @zh 获得纹理层
       */

    }, {
      key: "getLayer",
      value: function getLayer(index) {
        return this.layers[index];
      }
      /**
       * @en get max layer index
       * @zh 获得最大纹理索引
       */

    }, {
      key: "getMaxLayer",
      value: function getMaxLayer() {
        if (this.layers[3] >= 0) {
          return 3;
        } else if (this.layers[2] >= 0) {
          return 2;
        } else if (this.layers[1] >= 0) {
          return 1;
        } else {
          return 0;
        }
      }
    }, {
      key: "_getMaterialDefines",
      value: function _getMaterialDefines(nlayers) {
        if (this.lightmap != null) {
          if (nlayers === 0) {
            return {
              LAYERS: 1,
              LIGHT_MAP: 1
            };
          } else if (nlayers === 1) {
            return {
              LAYERS: 2,
              LIGHT_MAP: 1
            };
          } else if (nlayers === 2) {
            return {
              LAYERS: 3,
              LIGHT_MAP: 1
            };
          } else if (nlayers === 3) {
            return {
              LAYERS: 4,
              LIGHT_MAP: 1
            };
          }
        } else {
          if (nlayers === 0) {
            return {
              LAYERS: 1
            };
          } else if (nlayers === 1) {
            return {
              LAYERS: 2
            };
          } else if (nlayers === 2) {
            return {
              LAYERS: 3
            };
          } else if (nlayers === 3) {
            return {
              LAYERS: 4
            };
          }
        }

        return {
          LAYERS: 0
        };
      }
    }, {
      key: "_invalidMaterial",
      value: function _invalidMaterial() {
        this._renderable._invalidMaterial();
      }
    }, {
      key: "_updateMaterial",
      value: function _updateMaterial(init) {
        this._renderable._updateMaterial(this, init);
      }
    }, {
      key: "_updateHeight",
      value: function _updateHeight() {
        if (this._renderable._meshData == null) {
          return;
        }

        var vertexData = new Float32Array(TERRAIN_BLOCK_VERTEX_SIZE * TERRAIN_BLOCK_VERTEX_COMPLEXITY * TERRAIN_BLOCK_VERTEX_COMPLEXITY);
        var index = 0;

        for (var j = 0; j < TERRAIN_BLOCK_VERTEX_COMPLEXITY; ++j) {
          for (var i = 0; i < TERRAIN_BLOCK_VERTEX_COMPLEXITY; ++i) {
            var x = this._index[0] * TERRAIN_BLOCK_TILE_COMPLEXITY + i;
            var y = this._index[1] * TERRAIN_BLOCK_TILE_COMPLEXITY + j;

            var position = this._terrain.getPosition(x, y);

            var normal = this._terrain.getNormal(x, y);

            var uv = new _index4.Vec2(i / TERRAIN_BLOCK_VERTEX_COMPLEXITY, j / TERRAIN_BLOCK_VERTEX_COMPLEXITY);
            vertexData[index++] = position.x;
            vertexData[index++] = position.y;
            vertexData[index++] = position.z;
            vertexData[index++] = normal.x;
            vertexData[index++] = normal.y;
            vertexData[index++] = normal.z;
            vertexData[index++] = uv.x;
            vertexData[index++] = uv.y;
          }
        }

        this._renderable._meshData.vertexBuffers[0].update(vertexData);
      }
    }, {
      key: "_updateWeightMap",
      value: function _updateWeightMap() {
        var nlayers = this.getMaxLayer();

        if (nlayers === 0) {
          if (this._weightMap != null) {
            this._weightMap.destroy();

            this._weightMap = null;
          }

          return;
        } else {
          if (this._weightMap == null) {
            this._weightMap = new _index2.Texture2D();

            this._weightMap.create(this._terrain.weightMapSize, this._terrain.weightMapSize, _assetEnum.PixelFormat.RGBA8888);

            this._weightMap.setFilters(_assetEnum.Filter.LINEAR, _assetEnum.Filter.LINEAR);

            this._weightMap.setWrapMode(_assetEnum.WrapMode.CLAMP_TO_EDGE, _assetEnum.WrapMode.CLAMP_TO_EDGE);
          }
        }

        var weightData = new Uint8Array(this._terrain.weightMapSize * this._terrain.weightMapSize * 4);
        var weightIndex = 0;

        for (var j = 0; j < this._terrain.weightMapSize; ++j) {
          for (var i = 0; i < this._terrain.weightMapSize; ++i) {
            var x = this._index[0] * this._terrain.weightMapSize + i;
            var y = this._index[1] * this._terrain.weightMapSize + j;

            var w = this._terrain.getWeight(x, y);

            weightData[weightIndex * 4 + 0] = Math.floor(w.x * 255);
            weightData[weightIndex * 4 + 1] = Math.floor(w.y * 255);
            weightData[weightIndex * 4 + 2] = Math.floor(w.z * 255);
            weightData[weightIndex * 4 + 3] = Math.floor(w.w * 255);
            weightIndex += 1;
          }
        }

        this._weightMap.uploadData(weightData);
      }
    }, {
      key: "_updateLightmap",
      value: function _updateLightmap(info) {
        this._lightmapInfo = info;

        this._invalidMaterial();
      }
    }, {
      key: "layers",
      get: function get() {
        return this._info.layers;
      }
      /**
       * @en get light map
       * @zh 获得光照图
       */

    }, {
      key: "lightmap",
      get: function get() {
        return this._lightmapInfo ? this._lightmapInfo.texture : null;
      }
      /**
       * @en get light map uv parameter
       * @zh 获得光照图纹理坐标参数
       */

    }, {
      key: "lightmapUVParam",
      get: function get() {
        if (this._lightmapInfo != null) {
          return new _index4.Vec4(this._lightmapInfo.UOff, this._lightmapInfo.VOff, this._lightmapInfo.UScale, this._lightmapInfo.VScale);
        } else {
          return new _index4.Vec4(0, 0, 0, 0);
        }
      }
    }]);

    return TerrainBlock;
  }();
  /**
   * @en Terrain
   * @zh 地形组件
   */


  _exports.TerrainBlock = TerrainBlock;
  var Terrain = (_dec5 = (0, _classDecorator.ccclass)('cc.Terrain'), _dec6 = (0, _classDecorator.help)('i18n:cc.TerrainComponent'), _dec7 = (0, _classDecorator.property)({
    type: _terrainAsset.TerrainAsset,
    visible: false,
    animatable: false
  }), _dec8 = (0, _classDecorator.property)({
    type: TerrainLayer,
    visible: true,
    animatable: false
  }), _dec9 = (0, _classDecorator.property)({
    visible: false,
    animatable: false
  }), _dec10 = (0, _classDecorator.property)({
    visible: false,
    animatable: false
  }), _dec11 = (0, _classDecorator.property)({
    type: _terrainAsset.TerrainAsset,
    visible: true
  }), _dec12 = (0, _classDecorator.property)({
    type: TerrainInfo,
    visible: true
  }), _dec5(_class13 = _dec6(_class13 = (0, _classDecorator.executeInEditMode)(_class13 = (0, _classDecorator.disallowMultiple)(_class13 = (_class14 = (_temp5 = /*#__PURE__*/function (_Component) {
    _inherits(Terrain, _Component);

    function Terrain() {
      var _this2;

      _classCallCheck(this, Terrain);

      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Terrain).call(this)); // initialize layers

      _initializerDefineProperty(_this2, "__asset", _descriptor13, _assertThisInitialized(_this2));

      _initializerDefineProperty(_this2, "_layers", _descriptor14, _assertThisInitialized(_this2));

      _initializerDefineProperty(_this2, "_blockInfos", _descriptor15, _assertThisInitialized(_this2));

      _initializerDefineProperty(_this2, "_lightmapInfos", _descriptor16, _assertThisInitialized(_this2));

      _this2._tileSize = 1;
      _this2._blockCount = [1, 1];
      _this2._weightMapSize = 128;
      _this2._lightMapSize = 128;
      _this2._heights = new Uint16Array();
      _this2._weights = new Uint8Array();
      _this2._normals = [];
      _this2._blocks = [];
      _this2._sharedIndexBuffer = null;

      for (var i = 0; i < TERRAIN_MAX_LAYER_COUNT; ++i) {
        _this2._layers.push(null);
      }

      return _this2;
    }

    _createClass(Terrain, [{
      key: "build",

      /**
       * @en build
       * @zh 构建地形
       */
      value: function build(info) {
        this._tileSize = info.tileSize;
        this._blockCount[0] = info.blockCount[0];
        this._blockCount[1] = info.blockCount[1];
        this._weightMapSize = info.weightMapSize;
        this._lightMapSize = info.lightMapSize;
        return this._buildImp();
      }
      /**
       * @en rebuild
       * @zh 重建地形
       */

    }, {
      key: "rebuild",
      value: function rebuild(info) {
        // build block info
        var blockInfos = [];

        for (var i = 0; i < info.blockCount[0] * info.blockCount[1]; ++i) {
          blockInfos.push(new TerrainBlockInfo());
        }

        var w = Math.min(this._blockCount[0], info.blockCount[0]);
        var h = Math.min(this._blockCount[1], info.blockCount[1]);

        for (var j = 0; j < h; ++j) {
          for (var _i2 = 0; _i2 < w; ++_i2) {
            var index0 = j * info.blockCount[0] + _i2;
            var index1 = j * this.blockCount[0] + _i2;
            blockInfos[index0] = this._blockInfos[index1];
          }
        }

        this._blockInfos = blockInfos;

        var _iterator = _createForOfIteratorHelper(this._blocks),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var block = _step.value;
            block.destroy();
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }

        this._blocks = []; // build heights

        this._rebuildHeights(info); // build weights


        this._rebuildWeights(info); // update info


        this._tileSize = info.tileSize;
        this._blockCount[0] = info.blockCount[0];
        this._blockCount[1] = info.blockCount[1];
        this._weightMapSize = info.weightMapSize;
        this._lightMapSize = info.lightMapSize; // build blocks

        this._buildNormals();

        for (var _j2 = 0; _j2 < this._blockCount[1]; ++_j2) {
          for (var _i3 = 0; _i3 < this._blockCount[0]; ++_i3) {
            this._blocks.push(new TerrainBlock(this, _i3, _j2));
          }
        }

        var _iterator2 = _createForOfIteratorHelper(this._blocks),
            _step2;

        try {
          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {
            var _i4 = _step2.value;

            _i4.build();
          }
        } catch (err) {
          _iterator2.e(err);
        } finally {
          _iterator2.f();
        }
      }
      /**
       * @en import height field
       * @zh 导入高度图
       */

    }, {
      key: "importHeightField",
      value: function importHeightField(hf, heightScale) {
        var index = 0;

        for (var j = 0; j < this.vertexCount[1]; ++j) {
          for (var i = 0; i < this.vertexCount[0]; ++i) {
            var u = i / this.tileCount[0];
            var v = j / this.tileCount[1];
            var h = hf.getAt(u * hf.w, v * hf.h) * heightScale;
            this._heights[index++] = h;
          }
        }

        this._buildNormals(); // rebuild all blocks


        var _iterator3 = _createForOfIteratorHelper(this._blocks),
            _step3;

        try {
          for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {
            var _i5 = _step3.value;

            _i5._updateHeight();
          }
        } catch (err) {
          _iterator3.e(err);
        } finally {
          _iterator3.f();
        }
      }
      /**
       * @en export height field
       * @zh 导出高度图
       */

    }, {
      key: "exportHeightField",
      value: function exportHeightField(hf, heightScale) {
        var index = 0;

        for (var j = 0; j < hf.h; ++j) {
          for (var i = 0; i < hf.w; ++i) {
            var u = i / (hf.w - 1);
            var v = j / (hf.h - 1);
            var x = u * this.size.width;
            var y = v * this.size.height;
            var h = this.getHeightAt(x, y);

            if (h != null) {
              hf.data[index++] = h * heightScale;
            }
          }
        }
      }
    }, {
      key: "exportAsset",
      value: function exportAsset() {
        var asset = new _terrainAsset.TerrainAsset();
        asset.tileSize = this.tileSize;
        asset.blockCount = this.blockCount;
        asset.lightMapSize = this.lightMapSize;
        asset.weightMapSize = this.weightMapSize;
        asset.heights = this.heights;
        asset.weights = this.weights;
        asset.layerBuffer = new Array(this._blocks.length * 4);

        for (var i = 0; i < this._blocks.length; ++i) {
          asset.layerBuffer[i * 4 + 0] = this._blocks[i].layers[0];
          asset.layerBuffer[i * 4 + 1] = this._blocks[i].layers[1];
          asset.layerBuffer[i * 4 + 2] = this._blocks[i].layers[2];
          asset.layerBuffer[i * 4 + 3] = this._blocks[i].layers[3];
        }

        for (var _i6 = 0; _i6 < this._layers.length; ++_i6) {
          var temp = this._layers[_i6];

          if (temp && temp.detailMap && (0, _object.isValid)(temp.detailMap)) {
            var layer = new _terrainAsset.TerrainLayerInfo();
            layer.slot = _i6;
            layer.tileSize = temp.tileSize;
            layer.detailMap = temp.detailMap._uuid;
            asset.layerInfos.push(layer);
          }
        }

        return asset;
      }
    }, {
      key: "onLoad",
      value: function onLoad() {
        var gfxDevice = cc.director.root.device; // initialize shared index buffer

        var indexData = new Uint16Array(TERRAIN_BLOCK_TILE_COMPLEXITY * TERRAIN_BLOCK_TILE_COMPLEXITY * 6);
        var index = 0;

        for (var j = 0; j < TERRAIN_BLOCK_TILE_COMPLEXITY; ++j) {
          for (var i = 0; i < TERRAIN_BLOCK_TILE_COMPLEXITY; ++i) {
            var a = j * TERRAIN_BLOCK_VERTEX_COMPLEXITY + i;
            var b = j * TERRAIN_BLOCK_VERTEX_COMPLEXITY + i + 1;
            var c = (j + 1) * TERRAIN_BLOCK_VERTEX_COMPLEXITY + i;
            var d = (j + 1) * TERRAIN_BLOCK_VERTEX_COMPLEXITY + i + 1; // face 1

            indexData[index++] = a;
            indexData[index++] = c;
            indexData[index++] = b; // face 2

            indexData[index++] = b;
            indexData[index++] = c;
            indexData[index++] = d;
          }
        }

        this._sharedIndexBuffer = gfxDevice.createBuffer({
          usage: _define.GFXBufferUsageBit.INDEX | _define.GFXBufferUsageBit.TRANSFER_DST,
          memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
          size: Uint16Array.BYTES_PER_ELEMENT * TERRAIN_BLOCK_TILE_COMPLEXITY * TERRAIN_BLOCK_TILE_COMPLEXITY * 6,
          stride: Uint16Array.BYTES_PER_ELEMENT
        });

        this._sharedIndexBuffer.update(indexData);
      }
    }, {
      key: "onEnable",
      value: function onEnable() {
        if (this._blocks.length === 0) {
          this._buildImp();
        }
      }
    }, {
      key: "onDisable",
      value: function onDisable() {
        var _iterator4 = _createForOfIteratorHelper(this._blocks),
            _step4;

        try {
          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {
            var i = _step4.value;
            i.destroy();
          }
        } catch (err) {
          _iterator4.e(err);
        } finally {
          _iterator4.f();
        }

        this._blocks = [];
      }
    }, {
      key: "onDestroy",
      value: function onDestroy() {
        for (var i = 0; i < this._layers.length; ++i) {
          this._layers[i] = null;
        }

        if (this._sharedIndexBuffer != null) {
          this._sharedIndexBuffer.destroy();
        }
      }
    }, {
      key: "onRestore",
      value: function onRestore() {
        this.onDisable();
        this.onLoad();

        this._buildImp(true);
      }
    }, {
      key: "update",
      value: function update(deltaTime) {
        var _iterator5 = _createForOfIteratorHelper(this._blocks),
            _step5;

        try {
          for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {
            var i = _step5.value;
            i.update();
          }
        } catch (err) {
          _iterator5.e(err);
        } finally {
          _iterator5.f();
        }
      }
      /**
       * @en add layer
       * @zh 添加纹理层
       */

    }, {
      key: "addLayer",
      value: function addLayer(layer) {
        for (var i = 0; i < this._layers.length; ++i) {
          if (this._layers[i] == null) {
            this._layers[i] = layer;
            return i;
          }
        }

        return -1;
      }
      /**
       * @en set layer
       * @zh 设置纹理层
       */

    }, {
      key: "setLayer",
      value: function setLayer(i, layer) {
        this._layers[i] = layer;
      }
      /**
       * @en remove layer
       * @zh 移除纹理层
       */

    }, {
      key: "removeLayer",
      value: function removeLayer(id) {
        this._layers[id] = null;
      }
      /**
       * @en get layer
       * @zh 获得纹理层
       */

    }, {
      key: "getLayer",
      value: function getLayer(id) {
        if (id === -1) {
          return null;
        }

        return this._layers[id];
      }
      /**
       * @en get position
       * @zh 获得地形上的位置
       */

    }, {
      key: "getPosition",
      value: function getPosition(i, j) {
        var x = i * this._tileSize;
        var z = j * this._tileSize;
        var y = this.getHeight(i, j);
        return new _index4.Vec3(x, y, z);
      }
    }, {
      key: "getHeightField",
      value: function getHeightField() {
        return this._heights;
      }
      /**
       * @en set height
       * @zh 设置地形上的高度
       */

    }, {
      key: "setHeight",
      value: function setHeight(i, j, h) {
        this._heights[j * this.vertexCount[0] + i] = TERRAIN_HEIGHT_BASE + h / TERRAIN_HEIGHT_FACTORY;
      }
      /**
       * @en get height
       * @zh 获得地形上的高度
       */

    }, {
      key: "getHeight",
      value: function getHeight(i, j) {
        return (this._heights[j * this.vertexCount[0] + i] - TERRAIN_HEIGHT_BASE) * TERRAIN_HEIGHT_FACTORY;
      }
      /**
       * @en set height
       * @zh 设置高度
       */

    }, {
      key: "getHeightClamp",
      value: function getHeightClamp(i, j) {
        i = (0, _index4.clamp)(i, 0, this.vertexCount[0] - 1);
        j = (0, _index4.clamp)(j, 0, this.vertexCount[1] - 1);
        return this.getHeight(i, j);
      }
      /**
       * @en get height by point
       * @zh 根据点的坐标获得高度
       */

    }, {
      key: "getHeightAt",
      value: function getHeightAt(x, y) {
        var fx = x / this.tileSize;
        var fy = y / this.tileSize;
        var ix0 = Math.floor(fx);
        var iz0 = Math.floor(fy);
        var ix1 = ix0 + 1;
        var iz1 = iz0 + 1;
        var dx = fx - ix0;
        var dz = fy - iz0;

        if (ix0 < 0 || ix0 > this.vertexCount[0] - 1 || iz0 < 0 || iz0 > this.vertexCount[1] - 1) {
          return null;
        }

        ix0 = (0, _index4.clamp)(ix0, 0, this.vertexCount[0] - 1);
        iz0 = (0, _index4.clamp)(iz0, 0, this.vertexCount[1] - 1);
        ix1 = (0, _index4.clamp)(ix1, 0, this.vertexCount[0] - 1);
        iz1 = (0, _index4.clamp)(iz1, 0, this.vertexCount[1] - 1);
        var a = this.getHeight(ix0, iz0);
        var b = this.getHeight(ix1, iz0);
        var c = this.getHeight(ix0, iz1);
        var d = this.getHeight(ix1, iz1);
        var m = (b + c) * 0.5;

        if (dx + dz <= 1.0) {
          d = m + (m - a);
        } else {
          a = m + (m - d);
        }

        var h1 = a * (1.0 - dx) + b * dx;
        var h2 = c * (1.0 - dx) + d * dx;
        var h = h1 * (1.0 - dz) + h2 * dz;
        return h;
      }
    }, {
      key: "_setNormal",
      value: function _setNormal(i, j, n) {
        var index = j * this.vertexCount[0] + i;
        this._normals[index * 3 + 0] = n.x;
        this._normals[index * 3 + 1] = n.y;
        this._normals[index * 3 + 2] = n.z;
      }
      /**
       * @en get normal
       * @zh 获得法线
       */

    }, {
      key: "getNormal",
      value: function getNormal(i, j) {
        var index = j * this.vertexCount[0] + i;
        var n = new _index4.Vec3();
        n.x = this._normals[index * 3 + 0];
        n.y = this._normals[index * 3 + 1];
        n.z = this._normals[index * 3 + 2];
        return n;
      }
      /**
       * @en get normal by point
       * @zh 根据点的坐标获得法线
       */

    }, {
      key: "getNormalAt",
      value: function getNormalAt(x, y) {
        var fx = x / this.tileSize;
        var fy = y / this.tileSize;
        var ix0 = Math.floor(fx);
        var iz0 = Math.floor(fy);
        var ix1 = ix0 + 1;
        var iz1 = iz0 + 1;
        var dx = fx - ix0;
        var dz = fy - iz0;

        if (ix0 < 0 || ix0 > this.vertexCount[0] - 1 || iz0 < 0 || iz0 > this.vertexCount[1] - 1) {
          return null;
        }

        ix0 = (0, _index4.clamp)(ix0, 0, this.vertexCount[0] - 1);
        iz0 = (0, _index4.clamp)(iz0, 0, this.vertexCount[1] - 1);
        ix1 = (0, _index4.clamp)(ix1, 0, this.vertexCount[0] - 1);
        iz1 = (0, _index4.clamp)(iz1, 0, this.vertexCount[1] - 1);
        var a = this.getNormal(ix0, iz0);
        var b = this.getNormal(ix1, iz0);
        var c = this.getNormal(ix0, iz1);
        var d = this.getNormal(ix1, iz1);
        var m = new _index4.Vec3();

        _index4.Vec3.add(m, b, c).multiplyScalar(0.5);

        if (dx + dz <= 1.0) {
          // d = m + (m - a);
          d.set(m);
          d.subtract(a);
          d.add(m);
        } else {
          // a = m + (m - d);
          a.set(m);
          a.subtract(d);
          a.add(m);
        }

        var n1 = new _index4.Vec3();
        var n2 = new _index4.Vec3();
        var n = new _index4.Vec3();

        _index4.Vec3.lerp(n1, a, b, dx);

        _index4.Vec3.lerp(n2, c, d, dx);

        _index4.Vec3.lerp(n, n1, n2, dz);

        return n;
      }
      /**
       * @en set weight
       * @zh 设置权重
       */

    }, {
      key: "setWeight",
      value: function setWeight(i, j, w) {
        var index = j * this._weightMapSize * this._blockCount[0] + i;
        this._weights[index * 4 + 0] = w.x * 255;
        this._weights[index * 4 + 1] = w.y * 255;
        this._weights[index * 4 + 2] = w.z * 255;
        this._weights[index * 4 + 3] = w.w * 255;
      }
      /**
       * @en get weight
       * @zh 获得权重
       */

    }, {
      key: "getWeight",
      value: function getWeight(i, j) {
        var index = j * this._weightMapSize * this._blockCount[0] + i;
        var w = new _index4.Vec4();
        w.x = this._weights[index * 4 + 0] / 255.0;
        w.y = this._weights[index * 4 + 1] / 255.0;
        w.z = this._weights[index * 4 + 2] / 255.0;
        w.w = this._weights[index * 4 + 3] / 255.0;
        return w;
      }
      /**
       * @en get normal by point
       * @zh 根据点的坐标获得权重
       */

    }, {
      key: "getWeightAt",
      value: function getWeightAt(x, y) {
        var fx = x / this.tileSize;
        var fy = y / this.tileSize;
        var ix0 = Math.floor(fx);
        var iz0 = Math.floor(fy);
        var ix1 = ix0 + 1;
        var iz1 = iz0 + 1;
        var dx = fx - ix0;
        var dz = fy - iz0;

        if (ix0 < 0 || ix0 > this.vertexCount[0] - 1 || iz0 < 0 || iz0 > this.vertexCount[1] - 1) {
          return null;
        }

        ix0 = (0, _index4.clamp)(ix0, 0, this.vertexCount[0] - 1);
        iz0 = (0, _index4.clamp)(iz0, 0, this.vertexCount[1] - 1);
        ix1 = (0, _index4.clamp)(ix1, 0, this.vertexCount[0] - 1);
        iz1 = (0, _index4.clamp)(iz1, 0, this.vertexCount[1] - 1);
        var a = this.getWeight(ix0, iz0);
        var b = this.getWeight(ix1, iz0);
        var c = this.getWeight(ix0, iz1);
        var d = this.getWeight(ix1, iz1);
        var m = new _index4.Vec4();

        _index4.Vec4.add(m, b, c).multiplyScalar(0.5);

        if (dx + dz <= 1.0) {
          d = new _index4.Vec4();

          _index4.Vec4.subtract(d, m, a).add(m);
        } else {
          a = new _index4.Vec4();

          _index4.Vec4.subtract(a, m, d).add(m);
        }

        var n1 = new _index4.Vec4();
        var n2 = new _index4.Vec4();
        var n = new _index4.Vec4();

        _index4.Vec4.lerp(n1, a, b, dx);

        _index4.Vec4.lerp(n2, c, d, dx);

        _index4.Vec4.lerp(n, n1, n2, dz);

        return n;
      }
      /**
       * @en get block info
       * @zh 获得地形块信息
       */

    }, {
      key: "getBlockInfo",
      value: function getBlockInfo(i, j) {
        return this._blockInfos[j * this._blockCount[0] + i];
      }
      /**
       * @en get block
       * @zh 获得地形块对象
       */

    }, {
      key: "getBlock",
      value: function getBlock(i, j) {
        return this._blocks[j * this._blockCount[0] + i];
      }
      /**
       * @en get all blocks
       * @zh 获得地形块缓存
       */

    }, {
      key: "getBlocks",
      value: function getBlocks() {
        return this._blocks;
      }
      /**
       * @en ray check
       * @param start ray start
       * @param dir ray direction
       * @param step ray step
       * @param worldSpace is world space
       * @zh 射线检测
       * @param start 射线原点
       * @param dir 射线方向
       * @param step 射线步长
       * @param worldSpace 是否在世界空间
       */

    }, {
      key: "rayCheck",
      value: function rayCheck(start, dir, step) {
        var worldSpace = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;
        var MAX_COUNT = 2000;
        var trace = start;

        if (worldSpace) {
          _index4.Vec3.subtract(trace, start, this.node.getWorldPosition());
        }

        var delta = new _index4.Vec3();
        delta.set(dir);
        delta.multiplyScalar(step);
        var position = null;

        if (dir.equals(new _index4.Vec3(0, 1, 0))) {
          var y = this.getHeightAt(trace.x, trace.z);

          if (y != null && trace.y <= y) {
            position = new _index4.Vec3(trace.x, y, trace.z);
          }
        } else if (dir.equals(new _index4.Vec3(0, -1, 0))) {
          var _y2 = this.getHeightAt(trace.x, trace.z);

          if (_y2 != null && trace.y >= _y2) {
            position = new _index4.Vec3(trace.x, _y2, trace.z);
          }
        } else {
          var i = 0; // 优先大步进查找

          while (i++ < MAX_COUNT) {
            var _y3 = this.getHeightAt(trace.x, trace.z);

            if (_y3 != null && trace.y <= _y3) {
              break;
            }

            trace.add(dir);
          } // 穷举法


          while (i++ < MAX_COUNT) {
            var _y4 = this.getHeightAt(trace.x, trace.z);

            if (_y4 != null && trace.y <= _y4) {
              position = new _index4.Vec3(trace.x, _y4, trace.z);
              break;
            }

            trace.add(delta);
          }
        }

        return position;
      }
    }, {
      key: "_getSharedIndexBuffer",
      value: function _getSharedIndexBuffer() {
        return this._sharedIndexBuffer;
      }
    }, {
      key: "_resetLightmap",
      value: function _resetLightmap(enble) {
        this._lightmapInfos.length = 0;

        if (enble) {
          for (var i = 0; i < this._blockCount[0] * this._blockCount[1]; ++i) {
            this._lightmapInfos.push(new TerrainBlockLightmapInfo());
          }
        }
      }
    }, {
      key: "_updateLightmap",
      value: function _updateLightmap(blockId, tex, uOff, vOff, uScale, vScale) {
        this._lightmapInfos[blockId].texture = tex;
        this._lightmapInfos[blockId].UOff = uOff;
        this._lightmapInfos[blockId].VOff = vOff;
        this._lightmapInfos[blockId].UScale = uScale;
        this._lightmapInfos[blockId].VScale = vScale;

        this._blocks[blockId]._updateLightmap(this._lightmapInfos[blockId]);
      }
    }, {
      key: "_getLightmapInfo",
      value: function _getLightmapInfo(i, j) {
        var index = j * this._blockCount[0] + i;
        return index < this._lightmapInfos.length ? this._lightmapInfos[index] : null;
      }
    }, {
      key: "_calcNormal",
      value: function _calcNormal(x, z) {
        var flip = 1;
        var here = this.getPosition(x, z);
        var right;
        var up;

        if (x < this.vertexCount[0] - 1) {
          right = this.getPosition(x + 1, z);
        } else {
          flip *= -1;
          right = this.getPosition(x - 1, z);
        }

        if (z < this.vertexCount[1] - 1) {
          up = this.getPosition(x, z + 1);
        } else {
          flip *= -1;
          up = this.getPosition(x, z - 1);
        }

        right.subtract(here);
        up.subtract(here);
        var normal = new _index4.Vec3();
        normal.set(up);
        normal.cross(right);
        normal.multiplyScalar(flip);
        normal.normalize();
        return normal;
      }
    }, {
      key: "_buildNormals",
      value: function _buildNormals() {
        var index = 0;

        for (var y = 0; y < this.vertexCount[1]; ++y) {
          for (var x = 0; x < this.vertexCount[0]; ++x) {
            var n = this._calcNormal(x, y);

            this._normals[index * 3 + 0] = n.x;
            this._normals[index * 3 + 1] = n.y;
            this._normals[index * 3 + 2] = n.z;
            index += 1;
          }
        }
      }
    }, {
      key: "_buildImp",
      value: function _buildImp() {
        var _this3 = this;

        var restore = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

        if (this.valid) {
          return true;
        }

        if (!restore && this.__asset != null) {
          this._tileSize = this.__asset.tileSize;
          this._blockCount = this.__asset.blockCount;
          this._weightMapSize = this.__asset.weightMapSize;
          this._lightMapSize = this.__asset.lightMapSize;
          this._heights = this.__asset.heights;
          this._weights = this.__asset.weights; // build layers

          var initial = true;

          for (var i = 0; i < this._layers.length; ++i) {
            if (this._layers[i] != null) {
              initial = false;
            }
          }

          if (initial && this._asset != null) {
            var _iterator6 = _createForOfIteratorHelper(this._asset.layerInfos),
                _step6;

            try {
              var _loop = function _loop() {
                var i = _step6.value;
                var layer = new TerrainLayer();
                layer.tileSize = i.tileSize;
                cc.loader.loadRes(i.detailMap, _index2.Texture2D, function (err, asset) {
                  layer.detailMap = asset;
                });
                _this3._layers[i.slot] = layer;
              };

              for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {
                _loop();
              }
            } catch (err) {
              _iterator6.e(err);
            } finally {
              _iterator6.f();
            }
          }
        }

        if (this._blockCount[0] === 0 || this._blockCount[1] === 0) {
          return false;
        } // build heights & normals


        var vertexCount = this.vertexCount[0] * this.vertexCount[1];

        if (this._heights === null || this._heights.length !== vertexCount) {
          this._heights = new Uint16Array(vertexCount);
          this._normals = new Array(vertexCount * 3);

          for (var _i7 = 0; _i7 < vertexCount; ++_i7) {
            this._heights[_i7] = TERRAIN_HEIGHT_BASE;
            this._normals[_i7 * 3 + 0] = 0;
            this._normals[_i7 * 3 + 1] = 1;
            this._normals[_i7 * 3 + 2] = 0;
          }
        } else {
          this._normals = new Array(vertexCount * 3);

          this._buildNormals();
        } // build weights


        var weightMapComplexityU = this._weightMapSize * this._blockCount[0];
        var weightMapComplexityV = this._weightMapSize * this._blockCount[1];

        if (this._weights.length !== weightMapComplexityU * weightMapComplexityV * 4) {
          this._weights = new Uint8Array(weightMapComplexityU * weightMapComplexityV * 4);

          for (var _i8 = 0; _i8 < weightMapComplexityU * weightMapComplexityV; ++_i8) {
            this._weights[_i8 * 4 + 0] = 255;
            this._weights[_i8 * 4 + 1] = 0;
            this._weights[_i8 * 4 + 2] = 0;
            this._weights[_i8 * 4 + 3] = 0;
          }
        } // build blocks


        if (this._blockInfos.length !== this._blockCount[0] * this._blockCount[1]) {
          this._blockInfos = [];

          for (var j = 0; j < this._blockCount[1]; ++j) {
            for (var _i9 = 0; _i9 < this._blockCount[0]; ++_i9) {
              var info = new TerrainBlockInfo();

              if (this._asset != null) {
                info.layers[0] = this._asset.getLayer(_i9, j, 0);
                info.layers[1] = this._asset.getLayer(_i9, j, 1);

                if (info.layers[1] === info.layers[0]) {
                  info.layers[1] = -1;
                }

                info.layers[2] = this._asset.getLayer(_i9, j, 2);

                if (info.layers[2] === info.layers[0]) {
                  info.layers[2] = -1;
                }

                info.layers[3] = this._asset.getLayer(_i9, j, 3);

                if (info.layers[3] === info.layers[0]) {
                  info.layers[3] = -1;
                }
              }

              this._blockInfos.push(info);
            }
          }
        }

        for (var _j3 = 0; _j3 < this._blockCount[1]; ++_j3) {
          for (var _i10 = 0; _i10 < this._blockCount[0]; ++_i10) {
            this._blocks.push(new TerrainBlock(this, _i10, _j3));
          }
        }

        var _iterator7 = _createForOfIteratorHelper(this._blocks),
            _step7;

        try {
          for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {
            var _i11 = _step7.value;

            _i11.build();
          }
        } catch (err) {
          _iterator7.e(err);
        } finally {
          _iterator7.f();
        }
      }
    }, {
      key: "_rebuildHeights",
      value: function _rebuildHeights(info) {
        if (this.vertexCount[0] === info.vertexCount[0] && this.vertexCount[1] === info.vertexCount[1]) {
          return false;
        }

        var heights = new Uint16Array(info.vertexCount[0] * info.vertexCount[1]);

        for (var i = 0; i < heights.length; ++i) {
          heights[i] = TERRAIN_HEIGHT_BASE;
        }

        var w = Math.min(this.vertexCount[0], info.vertexCount[0]);
        var h = Math.min(this.vertexCount[1], info.vertexCount[1]);

        for (var j = 0; j < h; ++j) {
          for (var _i12 = 0; _i12 < w; ++_i12) {
            var index0 = j * info.vertexCount[0] + _i12;
            var index1 = j * this.vertexCount[0] + _i12;
            heights[index0] = this._heights[index1];
          }
        }

        this._heights = heights;
        return true;
      }
    }, {
      key: "_rebuildWeights",
      value: function _rebuildWeights(info) {
        var _this4 = this;

        var oldWeightMapSize = this._weightMapSize;
        var oldWeightMapComplexityU = this._weightMapSize * this._blockCount[0];
        var oldWeightMapComplexityV = this._weightMapSize * this._blockCount[1];
        var weightMapComplexityU = info.weightMapSize * info.blockCount[0];
        var weightMapComplexityV = info.weightMapSize * info.blockCount[1];

        if (weightMapComplexityU === oldWeightMapComplexityU && weightMapComplexityV === oldWeightMapComplexityV) {
          return false;
        }

        var weights = new Uint8Array(weightMapComplexityU * weightMapComplexityV * 4);

        for (var i = 0; i < weightMapComplexityU * weightMapComplexityV; ++i) {
          weights[i * 4 + 0] = 255;
          weights[i * 4 + 1] = 0;
          weights[i * 4 + 2] = 0;
          weights[i * 4 + 3] = 0;
        }

        var w = Math.min(info.blockCount[0], this._blockCount[0]);
        var h = Math.min(info.blockCount[1], this._blockCount[1]); // get weight

        var getOldWeight = function getOldWeight(_i, _j, _weights) {
          var index = _j * oldWeightMapComplexityU + _i;
          var weight = new _index4.Vec4();
          weight.x = _weights[index * 4 + 0] / 255.0;
          weight.y = _weights[index * 4 + 1] / 255.0;
          weight.z = _weights[index * 4 + 2] / 255.0;
          weight.w = _weights[index * 4 + 3] / 255.0;
          return weight;
        }; // sample weight


        var sampleOldWeight = function sampleOldWeight(_x, _y, _xOff, _yOff, _weights) {
          var ix0 = Math.floor(_x);
          var iz0 = Math.floor(_y);
          var ix1 = ix0 + 1;
          var iz1 = iz0 + 1;
          var dx = _x - ix0;
          var dz = _y - iz0;
          var a = getOldWeight(ix0 + _xOff, iz0 + _yOff, _this4._weights);
          var b = getOldWeight(ix1 + _xOff, iz0 + _yOff, _this4._weights);
          var c = getOldWeight(ix0 + _xOff, iz1 + _yOff, _this4._weights);
          var d = getOldWeight(ix1 + _xOff, iz1 + _yOff, _this4._weights);
          var m = new _index4.Vec4();

          _index4.Vec4.add(m, b, c).multiplyScalar(0.5);

          if (dx + dz <= 1.0) {
            d.set(m);
            d.subtract(a);
            d.add(m);
          } else {
            a.set(m);
            a.subtract(d);
            a.add(m);
          }

          var n1 = new _index4.Vec4();
          var n2 = new _index4.Vec4();
          var n = new _index4.Vec4();

          _index4.Vec4.lerp(n1, a, b, dx);

          _index4.Vec4.lerp(n2, c, d, dx);

          _index4.Vec4.lerp(n, n1, n2, dz);

          return n;
        }; // fill new weights


        for (var j = 0; j < h; ++j) {
          for (var _i13 = 0; _i13 < w; ++_i13) {
            var uOff = _i13 * oldWeightMapSize;
            var vOff = j * oldWeightMapSize;

            for (var v = 0; v < info.weightMapSize; ++v) {
              for (var u = 0; u < info.weightMapSize; ++u) {
                // tslint:disable-next-line: no-shadowed-variable
                var _w = void 0;

                if (info.weightMapSize === oldWeightMapSize) {
                  _w = getOldWeight(u + uOff, v + vOff, this._weights);
                } else {
                  var x = u / (info.weightMapSize - 1) * (oldWeightMapSize - 1);
                  var y = v / (info.weightMapSize - 1) * (oldWeightMapSize - 1);
                  _w = sampleOldWeight(x, y, uOff, vOff, this._weights);
                }

                var du = _i13 * info.weightMapSize + u;
                var dv = j * info.weightMapSize + v;
                var index = dv * weightMapComplexityU + du;
                weights[index * 4 + 0] = _w.x * 255;
                weights[index * 4 + 1] = _w.y * 255;
                weights[index * 4 + 2] = _w.z * 255;
                weights[index * 4 + 3] = _w.w * 255;
              }
            }
          }
        }

        this._weights = weights;
        return true;
      }
    }, {
      key: "_asset",
      set: function set(value) {
        if (this.__asset !== value) {
          this.__asset = value;

          if (this.__asset != null && this.valid) {
            // rebuild
            var _iterator8 = _createForOfIteratorHelper(this._blocks),
                _step8;

            try {
              for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {
                var block = _step8.value;
                block.destroy();
              }
            } catch (err) {
              _iterator8.e(err);
            } finally {
              _iterator8.f();
            }

            this._blocks = [];
            this._blockInfos = [];

            this._buildImp();
          }
        }
      },
      get: function get() {
        return this.__asset;
      }
      /**
       * @en get terrain size
       * @zh 获得地形大小
       */

    }, {
      key: "size",
      get: function get() {
        var sz = new _index4.Size(0, 0);
        sz.width = this.blockCount[0] * TERRAIN_BLOCK_TILE_COMPLEXITY * this.tileSize;
        sz.height = this.blockCount[1] * TERRAIN_BLOCK_TILE_COMPLEXITY * this.tileSize;
        return sz;
      }
      /**
       * @en get tile size
       * @zh 获得栅格大小
       */

    }, {
      key: "tileSize",
      get: function get() {
        return this._tileSize;
      }
      /**
       * @en get tile count
       * @zh 获得栅格数量
       */

    }, {
      key: "tileCount",
      get: function get() {
        return [this.blockCount[0] * TERRAIN_BLOCK_TILE_COMPLEXITY, this.blockCount[1] * TERRAIN_BLOCK_TILE_COMPLEXITY];
      }
      /**
       * @en get vertex count
       * @zh 获得顶点数量
       */

    }, {
      key: "vertexCount",
      get: function get() {
        var _vertexCount = this.tileCount;
        _vertexCount[0] += 1;
        _vertexCount[1] += 1;
        return _vertexCount;
      }
      /**
       * @en get block count
       * @zh 获得地形块数量
       */

    }, {
      key: "blockCount",
      get: function get() {
        return this._blockCount;
      }
      /**
       * @en get light map size
       * @zh 获得光照图大小
       */

    }, {
      key: "lightMapSize",
      get: function get() {
        return this._lightMapSize;
      }
      /**
       * @en get weight map size
       * @zh 获得权重图大小
       */

    }, {
      key: "weightMapSize",
      get: function get() {
        return this._weightMapSize;
      }
      /**
       * @en get height buffer
       * @zh 获得高度缓存
       */

    }, {
      key: "heights",
      get: function get() {
        return this._heights;
      }
      /**
       * @en get weight buffer
       * @zh 获得权重缓存
       */

    }, {
      key: "weights",
      get: function get() {
        return this._weights;
      }
      /**
       * @en check valid
       * @zh 检测是否有效
       */

    }, {
      key: "valid",
      get: function get() {
        return this._blocks.length > 0;
      }
      /**
       * @en get terrain info
       * @zh 获得地形信息
       */

    }, {
      key: "info",
      get: function get() {
        var ti = new TerrainInfo();
        ti.tileSize = this.tileSize;
        ti.blockCount[0] = this.blockCount[0];
        ti.blockCount[1] = this.blockCount[1];
        ti.weightMapSize = this.weightMapSize;
        ti.lightMapSize = this.lightMapSize;
        return ti;
      }
    }]);

    return Terrain;
  }(_index3.Component), _temp5), (_descriptor13 = _applyDecoratedDescriptor(_class14.prototype, "__asset", [_dec7], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor14 = _applyDecoratedDescriptor(_class14.prototype, "_layers", [_dec8], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return [];
    }
  }), _descriptor15 = _applyDecoratedDescriptor(_class14.prototype, "_blockInfos", [_dec9], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return [];
    }
  }), _descriptor16 = _applyDecoratedDescriptor(_class14.prototype, "_lightmapInfos", [_dec10], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return [];
    }
  }), _applyDecoratedDescriptor(_class14.prototype, "_asset", [_dec11], Object.getOwnPropertyDescriptor(_class14.prototype, "_asset"), _class14.prototype), _applyDecoratedDescriptor(_class14.prototype, "info", [_dec12], Object.getOwnPropertyDescriptor(_class14.prototype, "info"), _class14.prototype)), _class14)) || _class13) || _class13) || _class13) || _class13);
  _exports.Terrain = Terrain;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvdGVycmFpbi90ZXJyYWluLnRzIl0sIm5hbWVzIjpbIlRFUlJBSU5fTUFYX0xFVkVMUyIsIlRFUlJBSU5fTUFYX0JMRU5EX0xBWUVSUyIsIlRFUlJBSU5fTUFYX0xBWUVSX0NPVU5UIiwiVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFkiLCJURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZIiwiVEVSUkFJTl9CTE9DS19WRVJURVhfU0laRSIsIlRFUlJBSU5fSEVJR0hUX0JBU0UiLCJURVJSQUlOX0hFSUdIVF9GQUNUT1JZIiwiVEVSUkFJTl9OT1JUSF9JTkRFWCIsIlRFUlJBSU5fU09VVEhfSU5ERVgiLCJURVJSQUlOX1dFU1RfSU5ERVgiLCJURVJSQUlOX0VBU1RfSU5ERVgiLCJUZXJyYWluSW5mbyIsInN6IiwiU2l6ZSIsIndpZHRoIiwiYmxvY2tDb3VudCIsInRpbGVTaXplIiwiaGVpZ2h0IiwiX3RpbGVDb3VudCIsIl92ZXJ0ZXhDb3VudCIsInRpbGVDb3VudCIsInByb3BlcnR5IiwiVGVycmFpbkxheWVyIiwiVGVycmFpblJlbmRlcmFibGUiLCJfbW9kZWwiLCJfbWVzaERhdGEiLCJfYnJ1c2hNYXRlcmlhbCIsIl9jdXJyZW50TWF0ZXJpYWwiLCJfY3VycmVudE1hdGVyaWFsTGF5ZXJzIiwiY2MiLCJkaXJlY3RvciIsInJvb3QiLCJkZXN0cm95TW9kZWwiLCJfY2xlYXJNYXRlcmlhbHMiLCJlbmFibGVkIiwiYmxvY2siLCJpbml0IiwibkxheWVycyIsImdldE1heExheWVyIiwiTWF0ZXJpYWwiLCJpbml0aWFsaXplIiwiZWZmZWN0QXNzZXQiLCJFZmZlY3RBc3NldCIsImdldCIsImRlZmluZXMiLCJfZ2V0TWF0ZXJpYWxEZWZpbmVzIiwicGFzc2VzIiwicHVzaCIsImluaXRTdWJNb2RlbCIsInNldE1hdGVyaWFsIiwiaWR4IiwibXRsIiwiX29uUmVidWlsZFBTTyIsIl9nZXRCdWlsdGluTWF0ZXJpYWwiLCJtYXRlcmlhbCIsInNldFN1Yk1vZGVsTWF0ZXJpYWwiLCJfb25NYXRlcmlhbE1vZGlmaWVkIiwiYnVpbHRpblJlc01nciIsIlJlbmRlcmFibGVDb21wb25lbnQiLCJUZXJyYWluQmxvY2tJbmZvIiwiVGVycmFpbkJsb2NrTGlnaHRtYXBJbmZvIiwiVGVycmFpbkJsb2NrIiwidCIsImkiLCJqIiwiX3RlcnJhaW4iLCJfaW5mbyIsIl9ub2RlIiwiX3JlbmRlcmFibGUiLCJfaW5kZXgiLCJfd2VpZ2h0TWFwIiwiX2xpZ2h0bWFwSW5mbyIsImdldEJsb2NrSW5mbyIsIl9nZXRMaWdodG1hcEluZm8iLCJQcml2YXRlTm9kZSIsInNldFBhcmVudCIsIm5vZGUiLCJfb2JqRmxhZ3MiLCJPYmplY3QiLCJGbGFncyIsIkRvbnRTYXZlIiwiYWRkQ29tcG9uZW50IiwiZ2Z4RGV2aWNlIiwiZGV2aWNlIiwidmVydGV4RGF0YSIsIkZsb2F0MzJBcnJheSIsImluZGV4IiwieCIsInkiLCJwb3NpdGlvbiIsImdldFBvc2l0aW9uIiwibm9ybWFsIiwiZ2V0Tm9ybWFsIiwidXYiLCJWZWMyIiwieiIsInZlcnRleEJ1ZmZlciIsImNyZWF0ZUJ1ZmZlciIsInVzYWdlIiwiR0ZYQnVmZmVyVXNhZ2VCaXQiLCJWRVJURVgiLCJUUkFOU0ZFUl9EU1QiLCJtZW1Vc2FnZSIsIkdGWE1lbW9yeVVzYWdlQml0IiwiSE9TVCIsIkRFVklDRSIsInNpemUiLCJCWVRFU19QRVJfRUxFTUVOVCIsInN0cmlkZSIsInVwZGF0ZSIsImdmeEF0dHJpYnV0ZXMiLCJuYW1lIiwiR0ZYQXR0cmlidXRlTmFtZSIsIkFUVFJfUE9TSVRJT04iLCJmb3JtYXQiLCJHRlhGb3JtYXQiLCJSR0IzMkYiLCJBVFRSX05PUk1BTCIsIkFUVFJfVEVYX0NPT1JEIiwiUkczMkYiLCJzdWJNZXNoIiwiUmVuZGVyaW5nU3ViTWVzaCIsIkdGWFByaW1pdGl2ZU1vZGUiLCJUUklBTkdMRV9MSVNUIiwiaW5kZXhCdWZmZXIiLCJfZ2V0U2hhcmVkSW5kZXhCdWZmZXIiLCJ1bmRlZmluZWQiLCJjcmVhdGVNb2RlbCIsIk1vZGVsIiwiX2dldFJlbmRlclNjZW5lIiwiYWRkTW9kZWwiLCJfdXBkYXRlV2VpZ2h0TWFwIiwiX3VwZGF0ZU1hdGVyaWFsIiwiX3VwZGF0ZUhlaWdodCIsIl9pbnZhbGlkTWF0ZXJpYWwiLCJkZXN0cm95IiwibmxheWVycyIsInV2U2NhbGUiLCJWZWM0IiwibGF5ZXJzIiwibDAiLCJnZXRMYXllciIsInNldFByb3BlcnR5IiwiZGV0YWlsTWFwIiwibDEiLCJsMiIsImwzIiwibGlnaHRtYXAiLCJsaWdodG1hcFVWUGFyYW0iLCJyZWN0IiwiUmVjdCIsImxheWVySWQiLCJMQVlFUlMiLCJMSUdIVF9NQVAiLCJ2ZXJ0ZXhCdWZmZXJzIiwiVGV4dHVyZTJEIiwiY3JlYXRlIiwid2VpZ2h0TWFwU2l6ZSIsIlBpeGVsRm9ybWF0IiwiUkdCQTg4ODgiLCJzZXRGaWx0ZXJzIiwiRmlsdGVyIiwiTElORUFSIiwic2V0V3JhcE1vZGUiLCJXcmFwTW9kZSIsIkNMQU1QX1RPX0VER0UiLCJ3ZWlnaHREYXRhIiwiVWludDhBcnJheSIsIndlaWdodEluZGV4IiwidyIsImdldFdlaWdodCIsIk1hdGgiLCJmbG9vciIsInVwbG9hZERhdGEiLCJpbmZvIiwidGV4dHVyZSIsIlVPZmYiLCJWT2ZmIiwiVVNjYWxlIiwiVlNjYWxlIiwiVGVycmFpbiIsInR5cGUiLCJUZXJyYWluQXNzZXQiLCJ2aXNpYmxlIiwiYW5pbWF0YWJsZSIsImV4ZWN1dGVJbkVkaXRNb2RlIiwiZGlzYWxsb3dNdWx0aXBsZSIsIl90aWxlU2l6ZSIsIl9ibG9ja0NvdW50IiwiX3dlaWdodE1hcFNpemUiLCJfbGlnaHRNYXBTaXplIiwiX2hlaWdodHMiLCJVaW50MTZBcnJheSIsIl93ZWlnaHRzIiwiX25vcm1hbHMiLCJfYmxvY2tzIiwiX3NoYXJlZEluZGV4QnVmZmVyIiwiX2xheWVycyIsImxpZ2h0TWFwU2l6ZSIsIl9idWlsZEltcCIsImJsb2NrSW5mb3MiLCJtaW4iLCJoIiwiaW5kZXgwIiwiaW5kZXgxIiwiX2Jsb2NrSW5mb3MiLCJfcmVidWlsZEhlaWdodHMiLCJfcmVidWlsZFdlaWdodHMiLCJfYnVpbGROb3JtYWxzIiwiYnVpbGQiLCJoZiIsImhlaWdodFNjYWxlIiwidmVydGV4Q291bnQiLCJ1IiwidiIsImdldEF0IiwiZ2V0SGVpZ2h0QXQiLCJkYXRhIiwiYXNzZXQiLCJoZWlnaHRzIiwid2VpZ2h0cyIsImxheWVyQnVmZmVyIiwiQXJyYXkiLCJsZW5ndGgiLCJ0ZW1wIiwibGF5ZXIiLCJUZXJyYWluTGF5ZXJJbmZvIiwic2xvdCIsIl91dWlkIiwibGF5ZXJJbmZvcyIsImluZGV4RGF0YSIsImEiLCJiIiwiYyIsImQiLCJJTkRFWCIsIm9uRGlzYWJsZSIsIm9uTG9hZCIsImRlbHRhVGltZSIsImlkIiwiZ2V0SGVpZ2h0IiwiVmVjMyIsImZ4IiwiZnkiLCJpeDAiLCJpejAiLCJpeDEiLCJpejEiLCJkeCIsImR6IiwibSIsImgxIiwiaDIiLCJuIiwiYWRkIiwibXVsdGlwbHlTY2FsYXIiLCJzZXQiLCJzdWJ0cmFjdCIsIm4xIiwibjIiLCJsZXJwIiwic3RhcnQiLCJkaXIiLCJzdGVwIiwid29ybGRTcGFjZSIsIk1BWF9DT1VOVCIsInRyYWNlIiwiZ2V0V29ybGRQb3NpdGlvbiIsImRlbHRhIiwiZXF1YWxzIiwiZW5ibGUiLCJfbGlnaHRtYXBJbmZvcyIsImJsb2NrSWQiLCJ0ZXgiLCJ1T2ZmIiwidk9mZiIsInVTY2FsZSIsInZTY2FsZSIsIl91cGRhdGVMaWdodG1hcCIsImZsaXAiLCJoZXJlIiwicmlnaHQiLCJ1cCIsImNyb3NzIiwibm9ybWFsaXplIiwiX2NhbGNOb3JtYWwiLCJyZXN0b3JlIiwidmFsaWQiLCJfX2Fzc2V0IiwiaW5pdGlhbCIsIl9hc3NldCIsImxvYWRlciIsImxvYWRSZXMiLCJlcnIiLCJ3ZWlnaHRNYXBDb21wbGV4aXR5VSIsIndlaWdodE1hcENvbXBsZXhpdHlWIiwib2xkV2VpZ2h0TWFwU2l6ZSIsIm9sZFdlaWdodE1hcENvbXBsZXhpdHlVIiwib2xkV2VpZ2h0TWFwQ29tcGxleGl0eVYiLCJnZXRPbGRXZWlnaHQiLCJfaSIsIl9qIiwid2VpZ2h0Iiwic2FtcGxlT2xkV2VpZ2h0IiwiX3giLCJfeSIsIl94T2ZmIiwiX3lPZmYiLCJkdSIsImR2IiwidmFsdWUiLCJ0aSIsIkNvbXBvbmVudCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUF5Qk8sTUFBTUEsa0JBQWtCLEdBQUcsQ0FBM0I7O0FBQ0EsTUFBTUMsd0JBQXdCLEdBQUcsQ0FBakM7O0FBQ0EsTUFBTUMsdUJBQXVCLEdBQUcsR0FBaEM7O0FBQ0EsTUFBTUMsNkJBQTZCLEdBQUcsRUFBdEM7O0FBQ0EsTUFBTUMsK0JBQStCLEdBQUcsRUFBeEM7O0FBQ0EsTUFBTUMseUJBQXlCLEdBQUcsQ0FBbEMsQyxDQUFxQzs7O0FBQ3JDLE1BQU1DLG1CQUFtQixHQUFHLEtBQTVCOztBQUNBLE1BQU1DLHNCQUFzQixHQUFHLE1BQU0sS0FBckM7O0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUcsQ0FBNUI7O0FBQ0EsTUFBTUMsbUJBQW1CLEdBQUcsQ0FBNUI7O0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUcsQ0FBM0I7O0FBQ0EsTUFBTUMsa0JBQWtCLEdBQUcsQ0FBM0I7QUFFUDs7Ozs7O01BS2FDLFcsV0FEWiw2QkFBUSxnQkFBUixDOzs7Ozs7Ozs7Ozs7Ozs7O0FBOEJHOzs7OzBCQUltQjtBQUNmLFlBQU1DLEVBQUUsR0FBRyxJQUFJQyxZQUFKLENBQVMsQ0FBVCxFQUFZLENBQVosQ0FBWDtBQUNBRCxRQUFBQSxFQUFFLENBQUNFLEtBQUgsR0FBVyxLQUFLQyxVQUFMLENBQWdCLENBQWhCLElBQXFCYiw2QkFBckIsR0FBcUQsS0FBS2MsUUFBckU7QUFDQUosUUFBQUEsRUFBRSxDQUFDSyxNQUFILEdBQVksS0FBS0YsVUFBTCxDQUFnQixDQUFoQixJQUFxQmIsNkJBQXJCLEdB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Ozs7SUE3S3dCQyxpQjs7Ozs7YUFNYyxJOzs7Ozs7O2FBT08sRTs7Ozs7OzthQU1GLEU7Ozs7Ozs7YUFNVyxFIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBjYXRlZ29yeSB0ZXJyYWluXHJcbiAqL1xyXG5pbXBvcnQgeyBidWlsdGluUmVzTWdyIH0gZnJvbSAnLi4vY29yZS8zZC9idWlsdGluJztcclxuaW1wb3J0IHsgUmVuZGVyYWJsZUNvbXBvbmVudCB9IGZyb20gJy4uL2NvcmUvM2QvZnJhbWV3b3JrL3JlbmRlcmFibGUtY29tcG9uZW50JztcclxuaW1wb3J0IHsgVGV4dHVyZTJEIH0gZnJvbSAnLi4vY29yZS9hc3NldHMnO1xyXG5pbXBvcnQgeyBGaWx0ZXIsIFBpeGVsRm9ybWF0LCBXcmFwTW9kZSB9IGZyb20gJy4uL2NvcmUvYXNzZXRzL2Fzc2V0LWVudW0nO1xyXG5pbXBvcnQgeyBNYXRlcmlhbCB9IGZyb20gJy4uL2NvcmUvYXNzZXRzL21hdGVyaWFsJztcclxuaW1wb3J0IHsgUmVuZGVyaW5nU3ViTWVzaCB9IGZyb20gJy4uL2NvcmUvYXNzZXRzL21lc2gnO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICcuLi9jb3JlL2NvbXBvbmVudHMnO1xyXG5pbXBvcnQgeyBjY2NsYXNzLCBkaXNhbGxvd011bHRpcGxlLCBleGVjdXRlSW5FZGl0TW9kZSwgaGVscCwgbWVudSwgcHJvcGVydHkgfSBmcm9tICcuLi9jb3JlL2RhdGEvY2xhc3MtZGVjb3JhdG9yJztcclxuaW1wb3J0IHsgaXNWYWxpZCB9IGZyb20gJy4uL2NvcmUvZGF0YS9vYmplY3QnO1xyXG5pbXBvcnQgeyBkaXJlY3RvciB9IGZyb20gJy4uL2NvcmUvZGlyZWN0b3InO1xyXG5pbXBvcnQgeyBHRlhCdWZmZXIgfSBmcm9tICcuLi9jb3JlL2dmeC9idWZmZXInO1xyXG5pbXBvcnQgeyBHRlhBdHRyaWJ1dGVOYW1lLCBHRlhCdWZmZXJVc2FnZUJpdCwgR0ZYRm9ybWF0LCBHRlhNZW1vcnlVc2FnZUJpdCwgR0ZYUHJpbWl0aXZlTW9kZSB9IGZyb20gJy4uL2NvcmUvZ2Z4L2RlZmluZSc7XHJcbmltcG9ydCB7IEdGWERldmljZSB9IGZyb20gJy4uL2NvcmUvZ2Z4L2RldmljZSc7XHJcbmltcG9ydCB7IElHRlhBdHRyaWJ1dGUgfSBmcm9tICcuLi9jb3JlL2dmeC9pbnB1dC1hc3NlbWJsZXInO1xyXG5pbXBvcnQgeyBjbGFtcCwgUmVjdCwgU2l6ZSwgVmVjMiwgVmVjMywgVmVjNCB9IGZyb20gJy4uL2NvcmUvbWF0aCc7XHJcbmltcG9ydCB7IElEZWZpbmVNYXAgfSBmcm9tICcuLi9jb3JlL3JlbmRlcmVyL2NvcmUvcGFzcy11dGlscyc7XHJcbmltcG9ydCB7IE1vZGVsIH0gZnJvbSAnLi4vY29yZS9yZW5kZXJlci9zY2VuZS9tb2RlbCc7XHJcbmltcG9ydCB7IFJvb3QgfSBmcm9tICcuLi9jb3JlL3Jvb3QnO1xyXG5pbXBvcnQgeyBQcml2YXRlTm9kZSB9IGZyb20gJy4uL2NvcmUvc2NlbmUtZ3JhcGgvcHJpdmF0ZS1ub2RlJztcclxuaW1wb3J0IHsgSGVpZ2h0RmllbGQgfSBmcm9tICcuL2hlaWdodC1maWVsZCc7XHJcbmltcG9ydCB7IFRlcnJhaW5Bc3NldCwgVGVycmFpbkxheWVySW5mbyB9IGZyb20gJy4vdGVycmFpbi1hc3NldCc7XHJcblxyXG5leHBvcnQgY29uc3QgVEVSUkFJTl9NQVhfTEVWRUxTID0gNDtcclxuZXhwb3J0IGNvbnN0IFRFUlJBSU5fTUFYX0JMRU5EX0xBWUVSUyA9IDQ7XHJcbmV4cG9ydCBjb25zdCBURVJSQUlOX01BWF9MQVlFUl9DT1VOVCA9IDI1NjtcclxuZXhwb3J0IGNvbnN0IFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZID0gMzI7XHJcbmV4cG9ydCBjb25zdCBURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZID0gMzM7XHJcbmV4cG9ydCBjb25zdCBURVJSQUlOX0JMT0NLX1ZFUlRFWF9TSVpFID0gODsgLy8gcG9zaXRpb24gKyBub3JtYWwgKyB1dlxyXG5leHBvcnQgY29uc3QgVEVSUkFJTl9IRUlHSFRfQkFTRSA9IDMyNzY4O1xyXG5leHBvcnQgY29uc3QgVEVSUkFJTl9IRUlHSFRfRkFDVE9SWSA9IDEuMCAvIDUxMi4wO1xyXG5leHBvcnQgY29uc3QgVEVSUkFJTl9OT1JUSF9JTkRFWCA9IDA7XHJcbmV4cG9ydCBjb25zdCBURVJSQUlOX1NPVVRIX0lOREVYID0gMTtcclxuZXhwb3J0IGNvbnN0IFRFUlJBSU5fV0VTVF9JTkRFWCA9IDI7XHJcbmV4cG9ydCBjb25zdCBURVJSQUlOX0VBU1RfSU5ERVggPSAzO1xyXG5cclxuLyoqXHJcbiAqIEBlbiBUZXJyYWluIGluZm9cclxuICogQHpoIOWcsOW9ouS/oeaBr1xyXG4gKi9cclxuQGNjY2xhc3MoJ2NjLlRlcnJhaW5JbmZvJylcclxuZXhwb3J0IGNsYXNzIFRlcnJhaW5JbmZvIHtcclxuICAgIC8qKlxyXG4gICAgICogQGVuIHRpbGUgc2l6ZVxyXG4gICAgICogQHpoIOagheagvOWkp+Wwj1xyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHB1YmxpYyB0aWxlU2l6ZTogbnVtYmVyID0gMTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBibG9jayBjb3VudFxyXG4gICAgICogQHpoIOWcsOW9ouWdl+eahOaVsOmHj1xyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHB1YmxpYyBibG9ja0NvdW50OiBudW1iZXJbXSA9IFsxLCAxXTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiB3ZWlnaHQgbWFwIHNpemVcclxuICAgICAqIEB6aCDmnYPph43lm77lpKflsI9cclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwdWJsaWMgd2VpZ2h0TWFwU2l6ZTogbnVtYmVyID0gMTI4O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGxpZ2h0IG1hcCBzaXplXHJcbiAgICAgKiBAemgg5YWJ54Wn5Zu+5aSn5bCPXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHVibGljIGxpZ2h0TWFwU2l6ZTogbnVtYmVyID0gMTI4O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIHRlcnJhaW4gc2l6ZVxyXG4gICAgICogQHpoIOWcsOW9ouWkp+Wwj1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IHNpemUgKCkge1xyXG4gICAgICAgIGNvbnN0IHN6ID0gbmV3IFNpemUoMCwgMCk7XHJcbiAgICAgICAgc3oud2lkdGggPSB0aGlzLmJsb2NrQ291bnRbMF0gKiBURVJSQUlOX0JMT0NLX1RJTEVfQ09NUExFWElUWSAqIHRoaXMudGlsZVNpemU7XHJcbiAgICAgICAgc3ouaGVpZ2h0ID0gdGhpcy5ibG9ja0NvdW50WzFdICogVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFkgKiB0aGlzLnRpbGVTaXplO1xyXG5cclxuICAgICAgICByZXR1cm4gc3o7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gdGlsZSBjb3VudFxyXG4gICAgICogQHpoIOagheagvOaVsOmHj1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IHRpbGVDb3VudCAoKSB7XHJcbiAgICAgICAgY29uc3QgX3RpbGVDb3VudCA9IFswLCAwXTtcclxuICAgICAgICBfdGlsZUNvdW50WzBdID0gdGhpcy5ibG9ja0NvdW50WzBdICogVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFk7XHJcbiAgICAgICAgX3RpbGVDb3VudFsxXSA9IHRoaXMuYmxvY2tDb3VudFsxXSAqIFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZO1xyXG5cclxuICAgICAgICByZXR1cm4gX3RpbGVDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiB2ZXJ0ZXggY291bnRcclxuICAgICAqIEB6aCDpobbngrnmlbDph49cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCB2ZXJ0ZXhDb3VudCAoKSB7XHJcbiAgICAgICAgY29uc3QgX3ZlcnRleENvdW50ID0gdGhpcy50aWxlQ291bnQ7XHJcbiAgICAgICAgX3ZlcnRleENvdW50WzBdICs9IDE7XHJcbiAgICAgICAgX3ZlcnRleENvdW50WzFdICs9IDE7XHJcblxyXG4gICAgICAgIHJldHVybiBfdmVydGV4Q291bnQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZW4gVGVycmFpbiBsYXllclxyXG4gKiBAemgg5Zyw5b2i57q555CG5bGCXHJcbiAqL1xyXG5AY2NjbGFzcygnY2MuVGVycmFpbkxheWVyJylcclxuZXhwb3J0IGNsYXNzIFRlcnJhaW5MYXllciB7XHJcbiAgICAvKipcclxuICAgICAqIEBlbiBkZXRhaWwgdGV4dHVyZVxyXG4gICAgICogQHpoIOe7huiKgue6ueeQhlxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHB1YmxpYyBkZXRhaWxNYXA6IFRleHR1cmUyRHxudWxsID0gbnVsbDtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiB0aWxlIHNpemVcclxuICAgICAqIEB6aCDlubPpk7rlpKflsI9cclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwdWJsaWMgdGlsZVNpemU6IG51bWJlciA9IDE7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZW4gVGVycmFpbiByZW5kZXJhYmxlXHJcbiAqIEB6aCDlnLDlvaLmuLLmn5Pnu4Tku7ZcclxuICovXHJcbmNsYXNzIFRlcnJhaW5SZW5kZXJhYmxlIGV4dGVuZHMgUmVuZGVyYWJsZUNvbXBvbmVudCB7XHJcbiAgICBwdWJsaWMgX21vZGVsOiBNb2RlbCB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIF9tZXNoRGF0YTogUmVuZGVyaW5nU3ViTWVzaCB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBfYnJ1c2hNYXRlcmlhbDogTWF0ZXJpYWwgfCBudWxsID0gbnVsbDtcclxuICAgIHB1YmxpYyBfY3VycmVudE1hdGVyaWFsOiBNYXRlcmlhbCB8IG51bGwgPSBudWxsO1xyXG4gICAgcHVibGljIF9jdXJyZW50TWF0ZXJpYWxMYXllcnM6IG51bWJlciA9IDA7XHJcblxyXG4gICAgcHVibGljIGRlc3Ryb3kgKCkge1xyXG4gICAgICAgIC8vIHRoaXMuX2ludmFsaWRNYXRlcmlhbCgpO1xyXG4gICAgICAgIGlmICh0aGlzLl9tb2RlbCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNjLmRpcmVjdG9yLnJvb3QuZGVzdHJveU1vZGVsKHRoaXMuX21vZGVsKTtcclxuICAgICAgICAgICAgdGhpcy5fbW9kZWwgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfaW52YWxpZE1hdGVyaWFsICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fY3VycmVudE1hdGVyaWFsID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fY2xlYXJNYXRlcmlhbHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5fY3VycmVudE1hdGVyaWFsID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5fbW9kZWwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9tb2RlbC5lbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfdXBkYXRlTWF0ZXJpYWwgKGJsb2NrOiBUZXJyYWluQmxvY2ssIGluaXQ6IGJvb2xlYW4pIHtcclxuICAgICAgICBpZiAodGhpcy5fbWVzaERhdGEgPT0gbnVsbCB8fCB0aGlzLl9tb2RlbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG5MYXllcnMgPSBibG9jay5nZXRNYXhMYXllcigpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jdXJyZW50TWF0ZXJpYWwgPT0gbnVsbCB8fCBuTGF5ZXJzICE9PSB0aGlzLl9jdXJyZW50TWF0ZXJpYWxMYXllcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudE1hdGVyaWFsID0gbmV3IE1hdGVyaWFsKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50TWF0ZXJpYWwuaW5pdGlhbGl6ZSh7XHJcbiAgICAgICAgICAgICAgICBlZmZlY3RBc3NldDogY2MuRWZmZWN0QXNzZXQuZ2V0KCdidWlsdGluLXRlcnJhaW4nKSxcclxuICAgICAgICAgICAgICAgIGRlZmluZXM6IGJsb2NrLl9nZXRNYXRlcmlhbERlZmluZXMobkxheWVycyksXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuX2JydXNoTWF0ZXJpYWwgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhc3NlcyA9IHRoaXMuX2N1cnJlbnRNYXRlcmlhbC5wYXNzZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgcGFzc2VzLnB1c2godGhpcy5fYnJ1c2hNYXRlcmlhbC5wYXNzZXNbMF0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaW5pdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbW9kZWwuaW5pdFN1Yk1vZGVsKDAsIHRoaXMuX21lc2hEYXRhLCB0aGlzLl9jdXJyZW50TWF0ZXJpYWwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNldE1hdGVyaWFsKHRoaXMuX2N1cnJlbnRNYXRlcmlhbCwgMCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRNYXRlcmlhbExheWVycyA9IG5MYXllcnM7XHJcbiAgICAgICAgICAgIHRoaXMuX21vZGVsLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX29uTWF0ZXJpYWxNb2RpZmllZCAoaWR4OiBudW1iZXIsIG10bDogTWF0ZXJpYWx8bnVsbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9tb2RlbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fb25SZWJ1aWxkUFNPKGlkeCwgbXRsIHx8IHRoaXMuX2dldEJ1aWx0aW5NYXRlcmlhbCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX29uUmVidWlsZFBTTyAoaWR4OiBudW1iZXIsIG1hdGVyaWFsOiBNYXRlcmlhbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9tb2RlbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9tb2RlbC5zZXRTdWJNb2RlbE1hdGVyaWFsKGlkeCwgbWF0ZXJpYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX2NsZWFyTWF0ZXJpYWxzICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fbW9kZWwgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9vbk1hdGVyaWFsTW9kaWZpZWQoMCwgbnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfZ2V0QnVpbHRpbk1hdGVyaWFsICgpIHtcclxuICAgICAgICByZXR1cm4gYnVpbHRpblJlc01nci5nZXQ8TWF0ZXJpYWw+KCdtaXNzaW5nLW1hdGVyaWFsJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZW4gVGVycmFpbiBibG9jayBpbmZvXHJcbiAqIEB6aCDlnLDlvaLlnZfkv6Hmga9cclxuICovXHJcbkBjY2NsYXNzKCdjYy5UZXJyYWluQmxvY2tJbmZvJylcclxuZXhwb3J0IGNsYXNzIFRlcnJhaW5CbG9ja0luZm8ge1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwdWJsaWMgbGF5ZXJzOiBudW1iZXJbXSA9IFstMSwgLTEsIC0xLCAtMV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAZW4gVGVycmFpbiBibG9jayBsaWdodCBtYXAgaW5mb1xyXG4gKiBAemgg5Zyw5b2i5Z2X5YWJ54Wn5Zu+5L+h5oGvXHJcbiAqL1xyXG5AY2NjbGFzcygnY2MuVGVycmFpbkJsb2NrTGlnaHRtYXBJbmZvJylcclxuZXhwb3J0IGNsYXNzIFRlcnJhaW5CbG9ja0xpZ2h0bWFwSW5mbyB7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHB1YmxpYyB0ZXh0dXJlOiBUZXh0dXJlMkR8bnVsbCA9IG51bGw7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHB1YmxpYyBVT2ZmOiBudW1iZXIgPSAwO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwdWJsaWMgVk9mZjogbnVtYmVyID0gMDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHVibGljIFVTY2FsZTogbnVtYmVyID0gMDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHVibGljIFZTY2FsZTogbnVtYmVyID0gMDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBlbiBUZXJyYWluIGJsb2NrXHJcbiAqIEB6aCDlnLDlvaLlnZdcclxuICovXHJcbmV4cG9ydCBjbGFzcyBUZXJyYWluQmxvY2sge1xyXG4gICAgcHJpdmF0ZSBfdGVycmFpbjogVGVycmFpbjtcclxuICAgIHByaXZhdGUgX2luZm86IFRlcnJhaW5CbG9ja0luZm87XHJcbiAgICBwcml2YXRlIF9ub2RlOiBQcml2YXRlTm9kZTtcclxuICAgIHByaXZhdGUgX3JlbmRlcmFibGU6IFRlcnJhaW5SZW5kZXJhYmxlO1xyXG4gICAgcHJpdmF0ZSBfaW5kZXg6IG51bWJlcltdID0gWzEsIDFdO1xyXG4gICAgLy8gcHJpdmF0ZSBfbmVpZ2hib3I6IFRlcnJhaW5CbG9ja3xudWxsW10gPSBbbnVsbCwgbnVsbCwgbnVsbCwgbnVsbF07XHJcbiAgICBwcml2YXRlIF93ZWlnaHRNYXA6IFRleHR1cmUyRHxudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX2xpZ2h0bWFwSW5mbzogVGVycmFpbkJsb2NrTGlnaHRtYXBJbmZvfG51bGwgPSBudWxsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICh0OiBUZXJyYWluLCBpOiBudW1iZXIsIGo6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3RlcnJhaW4gPSB0O1xyXG4gICAgICAgIHRoaXMuX2luZm8gPSB0LmdldEJsb2NrSW5mbyhpLCBqKTtcclxuICAgICAgICB0aGlzLl9pbmRleFswXSA9IGk7XHJcbiAgICAgICAgdGhpcy5faW5kZXhbMV0gPSBqO1xyXG4gICAgICAgIHRoaXMuX2xpZ2h0bWFwSW5mbyA9IHQuX2dldExpZ2h0bWFwSW5mbyhpLCBqKTtcclxuXHJcbiAgICAgICAgdGhpcy5fbm9kZSA9IG5ldyBQcml2YXRlTm9kZSgnJyk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHRoaXMuX25vZGUuc2V0UGFyZW50KHRoaXMuX3RlcnJhaW4ubm9kZSk7XHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxyXG4gICAgICAgIHRoaXMuX25vZGUuX29iakZsYWdzIHw9IGNjLk9iamVjdC5GbGFncy5Eb250U2F2ZTtcclxuXHJcbiAgICAgICAgdGhpcy5fcmVuZGVyYWJsZSA9ICB0aGlzLl9ub2RlLmFkZENvbXBvbmVudChUZXJyYWluUmVuZGVyYWJsZSkgYXMgVGVycmFpblJlbmRlcmFibGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGJ1aWxkICgpIHtcclxuICAgICAgICBjb25zdCBnZnhEZXZpY2UgPSBkaXJlY3Rvci5yb290IS5kZXZpY2UgYXMgR0ZYRGV2aWNlO1xyXG5cclxuICAgICAgICAvLyB2ZXJ0ZXggYnVmZmVyXHJcbiAgICAgICAgY29uc3QgdmVydGV4RGF0YSA9IG5ldyBGbG9hdDMyQXJyYXkoVEVSUkFJTl9CTE9DS19WRVJURVhfU0laRSAqIFRFUlJBSU5fQkxPQ0tfVkVSVEVYX0NPTVBMRVhJVFkgKiBURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZKTtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgVEVSUkFJTl9CTE9DS19WRVJURVhfQ09NUExFWElUWTsgKytqKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVEVSUkFJTl9CTE9DS19WRVJURVhfQ09NUExFWElUWTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5faW5kZXhbMF0gKiBURVJSQUlOX0JMT0NLX1RJTEVfQ09NUExFWElUWSArIGk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5faW5kZXhbMV0gKiBURVJSQUlOX0JMT0NLX1RJTEVfQ09NUExFWElUWSArIGo7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3RlcnJhaW4uZ2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub3JtYWwgPSB0aGlzLl90ZXJyYWluLmdldE5vcm1hbCh4LCB5KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHV2ID0gbmV3IFZlYzIoaSAvIFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZLCBqIC8gVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFkpO1xyXG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpbmRleCsrXSA9IHBvc2l0aW9uLng7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2luZGV4KytdID0gcG9zaXRpb24ueTtcclxuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaW5kZXgrK10gPSBwb3NpdGlvbi56O1xyXG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpbmRleCsrXSA9IG5vcm1hbC54O1xyXG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpbmRleCsrXSA9IG5vcm1hbC55O1xyXG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpbmRleCsrXSA9IG5vcm1hbC56O1xyXG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpbmRleCsrXSA9IHV2Lng7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2luZGV4KytdID0gdXYueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdmVydGV4QnVmZmVyID0gZ2Z4RGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XHJcbiAgICAgICAgICAgIHVzYWdlOiBHRlhCdWZmZXJVc2FnZUJpdC5WRVJURVggfCBHRlhCdWZmZXJVc2FnZUJpdC5UUkFOU0ZFUl9EU1QsXHJcbiAgICAgICAgICAgIG1lbVVzYWdlOiBHRlhNZW1vcnlVc2FnZUJpdC5IT1NUIHwgR0ZYTWVtb3J5VXNhZ2VCaXQuREVWSUNFLFxyXG4gICAgICAgICAgICBzaXplOiBURVJSQUlOX0JMT0NLX1ZFUlRFWF9TSVpFICogRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogVEVSUkFJTl9CTE9DS19WRVJURVhfQ09NUExFWElUWSAqIFRFUlJBSU5fQkxPQ0tfVkVSVEVYX0NPTVBMRVhJVFksXHJcbiAgICAgICAgICAgIHN0cmlkZTogVEVSUkFJTl9CTE9DS19WRVJURVhfU0laRSAqIEZsb2F0MzJBcnJheS5CWVRFU19QRVJfRUxFTUVOVCxcclxuICAgICAgICB9KTtcclxuICAgICAgICB2ZXJ0ZXhCdWZmZXIudXBkYXRlKHZlcnRleERhdGEpO1xyXG5cclxuICAgICAgICAvLyBpbml0aWFsaXplIHJlbmRlcmFibGVcclxuICAgICAgICBjb25zdCBnZnhBdHRyaWJ1dGVzOiBJR0ZYQXR0cmlidXRlW10gPSBbXHJcbiAgICAgICAgICAgIHsgbmFtZTogR0ZYQXR0cmlidXRlTmFtZS5BVFRSX1BPU0lUSU9OLCBmb3JtYXQ6IEdGWEZvcm1hdC5SR0IzMkYgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiBHRlhBdHRyaWJ1dGVOYW1lLkFUVFJfTk9STUFMLCBmb3JtYXQ6IEdGWEZvcm1hdC5SR0IzMkYgfSxcclxuICAgICAgICAgICAgeyBuYW1lOiBHRlhBdHRyaWJ1dGVOYW1lLkFUVFJfVEVYX0NPT1JELCBmb3JtYXQ6IEdGWEZvcm1hdC5SRzMyRn0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3ViTWVzaCA9IHRoaXMuX3JlbmRlcmFibGUuX21lc2hEYXRhID0gbmV3IFJlbmRlcmluZ1N1Yk1lc2goW3ZlcnRleEJ1ZmZlcl0sIGdmeEF0dHJpYnV0ZXMsIEdGWFByaW1pdGl2ZU1vZGUuVFJJQU5HTEVfTElTVCk7XHJcbiAgICAgICAgc3ViTWVzaC5pbmRleEJ1ZmZlciA9IHRoaXMuX3RlcnJhaW4uX2dldFNoYXJlZEluZGV4QnVmZmVyKCkgfHwgdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXJhYmxlLl9tb2RlbCA9IChjYy5kaXJlY3Rvci5yb290IGFzIFJvb3QpLmNyZWF0ZU1vZGVsKE1vZGVsKTtcclxuICAgICAgICB0aGlzLl9yZW5kZXJhYmxlLl9tb2RlbC5pbml0aWFsaXplKHRoaXMuX25vZGUpO1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmFibGUuX2dldFJlbmRlclNjZW5lKCkuYWRkTW9kZWwodGhpcy5fcmVuZGVyYWJsZS5fbW9kZWwpO1xyXG5cclxuICAgICAgICAvLyByZXNldCB3ZWlnaHRtYXBcclxuICAgICAgICB0aGlzLl91cGRhdGVXZWlnaHRNYXAoKTtcclxuXHJcbiAgICAgICAgLy8gcmVzZXQgbWF0ZXJpYWxcclxuICAgICAgICB0aGlzLl91cGRhdGVNYXRlcmlhbCh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVidWlsZCAoKSB7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlSGVpZ2h0KCk7XHJcbiAgICAgICAgdGhpcy5fdXBkYXRlV2VpZ2h0TWFwKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX3JlbmRlcmFibGUuX2ludmFsaWRNYXRlcmlhbCgpO1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZU1hdGVyaWFsKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVzdHJveSAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmFibGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJhYmxlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX25vZGUgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ub2RlLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuX3dlaWdodE1hcCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3dlaWdodE1hcC5kZXN0cm95KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgKCkge1xyXG4gICAgICAgIHRoaXMuX3VwZGF0ZU1hdGVyaWFsKGZhbHNlKTtcclxuXHJcbiAgICAgICAgY29uc3QgbXRsID0gdGhpcy5fcmVuZGVyYWJsZS5fY3VycmVudE1hdGVyaWFsO1xyXG4gICAgICAgIGlmIChtdGwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBubGF5ZXJzID0gdGhpcy5nZXRNYXhMYXllcigpO1xyXG4gICAgICAgICAgICBjb25zdCB1dlNjYWxlID0gbmV3IFZlYzQoMSwgMSwgMSwgMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAobmxheWVycyA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubGF5ZXJzWzBdICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGwwID0gdGhpcy5fdGVycmFpbi5nZXRMYXllcih0aGlzLmxheWVyc1swXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsMCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHV2U2NhbGUueCA9IDEuMCAvIGwwLnRpbGVTaXplO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbXRsLnNldFByb3BlcnR5KCdkZXRhaWxNYXAwJywgbDAgIT0gbnVsbCA/IGwwLmRldGFpbE1hcCA6IG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbXRsLnNldFByb3BlcnR5KCdkZXRhaWxNYXAwJywgY2MuYnVpbHRpblJlc01nci5nZXQoJ2RlZmF1bHQtdGV4dHVyZScpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChubGF5ZXJzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsMCA9IHRoaXMuX3RlcnJhaW4uZ2V0TGF5ZXIodGhpcy5sYXllcnNbMF0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbDEgPSB0aGlzLl90ZXJyYWluLmdldExheWVyKHRoaXMubGF5ZXJzWzFdKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobDAgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHV2U2NhbGUueCA9IDEuMCAvIGwwLnRpbGVTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGwxICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dlNjYWxlLnkgPSAxLjAgLyBsMS50aWxlU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ3dlaWdodE1hcCcsIHRoaXMuX3dlaWdodE1hcCk7XHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ2RldGFpbE1hcDAnLCBsMCAhPSBudWxsID8gbDAuZGV0YWlsTWFwIDogbnVsbCk7XHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ2RldGFpbE1hcDEnLCBsMSAhPSBudWxsID8gbDEuZGV0YWlsTWFwIDogbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobmxheWVycyA9PT0gMikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbDAgPSB0aGlzLl90ZXJyYWluLmdldExheWVyKHRoaXMubGF5ZXJzWzBdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGwxID0gdGhpcy5fdGVycmFpbi5nZXRMYXllcih0aGlzLmxheWVyc1sxXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsMiA9IHRoaXMuX3RlcnJhaW4uZ2V0TGF5ZXIodGhpcy5sYXllcnNbMl0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChsMCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXZTY2FsZS54ID0gMS4wIC8gbDAudGlsZVNpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobDEgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHV2U2NhbGUueSA9IDEuMCAvIGwxLnRpbGVTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGwyICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dlNjYWxlLnogPSAxLjAgLyBsMi50aWxlU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ3dlaWdodE1hcCcsIHRoaXMuX3dlaWdodE1hcCk7XHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ2RldGFpbE1hcDAnLCBsMCAhPSBudWxsID8gbDAuZGV0YWlsTWFwIDogbnVsbCk7XHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ2RldGFpbE1hcDEnLCBsMSAhPSBudWxsID8gbDEuZGV0YWlsTWFwIDogbnVsbCk7XHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ2RldGFpbE1hcDInLCBsMiAhPSBudWxsID8gbDIuZGV0YWlsTWFwIDogbnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobmxheWVycyA9PT0gMykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbDAgPSB0aGlzLl90ZXJyYWluLmdldExheWVyKHRoaXMubGF5ZXJzWzBdKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGwxID0gdGhpcy5fdGVycmFpbi5nZXRMYXllcih0aGlzLmxheWVyc1sxXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsMiA9IHRoaXMuX3RlcnJhaW4uZ2V0TGF5ZXIodGhpcy5sYXllcnNbMl0pO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbDMgPSB0aGlzLl90ZXJyYWluLmdldExheWVyKHRoaXMubGF5ZXJzWzNdKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobDAgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHV2U2NhbGUueCA9IDEuMCAvIGwwLnRpbGVTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGwxICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICB1dlNjYWxlLnkgPSAxLjAgLyBsMS50aWxlU2l6ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChsMiAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXZTY2FsZS56ID0gMS4wIC8gbDIudGlsZVNpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAobDMgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHV2U2NhbGUueiA9IDEuMCAvIGwzLnRpbGVTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIG10bC5zZXRQcm9wZXJ0eSgnd2VpZ2h0TWFwJywgdGhpcy5fd2VpZ2h0TWFwKTtcclxuICAgICAgICAgICAgICAgIG10bC5zZXRQcm9wZXJ0eSgnZGV0YWlsTWFwMCcsIGwwICE9IG51bGwgPyBsMC5kZXRhaWxNYXAgOiBudWxsKTtcclxuICAgICAgICAgICAgICAgIG10bC5zZXRQcm9wZXJ0eSgnZGV0YWlsTWFwMScsIGwxICE9IG51bGwgPyBsMS5kZXRhaWxNYXAgOiBudWxsKTtcclxuICAgICAgICAgICAgICAgIG10bC5zZXRQcm9wZXJ0eSgnZGV0YWlsTWFwMicsIGwyICE9IG51bGwgPyBsMi5kZXRhaWxNYXAgOiBudWxsKTtcclxuICAgICAgICAgICAgICAgIG10bC5zZXRQcm9wZXJ0eSgnZGV0YWlsTWFwMycsIGwzICE9IG51bGwgPyBsMy5kZXRhaWxNYXAgOiBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbXRsLnNldFByb3BlcnR5KCdVVlNjYWxlJywgdXZTY2FsZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5saWdodG1hcCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ2xpZ2h0TWFwJywgdGhpcy5saWdodG1hcCk7XHJcbiAgICAgICAgICAgICAgICBtdGwuc2V0UHJvcGVydHkoJ2xpZ2h0TWFwVVZQYXJhbScsIHRoaXMubGlnaHRtYXBVVlBhcmFtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0QnJ1c2hNYXRlcmlhbCAobXRsOiBNYXRlcmlhbHxudWxsKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmFibGUuX2JydXNoTWF0ZXJpYWwgIT09IG10bCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJhYmxlLl9icnVzaE1hdGVyaWFsID0gbXRsO1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJhYmxlLl9pbnZhbGlkTWF0ZXJpYWwoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGxheWVyc1xyXG4gICAgICogQHpoIOiOt+W+l+e6ueeQhuWxgue0ouW8lVxyXG4gICAgICovXHJcbiAgICBnZXQgbGF5ZXJzICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faW5mby5sYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGxpZ2h0IG1hcFxyXG4gICAgICogQHpoIOiOt+W+l+WFieeFp+WbvlxyXG4gICAgICovXHJcbiAgICBnZXQgbGlnaHRtYXAgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9saWdodG1hcEluZm8gPyB0aGlzLl9saWdodG1hcEluZm8udGV4dHVyZSA6IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGxpZ2h0IG1hcCB1diBwYXJhbWV0ZXJcclxuICAgICAqIEB6aCDojrflvpflhYnnhaflm77nurnnkIblnZDmoIflj4LmlbBcclxuICAgICAqL1xyXG4gICAgZ2V0IGxpZ2h0bWFwVVZQYXJhbSAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2xpZ2h0bWFwSW5mbyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgVmVjNCh0aGlzLl9saWdodG1hcEluZm8uVU9mZiwgdGhpcy5fbGlnaHRtYXBJbmZvLlZPZmYsIHRoaXMuX2xpZ2h0bWFwSW5mby5VU2NhbGUsIHRoaXMuX2xpZ2h0bWFwSW5mby5WU2NhbGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBWZWM0KDAsIDAsIDAsIDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgdGVycmFpbiBvd25lclxyXG4gICAgICogQHpoIOiOt+W+l+WcsOW9ouWvueixoVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0VGVycmFpbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RlcnJhaW47XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGluZGV4XHJcbiAgICAgKiBAemgg6I635b6X5Zyw5b2i57Si5byVXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRJbmRleCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGdldCByZWN0IGJvdW5kXHJcbiAgICAgKiBAemgg6I635b6X5Zyw5b2i55+p5b2i5YyF5Zu05L2TXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRSZWN0ICgpIHtcclxuICAgICAgICBjb25zdCByZWN0ID0gbmV3IFJlY3QoKTtcclxuICAgICAgICByZWN0LnggPSB0aGlzLl9pbmRleFswXSAqIFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZO1xyXG4gICAgICAgIHJlY3QueSA9IHRoaXMuX2luZGV4WzFdICogVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFk7XHJcbiAgICAgICAgcmVjdC53aWR0aCA9IFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZO1xyXG4gICAgICAgIHJlY3QuaGVpZ2h0ID0gVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFk7XHJcblxyXG4gICAgICAgIHJldHVybiByZWN0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIHNldCBsYXllclxyXG4gICAgICogQHpoIOiuvue9rue6ueeQhuWxglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2V0TGF5ZXIgKGluZGV4OiBudW1iZXIsIGxheWVySWQ6IG51bWJlcikge1xyXG4gICAgICAgIGlmICh0aGlzLmxheWVyc1tpbmRleF0gIT09IGxheWVySWQpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXllcnNbaW5kZXhdID0gbGF5ZXJJZDtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyYWJsZS5faW52YWxpZE1hdGVyaWFsKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1hdGVyaWFsKGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGxheWVyXHJcbiAgICAgKiBAemgg6I635b6X57q555CG5bGCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRMYXllciAoaW5kZXg6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxheWVyc1tpbmRleF07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IG1heCBsYXllciBpbmRleFxyXG4gICAgICogQHpoIOiOt+W+l+acgOWkp+e6ueeQhue0ouW8lVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0TWF4TGF5ZXIgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmxheWVyc1szXSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmxheWVyc1syXSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmxheWVyc1sxXSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfZ2V0TWF0ZXJpYWxEZWZpbmVzIChubGF5ZXJzOiBudW1iZXIpOiBJRGVmaW5lTWFwIHtcclxuICAgICAgICBpZiAodGhpcy5saWdodG1hcCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChubGF5ZXJzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBMQVlFUlM6IDEsIExJR0hUX01BUDogMX07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobmxheWVycyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgTEFZRVJTOiAyLCBMSUdIVF9NQVA6IDEgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChubGF5ZXJzID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBMQVlFUlM6IDMsIExJR0hUX01BUDogMSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG5sYXllcnMgPT09IDMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB7IExBWUVSUzogNCwgTElHSFRfTUFQOiAxIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChubGF5ZXJzID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBMQVlFUlM6IDEgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChubGF5ZXJzID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBMQVlFUlM6IDIgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChubGF5ZXJzID09PSAyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBMQVlFUlM6IDMgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChubGF5ZXJzID09PSAzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geyBMQVlFUlM6IDQgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHsgTEFZRVJTOiAwIH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIF9pbnZhbGlkTWF0ZXJpYWwgKCkge1xyXG4gICAgICAgIHRoaXMuX3JlbmRlcmFibGUuX2ludmFsaWRNYXRlcmlhbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfdXBkYXRlTWF0ZXJpYWwgKGluaXQ6IGJvb2xlYW4pIHtcclxuICAgICAgICB0aGlzLl9yZW5kZXJhYmxlLl91cGRhdGVNYXRlcmlhbCh0aGlzLCBpbml0KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX3VwZGF0ZUhlaWdodCAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmFibGUuX21lc2hEYXRhID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHZlcnRleERhdGEgPSBuZXcgRmxvYXQzMkFycmF5KFRFUlJBSU5fQkxPQ0tfVkVSVEVYX1NJWkUgKiBURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZICogVEVSUkFJTl9CTE9DS19WRVJURVhfQ09NUExFWElUWSk7XHJcblxyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZOyArK2opIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLl9pbmRleFswXSAqIFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZICsgaTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLl9pbmRleFsxXSAqIFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZICsgajtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3RlcnJhaW4uZ2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub3JtYWwgPSB0aGlzLl90ZXJyYWluLmdldE5vcm1hbCh4LCB5KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHV2ID0gbmV3IFZlYzIoaSAvIFRFUlJBSU5fQkxPQ0tfVkVSVEVYX0NPTVBMRVhJVFksIGogLyBURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2luZGV4KytdID0gcG9zaXRpb24ueDtcclxuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaW5kZXgrK10gPSBwb3NpdGlvbi55O1xyXG4gICAgICAgICAgICAgICAgdmVydGV4RGF0YVtpbmRleCsrXSA9IHBvc2l0aW9uLno7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2luZGV4KytdID0gbm9ybWFsLng7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2luZGV4KytdID0gbm9ybWFsLnk7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2luZGV4KytdID0gbm9ybWFsLno7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhEYXRhW2luZGV4KytdID0gdXYueDtcclxuICAgICAgICAgICAgICAgIHZlcnRleERhdGFbaW5kZXgrK10gPSB1di55O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9yZW5kZXJhYmxlLl9tZXNoRGF0YS52ZXJ0ZXhCdWZmZXJzWzBdLnVwZGF0ZSh2ZXJ0ZXhEYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX3VwZGF0ZVdlaWdodE1hcCAoKSB7XHJcbiAgICAgICAgY29uc3QgbmxheWVycyA9IHRoaXMuZ2V0TWF4TGF5ZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKG5sYXllcnMgPT09IDApIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3dlaWdodE1hcCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWlnaHRNYXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2VpZ2h0TWFwID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuX3dlaWdodE1hcCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWlnaHRNYXAgPSBuZXcgVGV4dHVyZTJEKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWlnaHRNYXAuY3JlYXRlKHRoaXMuX3RlcnJhaW4ud2VpZ2h0TWFwU2l6ZSwgdGhpcy5fdGVycmFpbi53ZWlnaHRNYXBTaXplLCBQaXhlbEZvcm1hdC5SR0JBODg4OCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWlnaHRNYXAuc2V0RmlsdGVycyhGaWx0ZXIuTElORUFSLCBGaWx0ZXIuTElORUFSKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dlaWdodE1hcC5zZXRXcmFwTW9kZShXcmFwTW9kZS5DTEFNUF9UT19FREdFLCBXcmFwTW9kZS5DTEFNUF9UT19FREdFKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgd2VpZ2h0RGF0YSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3RlcnJhaW4ud2VpZ2h0TWFwU2l6ZSAqIHRoaXMuX3RlcnJhaW4ud2VpZ2h0TWFwU2l6ZSAqIDQpO1xyXG4gICAgICAgIGxldCB3ZWlnaHRJbmRleCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLl90ZXJyYWluLndlaWdodE1hcFNpemU7ICsraikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX3RlcnJhaW4ud2VpZ2h0TWFwU2l6ZTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5faW5kZXhbMF0gKiB0aGlzLl90ZXJyYWluLndlaWdodE1hcFNpemUgKyBpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuX2luZGV4WzFdICogdGhpcy5fdGVycmFpbi53ZWlnaHRNYXBTaXplICsgajtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHcgPSB0aGlzLl90ZXJyYWluLmdldFdlaWdodCh4LCB5KTtcclxuXHJcbiAgICAgICAgICAgICAgICB3ZWlnaHREYXRhW3dlaWdodEluZGV4ICogNCArIDBdID0gTWF0aC5mbG9vcih3LnggKiAyNTUpO1xyXG4gICAgICAgICAgICAgICAgd2VpZ2h0RGF0YVt3ZWlnaHRJbmRleCAqIDQgKyAxXSA9IE1hdGguZmxvb3Iody55ICogMjU1KTtcclxuICAgICAgICAgICAgICAgIHdlaWdodERhdGFbd2VpZ2h0SW5kZXggKiA0ICsgMl0gPSBNYXRoLmZsb29yKHcueiAqIDI1NSk7XHJcbiAgICAgICAgICAgICAgICB3ZWlnaHREYXRhW3dlaWdodEluZGV4ICogNCArIDNdID0gTWF0aC5mbG9vcih3LncgKiAyNTUpO1xyXG5cclxuICAgICAgICAgICAgICAgIHdlaWdodEluZGV4ICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fd2VpZ2h0TWFwLnVwbG9hZERhdGEod2VpZ2h0RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIF91cGRhdGVMaWdodG1hcCAoaW5mbzogVGVycmFpbkJsb2NrTGlnaHRtYXBJbmZvKSB7XHJcbiAgICAgICAgdGhpcy5fbGlnaHRtYXBJbmZvID0gaW5mbztcclxuICAgICAgICB0aGlzLl9pbnZhbGlkTWF0ZXJpYWwoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBlbiBUZXJyYWluXHJcbiAqIEB6aCDlnLDlvaLnu4Tku7ZcclxuICovXHJcbkBjY2NsYXNzKCdjYy5UZXJyYWluJylcclxuQGhlbHAoJ2kxOG46Y2MuVGVycmFpbkNvbXBvbmVudCcpXHJcbkBleGVjdXRlSW5FZGl0TW9kZVxyXG5AZGlzYWxsb3dNdWx0aXBsZVxyXG5leHBvcnQgY2xhc3MgVGVycmFpbiBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IFRlcnJhaW5Bc3NldCxcclxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICBhbmltYXRhYmxlOiBmYWxzZSxcclxuICAgIH0pXHJcbiAgICBwcm90ZWN0ZWQgX19hc3NldDogVGVycmFpbkFzc2V0fG51bGwgPSBudWxsO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdHlwZTogVGVycmFpbkxheWVyLFxyXG4gICAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICAgICAgYW5pbWF0YWJsZTogZmFsc2UsXHJcbiAgICB9KVxyXG4gICAgcHJvdGVjdGVkIF9sYXllcnM6IEFycmF5PFRlcnJhaW5MYXllcnxudWxsPiA9IFtdO1xyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0YWJsZTogZmFsc2UsXHJcbiAgICB9KVxyXG4gICAgcHJvdGVjdGVkIF9ibG9ja0luZm9zOiBUZXJyYWluQmxvY2tJbmZvW10gPSBbXTtcclxuXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgIGFuaW1hdGFibGU6IGZhbHNlLFxyXG4gICAgfSlcclxuICAgIHByb3RlY3RlZCBfbGlnaHRtYXBJbmZvczogVGVycmFpbkJsb2NrTGlnaHRtYXBJbmZvW10gPSBbXTtcclxuXHJcbiAgICBwcm90ZWN0ZWQgX3RpbGVTaXplOiBudW1iZXIgPSAxO1xyXG4gICAgcHJvdGVjdGVkIF9ibG9ja0NvdW50OiBudW1iZXJbXSA9IFsxLCAxXTtcclxuICAgIHByb3RlY3RlZCBfd2VpZ2h0TWFwU2l6ZTogbnVtYmVyID0gMTI4O1xyXG4gICAgcHJvdGVjdGVkIF9saWdodE1hcFNpemU6IG51bWJlciA9IDEyODtcclxuICAgIHByb3RlY3RlZCBfaGVpZ2h0czogVWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoKTtcclxuICAgIHByb3RlY3RlZCBfd2VpZ2h0czogVWludDhBcnJheSA9IG5ldyBVaW50OEFycmF5KCk7XHJcbiAgICBwcm90ZWN0ZWQgX25vcm1hbHM6IG51bWJlcltdID0gW107XHJcbiAgICBwcm90ZWN0ZWQgX2Jsb2NrczogVGVycmFpbkJsb2NrW10gPSBbXTtcclxuICAgIHByb3RlY3RlZCBfc2hhcmVkSW5kZXhCdWZmZXI6IEdGWEJ1ZmZlcnxudWxsID0gbnVsbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciAoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBsYXllcnNcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IFRFUlJBSU5fTUFYX0xBWUVSX0NPVU5UOyArK2kpIHtcclxuICAgICAgICAgICAgdGhpcy5fbGF5ZXJzLnB1c2gobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdHlwZTogVGVycmFpbkFzc2V0LFxyXG4gICAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICB9KVxyXG4gICAgcHVibGljIHNldCBfYXNzZXQgKHZhbHVlOiBUZXJyYWluQXNzZXR8bnVsbCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9fYXNzZXQgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX19hc3NldCA9IHZhbHVlO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fX2Fzc2V0ICE9IG51bGwgJiYgdGhpcy52YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVidWlsZFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBibG9jayBvZiB0aGlzLl9ibG9ja3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBibG9jay5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Jsb2NrSW5mb3MgPSBbXTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2J1aWxkSW1wKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBfYXNzZXQgKCkge1xyXG4gICAgICAgIHJldHVybiAgdGhpcy5fX2Fzc2V0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGdldCB0ZXJyYWluIHNpemVcclxuICAgICAqIEB6aCDojrflvpflnLDlvaLlpKflsI9cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCBzaXplICgpIHtcclxuICAgICAgICBjb25zdCBzeiA9IG5ldyBTaXplKDAsIDApO1xyXG4gICAgICAgIHN6LndpZHRoID0gdGhpcy5ibG9ja0NvdW50WzBdICogVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFkgKiB0aGlzLnRpbGVTaXplO1xyXG4gICAgICAgIHN6LmhlaWdodCA9IHRoaXMuYmxvY2tDb3VudFsxXSAqIFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZICogdGhpcy50aWxlU2l6ZTtcclxuICAgICAgICByZXR1cm4gc3o7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IHRpbGUgc2l6ZVxyXG4gICAgICogQHpoIOiOt+W+l+agheagvOWkp+Wwj1xyXG4gICAgICovXHJcbiAgICBnZXQgdGlsZVNpemUgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl90aWxlU2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgdGlsZSBjb3VudFxyXG4gICAgICogQHpoIOiOt+W+l+agheagvOaVsOmHj1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0IHRpbGVDb3VudCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFt0aGlzLmJsb2NrQ291bnRbMF0gKiBURVJSQUlOX0JMT0NLX1RJTEVfQ09NUExFWElUWSwgdGhpcy5ibG9ja0NvdW50WzFdICogVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFldO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGdldCB2ZXJ0ZXggY291bnRcclxuICAgICAqIEB6aCDojrflvpfpobbngrnmlbDph49cclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldCB2ZXJ0ZXhDb3VudCAoKSB7XHJcbiAgICAgICAgY29uc3QgX3ZlcnRleENvdW50ID0gdGhpcy50aWxlQ291bnQ7XHJcbiAgICAgICAgX3ZlcnRleENvdW50WzBdICs9IDE7XHJcbiAgICAgICAgX3ZlcnRleENvdW50WzFdICs9IDE7XHJcblxyXG4gICAgICAgIHJldHVybiBfdmVydGV4Q291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGJsb2NrIGNvdW50XHJcbiAgICAgKiBAemgg6I635b6X5Zyw5b2i5Z2X5pWw6YePXHJcbiAgICAgKi9cclxuICAgIGdldCBibG9ja0NvdW50ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmxvY2tDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgbGlnaHQgbWFwIHNpemVcclxuICAgICAqIEB6aCDojrflvpflhYnnhaflm77lpKflsI9cclxuICAgICAqL1xyXG4gICAgZ2V0IGxpZ2h0TWFwU2l6ZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpZ2h0TWFwU2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgd2VpZ2h0IG1hcCBzaXplXHJcbiAgICAgKiBAemgg6I635b6X5p2D6YeN5Zu+5aSn5bCPXHJcbiAgICAgKi9cclxuICAgIGdldCB3ZWlnaHRNYXBTaXplICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fd2VpZ2h0TWFwU2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgaGVpZ2h0IGJ1ZmZlclxyXG4gICAgICogQHpoIOiOt+W+l+mrmOW6pue8k+WtmFxyXG4gICAgICovXHJcbiAgICBnZXQgaGVpZ2h0cyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlaWdodHM7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IHdlaWdodCBidWZmZXJcclxuICAgICAqIEB6aCDojrflvpfmnYPph43nvJPlrZhcclxuICAgICAqL1xyXG4gICAgZ2V0IHdlaWdodHMgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93ZWlnaHRzO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGNoZWNrIHZhbGlkXHJcbiAgICAgKiBAemgg5qOA5rWL5piv5ZCm5pyJ5pWIXHJcbiAgICAgKi9cclxuICAgIGdldCB2YWxpZCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jsb2Nrcy5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGdldCB0ZXJyYWluIGluZm9cclxuICAgICAqIEB6aCDojrflvpflnLDlvaLkv6Hmga9cclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0eXBlOiBUZXJyYWluSW5mbyxcclxuICAgICAgICB2aXNpYmxlOiB0cnVlLFxyXG4gICAgfSlcclxuICAgIHB1YmxpYyBnZXQgaW5mbyAoKSB7XHJcbiAgICAgICAgY29uc3QgdGkgPSBuZXcgVGVycmFpbkluZm8oKTtcclxuICAgICAgICB0aS50aWxlU2l6ZSA9IHRoaXMudGlsZVNpemU7XHJcbiAgICAgICAgdGkuYmxvY2tDb3VudFswXSA9IHRoaXMuYmxvY2tDb3VudFswXTtcclxuICAgICAgICB0aS5ibG9ja0NvdW50WzFdID0gdGhpcy5ibG9ja0NvdW50WzFdO1xyXG4gICAgICAgIHRpLndlaWdodE1hcFNpemUgPSB0aGlzLndlaWdodE1hcFNpemU7XHJcbiAgICAgICAgdGkubGlnaHRNYXBTaXplID0gdGhpcy5saWdodE1hcFNpemU7XHJcblxyXG4gICAgICAgIHJldHVybiB0aTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBidWlsZFxyXG4gICAgICogQHpoIOaehOW7uuWcsOW9olxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYnVpbGQgKGluZm86IFRlcnJhaW5JbmZvKSB7XHJcbiAgICAgICAgdGhpcy5fdGlsZVNpemUgPSBpbmZvLnRpbGVTaXplO1xyXG4gICAgICAgIHRoaXMuX2Jsb2NrQ291bnRbMF0gPSBpbmZvLmJsb2NrQ291bnRbMF07XHJcbiAgICAgICAgdGhpcy5fYmxvY2tDb3VudFsxXSA9IGluZm8uYmxvY2tDb3VudFsxXTtcclxuICAgICAgICB0aGlzLl93ZWlnaHRNYXBTaXplID0gaW5mby53ZWlnaHRNYXBTaXplO1xyXG4gICAgICAgIHRoaXMuX2xpZ2h0TWFwU2l6ZSA9IGluZm8ubGlnaHRNYXBTaXplO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fYnVpbGRJbXAoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiByZWJ1aWxkXHJcbiAgICAgKiBAemgg6YeN5bu65Zyw5b2iXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyByZWJ1aWxkIChpbmZvOiBUZXJyYWluSW5mbykge1xyXG4gICAgICAgIC8vIGJ1aWxkIGJsb2NrIGluZm9cclxuICAgICAgICBjb25zdCBibG9ja0luZm9zOiBUZXJyYWluQmxvY2tJbmZvW10gPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZm8uYmxvY2tDb3VudFswXSAqIGluZm8uYmxvY2tDb3VudFsxXTsgKytpKSB7XHJcbiAgICAgICAgICAgIGJsb2NrSW5mb3MucHVzaChuZXcgVGVycmFpbkJsb2NrSW5mbygpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHcgPSBNYXRoLm1pbih0aGlzLl9ibG9ja0NvdW50WzBdLCBpbmZvLmJsb2NrQ291bnRbMF0pO1xyXG4gICAgICAgIGNvbnN0IGggPSBNYXRoLm1pbih0aGlzLl9ibG9ja0NvdW50WzFdLCBpbmZvLmJsb2NrQ291bnRbMV0pO1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgaDsgKytqKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdzsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbmRleDAgPSBqICogaW5mby5ibG9ja0NvdW50WzBdICsgaTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4MSA9IGogKiB0aGlzLmJsb2NrQ291bnRbMF0gKyBpO1xyXG5cclxuICAgICAgICAgICAgICAgIGJsb2NrSW5mb3NbaW5kZXgwXSA9IHRoaXMuX2Jsb2NrSW5mb3NbaW5kZXgxXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fYmxvY2tJbmZvcyA9IGJsb2NrSW5mb3M7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgYmxvY2sgb2YgdGhpcy5fYmxvY2tzKSB7XHJcbiAgICAgICAgICAgIGJsb2NrLmRlc3Ryb3koKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fYmxvY2tzID0gW107XHJcblxyXG4gICAgICAgIC8vIGJ1aWxkIGhlaWdodHNcclxuICAgICAgICB0aGlzLl9yZWJ1aWxkSGVpZ2h0cyhpbmZvKTtcclxuXHJcbiAgICAgICAgLy8gYnVpbGQgd2VpZ2h0c1xyXG4gICAgICAgIHRoaXMuX3JlYnVpbGRXZWlnaHRzKGluZm8pO1xyXG5cclxuICAgICAgICAvLyB1cGRhdGUgaW5mb1xyXG4gICAgICAgIHRoaXMuX3RpbGVTaXplID0gaW5mby50aWxlU2l6ZTtcclxuICAgICAgICB0aGlzLl9ibG9ja0NvdW50WzBdID0gaW5mby5ibG9ja0NvdW50WzBdO1xyXG4gICAgICAgIHRoaXMuX2Jsb2NrQ291bnRbMV0gPSBpbmZvLmJsb2NrQ291bnRbMV07XHJcbiAgICAgICAgdGhpcy5fd2VpZ2h0TWFwU2l6ZSA9IGluZm8ud2VpZ2h0TWFwU2l6ZTtcclxuICAgICAgICB0aGlzLl9saWdodE1hcFNpemUgPSBpbmZvLmxpZ2h0TWFwU2l6ZTtcclxuXHJcbiAgICAgICAgLy8gYnVpbGQgYmxvY2tzXHJcbiAgICAgICAgdGhpcy5fYnVpbGROb3JtYWxzKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fYmxvY2tDb3VudFsxXTsgKytqKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYmxvY2tDb3VudFswXTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja3MucHVzaChuZXcgVGVycmFpbkJsb2NrKHRoaXMsIGksIGopKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHRoaXMuX2Jsb2Nrcykge1xyXG4gICAgICAgICAgICBpLmJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGltcG9ydCBoZWlnaHQgZmllbGRcclxuICAgICAqIEB6aCDlr7zlhaXpq5jluqblm75cclxuICAgICAqL1xyXG4gICAgcHVibGljIGltcG9ydEhlaWdodEZpZWxkIChoZjogSGVpZ2h0RmllbGQsIGhlaWdodFNjYWxlOiBudW1iZXIpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy52ZXJ0ZXhDb3VudFsxXTsgKytqKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy52ZXJ0ZXhDb3VudFswXTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB1ID0gaSAvIHRoaXMudGlsZUNvdW50WzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdiA9IGogLyB0aGlzLnRpbGVDb3VudFsxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBoID0gaGYuZ2V0QXQodSAqIGhmLncsIHYgKiBoZi5oKSAqIGhlaWdodFNjYWxlO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2hlaWdodHNbaW5kZXgrK10gPSBoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9idWlsZE5vcm1hbHMoKTtcclxuXHJcbiAgICAgICAgLy8gcmVidWlsZCBhbGwgYmxvY2tzXHJcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHRoaXMuX2Jsb2Nrcykge1xyXG4gICAgICAgICAgICBpLl91cGRhdGVIZWlnaHQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZXhwb3J0IGhlaWdodCBmaWVsZFxyXG4gICAgICogQHpoIOWvvOWHuumrmOW6puWbvlxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZXhwb3J0SGVpZ2h0RmllbGQgKGhmOiBIZWlnaHRGaWVsZCwgaGVpZ2h0U2NhbGU6IG51bWJlcikge1xyXG4gICAgICAgIGxldCBpbmRleCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBoZi5oOyArK2opIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZi53OyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHUgPSBpIC8gKGhmLncgLSAxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHYgPSBqIC8gKGhmLmggLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gdSAqIHRoaXMuc2l6ZS53aWR0aDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB2ICogdGhpcy5zaXplLmhlaWdodDtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBoID0gdGhpcy5nZXRIZWlnaHRBdCh4LCB5KTtcclxuICAgICAgICAgICAgICAgIGlmIChoICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBoZi5kYXRhW2luZGV4KytdID0gaCAqIGhlaWdodFNjYWxlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBleHBvcnRBc3NldCAoKSB7XHJcbiAgICAgICAgY29uc3QgYXNzZXQgPSBuZXcgVGVycmFpbkFzc2V0KCk7XHJcblxyXG4gICAgICAgIGFzc2V0LnRpbGVTaXplID0gdGhpcy50aWxlU2l6ZTtcclxuICAgICAgICBhc3NldC5ibG9ja0NvdW50ID0gdGhpcy5ibG9ja0NvdW50O1xyXG4gICAgICAgIGFzc2V0LmxpZ2h0TWFwU2l6ZSA9IHRoaXMubGlnaHRNYXBTaXplO1xyXG4gICAgICAgIGFzc2V0LndlaWdodE1hcFNpemUgPSB0aGlzLndlaWdodE1hcFNpemU7XHJcbiAgICAgICAgYXNzZXQuaGVpZ2h0cyA9IHRoaXMuaGVpZ2h0cztcclxuICAgICAgICBhc3NldC53ZWlnaHRzID0gdGhpcy53ZWlnaHRzO1xyXG5cclxuICAgICAgICBhc3NldC5sYXllckJ1ZmZlciA9IG5ldyBBcnJheTxudW1iZXI+KHRoaXMuX2Jsb2Nrcy5sZW5ndGggKiA0KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2Jsb2Nrcy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBhc3NldC5sYXllckJ1ZmZlcltpICogNCArIDBdID0gdGhpcy5fYmxvY2tzW2ldLmxheWVyc1swXTtcclxuICAgICAgICAgICAgYXNzZXQubGF5ZXJCdWZmZXJbaSAqIDQgKyAxXSA9IHRoaXMuX2Jsb2Nrc1tpXS5sYXllcnNbMV07XHJcbiAgICAgICAgICAgIGFzc2V0LmxheWVyQnVmZmVyW2kgKiA0ICsgMl0gPSB0aGlzLl9ibG9ja3NbaV0ubGF5ZXJzWzJdO1xyXG4gICAgICAgICAgICBhc3NldC5sYXllckJ1ZmZlcltpICogNCArIDNdID0gdGhpcy5fYmxvY2tzW2ldLmxheWVyc1szXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbGF5ZXJzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSB0aGlzLl9sYXllcnNbaV07XHJcbiAgICAgICAgICAgIGlmICh0ZW1wICYmIHRlbXAuZGV0YWlsTWFwICYmIGlzVmFsaWQodGVtcC5kZXRhaWxNYXApKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IG5ldyBUZXJyYWluTGF5ZXJJbmZvKCk7XHJcbiAgICAgICAgICAgICAgICBsYXllci5zbG90ID0gaTtcclxuICAgICAgICAgICAgICAgIGxheWVyLnRpbGVTaXplID0gdGVtcC50aWxlU2l6ZTtcclxuICAgICAgICAgICAgICAgIGxheWVyLmRldGFpbE1hcCA9IHRlbXAuZGV0YWlsTWFwLl91dWlkO1xyXG4gICAgICAgICAgICAgICAgYXNzZXQubGF5ZXJJbmZvcy5wdXNoKGxheWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGFzc2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkxvYWQgKCkge1xyXG4gICAgICAgIGNvbnN0IGdmeERldmljZSA9IGNjLmRpcmVjdG9yLnJvb3QuZGV2aWNlIGFzIEdGWERldmljZTtcclxuXHJcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBzaGFyZWQgaW5kZXggYnVmZmVyXHJcbiAgICAgICAgY29uc3QgaW5kZXhEYXRhID0gbmV3IFVpbnQxNkFycmF5KFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZICogVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFkgKiA2KTtcclxuXHJcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IFRFUlJBSU5fQkxPQ0tfVElMRV9DT01QTEVYSVRZOyArK2opIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBURVJSQUlOX0JMT0NLX1RJTEVfQ09NUExFWElUWTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gaiAqIFRFUlJBSU5fQkxPQ0tfVkVSVEVYX0NPTVBMRVhJVFkgKyBpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYiA9IGogKiBURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZICsgaSArIDE7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gKGogKyAxKSAqIFRFUlJBSU5fQkxPQ0tfVkVSVEVYX0NPTVBMRVhJVFkgKyBpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZCA9IChqICsgMSkgKiBURVJSQUlOX0JMT0NLX1ZFUlRFWF9DT01QTEVYSVRZICsgaSArIDE7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZmFjZSAxXHJcbiAgICAgICAgICAgICAgICBpbmRleERhdGFbaW5kZXgrK10gPSBhO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhEYXRhW2luZGV4KytdID0gYztcclxuICAgICAgICAgICAgICAgIGluZGV4RGF0YVtpbmRleCsrXSA9IGI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZmFjZSAyXHJcbiAgICAgICAgICAgICAgICBpbmRleERhdGFbaW5kZXgrK10gPSBiO1xyXG4gICAgICAgICAgICAgICAgaW5kZXhEYXRhW2luZGV4KytdID0gYztcclxuICAgICAgICAgICAgICAgIGluZGV4RGF0YVtpbmRleCsrXSA9IGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3NoYXJlZEluZGV4QnVmZmVyID0gZ2Z4RGV2aWNlLmNyZWF0ZUJ1ZmZlcih7XHJcbiAgICAgICAgICAgIHVzYWdlOiBHRlhCdWZmZXJVc2FnZUJpdC5JTkRFWCB8IEdGWEJ1ZmZlclVzYWdlQml0LlRSQU5TRkVSX0RTVCxcclxuICAgICAgICAgICAgbWVtVXNhZ2U6IEdGWE1lbW9yeVVzYWdlQml0LkhPU1QgfCBHRlhNZW1vcnlVc2FnZUJpdC5ERVZJQ0UsXHJcbiAgICAgICAgICAgIHNpemU6IFVpbnQxNkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UICogVEVSUkFJTl9CTE9DS19USUxFX0NPTVBMRVhJVFkgKiBURVJSQUlOX0JMT0NLX1RJTEVfQ09NUExFWElUWSAqIDYsXHJcbiAgICAgICAgICAgIHN0cmlkZTogVWludDE2QXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5fc2hhcmVkSW5kZXhCdWZmZXIudXBkYXRlKGluZGV4RGF0YSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRW5hYmxlICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fYmxvY2tzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLl9idWlsZEltcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EaXNhYmxlICgpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5fYmxvY2tzKSB7XHJcbiAgICAgICAgICAgIGkuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9ibG9ja3MgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25EZXN0cm95ICgpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLl9sYXllcnNbaV0gPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3NoYXJlZEluZGV4QnVmZmVyICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2hhcmVkSW5kZXhCdWZmZXIuZGVzdHJveSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgb25SZXN0b3JlICgpIHtcclxuICAgICAgICB0aGlzLm9uRGlzYWJsZSgpO1xyXG4gICAgICAgIHRoaXMub25Mb2FkKCk7XHJcbiAgICAgICAgdGhpcy5fYnVpbGRJbXAodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSAoZGVsdGFUaW1lOiBudW1iZXIpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgdGhpcy5fYmxvY2tzKSB7XHJcbiAgICAgICAgICAgIGkudXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGFkZCBsYXllclxyXG4gICAgICogQHpoIOa3u+WKoOe6ueeQhuWxglxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgYWRkTGF5ZXIgKGxheWVyOiBUZXJyYWluTGF5ZXIpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2xheWVycy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5fbGF5ZXJzW2ldID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xheWVyc1tpXSA9IGxheWVyO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAtMTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBzZXQgbGF5ZXJcclxuICAgICAqIEB6aCDorr7nva7nurnnkIblsYJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldExheWVyIChpOiBudW1iZXIsIGxheWVyOiBUZXJyYWluTGF5ZXIpIHtcclxuICAgICAgICB0aGlzLl9sYXllcnNbaV0gPSBsYXllcjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiByZW1vdmUgbGF5ZXJcclxuICAgICAqIEB6aCDnp7vpmaTnurnnkIblsYJcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJlbW92ZUxheWVyIChpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fbGF5ZXJzW2lkXSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGxheWVyXHJcbiAgICAgKiBAemgg6I635b6X57q555CG5bGCXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRMYXllciAoaWQ6IG51bWJlcikge1xyXG4gICAgICAgIGlmIChpZCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5fbGF5ZXJzW2lkXTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IHBvc2l0aW9uXHJcbiAgICAgKiBAemgg6I635b6X5Zyw5b2i5LiK55qE5L2N572uXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRQb3NpdGlvbiAoaTogbnVtYmVyLCBqOiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCB4ID0gaSAqIHRoaXMuX3RpbGVTaXplO1xyXG4gICAgICAgIGNvbnN0IHogPSBqICogdGhpcy5fdGlsZVNpemU7XHJcbiAgICAgICAgY29uc3QgeSA9IHRoaXMuZ2V0SGVpZ2h0KGksIGopO1xyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFZlYzMoeCwgeSwgeik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEhlaWdodEZpZWxkICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0cztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBzZXQgaGVpZ2h0XHJcbiAgICAgKiBAemgg6K6+572u5Zyw5b2i5LiK55qE6auY5bqmXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBzZXRIZWlnaHQgKGk6IG51bWJlciwgajogbnVtYmVyLCBoOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9oZWlnaHRzW2ogKiB0aGlzLnZlcnRleENvdW50WzBdICsgaV0gPSBURVJSQUlOX0hFSUdIVF9CQVNFICsgaCAvIFRFUlJBSU5fSEVJR0hUX0ZBQ1RPUlk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGhlaWdodFxyXG4gICAgICogQHpoIOiOt+W+l+WcsOW9ouS4iueahOmrmOW6plxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0SGVpZ2h0IChpOiBudW1iZXIsIGo6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5faGVpZ2h0c1tqICogdGhpcy52ZXJ0ZXhDb3VudFswXSArIGldIC0gVEVSUkFJTl9IRUlHSFRfQkFTRSkgKiBURVJSQUlOX0hFSUdIVF9GQUNUT1JZO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIHNldCBoZWlnaHRcclxuICAgICAqIEB6aCDorr7nva7pq5jluqZcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEhlaWdodENsYW1wIChpOiBudW1iZXIsIGo6IG51bWJlcikge1xyXG4gICAgICAgIGkgPSBjbGFtcChpLCAwLCB0aGlzLnZlcnRleENvdW50WzBdIC0gMSk7XHJcbiAgICAgICAgaiA9IGNsYW1wKGosIDAsIHRoaXMudmVydGV4Q291bnRbMV0gLSAxKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SGVpZ2h0KGksIGopO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIGdldCBoZWlnaHQgYnkgcG9pbnRcclxuICAgICAqIEB6aCDmoLnmja7ngrnnmoTlnZDmoIfojrflvpfpq5jluqZcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEhlaWdodEF0ICh4OiBudW1iZXIsIHk6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGZ4ID0geCAvIHRoaXMudGlsZVNpemU7XHJcbiAgICAgICAgY29uc3QgZnkgPSB5IC8gdGhpcy50aWxlU2l6ZTtcclxuXHJcbiAgICAgICAgbGV0IGl4MCA9IE1hdGguZmxvb3IoZngpO1xyXG4gICAgICAgIGxldCBpejAgPSBNYXRoLmZsb29yKGZ5KTtcclxuICAgICAgICBsZXQgaXgxID0gaXgwICsgMTtcclxuICAgICAgICBsZXQgaXoxID0gaXowICsgMTtcclxuICAgICAgICBjb25zdCBkeCA9IGZ4IC0gaXgwO1xyXG4gICAgICAgIGNvbnN0IGR6ID0gZnkgLSBpejA7XHJcblxyXG4gICAgICAgIGlmIChpeDAgPCAwIHx8IGl4MCA+IHRoaXMudmVydGV4Q291bnRbMF0gLSAxIHx8IGl6MCA8IDAgfHwgaXowID4gdGhpcy52ZXJ0ZXhDb3VudFsxXSAtIDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpeDAgPSBjbGFtcChpeDAsIDAsIHRoaXMudmVydGV4Q291bnRbMF0gIC0gMSk7XHJcbiAgICAgICAgaXowID0gY2xhbXAoaXowLCAwLCB0aGlzLnZlcnRleENvdW50WzFdICAtIDEpO1xyXG4gICAgICAgIGl4MSA9IGNsYW1wKGl4MSwgMCwgdGhpcy52ZXJ0ZXhDb3VudFswXSAgLSAxKTtcclxuICAgICAgICBpejEgPSBjbGFtcChpejEsIDAsIHRoaXMudmVydGV4Q291bnRbMV0gIC0gMSk7XHJcblxyXG4gICAgICAgIGxldCBhID0gdGhpcy5nZXRIZWlnaHQoaXgwLCBpejApO1xyXG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLmdldEhlaWdodChpeDEsIGl6MCk7XHJcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuZ2V0SGVpZ2h0KGl4MCwgaXoxKTtcclxuICAgICAgICBsZXQgZCA9IHRoaXMuZ2V0SGVpZ2h0KGl4MSwgaXoxKTtcclxuICAgICAgICBjb25zdCBtID0gKGIgKyBjKSAqIDAuNTtcclxuXHJcbiAgICAgICAgaWYgKGR4ICsgZHogPD0gMS4wKSB7XHJcbiAgICAgICAgICAgIGQgPSBtICsgKG0gLSBhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGEgPSBtICsgKG0gLSBkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGgxID0gYSAqICgxLjAgLSBkeCkgKyBiICogZHg7XHJcbiAgICAgICAgY29uc3QgaDIgPSBjICogKDEuMCAtIGR4KSArIGQgKiBkeDtcclxuXHJcbiAgICAgICAgY29uc3QgaCA9IGgxICogKDEuMCAtIGR6KSArIGgyICogZHo7XHJcblxyXG4gICAgICAgIHJldHVybiBoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfc2V0Tm9ybWFsIChpOiBudW1iZXIsIGo6IG51bWJlciwgbjogVmVjMykge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gaiAqIHRoaXMudmVydGV4Q291bnRbMF0gKyBpO1xyXG5cclxuICAgICAgICB0aGlzLl9ub3JtYWxzW2luZGV4ICogMyArIDBdID0gIG4ueDtcclxuICAgICAgICB0aGlzLl9ub3JtYWxzW2luZGV4ICogMyArIDFdID0gIG4ueTtcclxuICAgICAgICB0aGlzLl9ub3JtYWxzW2luZGV4ICogMyArIDJdID0gIG4uejtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgbm9ybWFsXHJcbiAgICAgKiBAemgg6I635b6X5rOV57q/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXROb3JtYWwgKGk6IG51bWJlciwgajogbnVtYmVyKSB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBqICogdGhpcy52ZXJ0ZXhDb3VudFswXSArIGk7XHJcblxyXG4gICAgICAgIGNvbnN0IG4gPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIG4ueCA9IHRoaXMuX25vcm1hbHNbaW5kZXggKiAzICsgMF07XHJcbiAgICAgICAgbi55ID0gdGhpcy5fbm9ybWFsc1tpbmRleCAqIDMgKyAxXTtcclxuICAgICAgICBuLnogPSB0aGlzLl9ub3JtYWxzW2luZGV4ICogMyArIDJdO1xyXG5cclxuICAgICAgICByZXR1cm4gbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgbm9ybWFsIGJ5IHBvaW50XHJcbiAgICAgKiBAemgg5qC55o2u54K555qE5Z2Q5qCH6I635b6X5rOV57q/XHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXROb3JtYWxBdCAoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBmeCA9IHggLyB0aGlzLnRpbGVTaXplO1xyXG4gICAgICAgIGNvbnN0IGZ5ID0geSAvIHRoaXMudGlsZVNpemU7XHJcblxyXG4gICAgICAgIGxldCBpeDAgPSBNYXRoLmZsb29yKGZ4KTtcclxuICAgICAgICBsZXQgaXowID0gTWF0aC5mbG9vcihmeSk7XHJcbiAgICAgICAgbGV0IGl4MSA9IGl4MCArIDE7XHJcbiAgICAgICAgbGV0IGl6MSA9IGl6MCArIDE7XHJcbiAgICAgICAgY29uc3QgZHggPSBmeCAtIGl4MDtcclxuICAgICAgICBjb25zdCBkeiA9IGZ5IC0gaXowO1xyXG5cclxuICAgICAgICBpZiAoaXgwIDwgMCB8fCBpeDAgPiB0aGlzLnZlcnRleENvdW50WzBdIC0gMSB8fCBpejAgPCAwIHx8IGl6MCA+IHRoaXMudmVydGV4Q291bnRbMV0gLSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXgwID0gY2xhbXAoaXgwLCAwLCB0aGlzLnZlcnRleENvdW50WzBdICAtIDEpO1xyXG4gICAgICAgIGl6MCA9IGNsYW1wKGl6MCwgMCwgdGhpcy52ZXJ0ZXhDb3VudFsxXSAgLSAxKTtcclxuICAgICAgICBpeDEgPSBjbGFtcChpeDEsIDAsIHRoaXMudmVydGV4Q291bnRbMF0gIC0gMSk7XHJcbiAgICAgICAgaXoxID0gY2xhbXAoaXoxLCAwLCB0aGlzLnZlcnRleENvdW50WzFdICAtIDEpO1xyXG5cclxuICAgICAgICBjb25zdCBhID0gdGhpcy5nZXROb3JtYWwoaXgwLCBpejApO1xyXG4gICAgICAgIGNvbnN0IGIgPSB0aGlzLmdldE5vcm1hbChpeDEsIGl6MCk7XHJcbiAgICAgICAgY29uc3QgYyA9IHRoaXMuZ2V0Tm9ybWFsKGl4MCwgaXoxKTtcclxuICAgICAgICBjb25zdCBkID0gdGhpcy5nZXROb3JtYWwoaXgxLCBpejEpO1xyXG4gICAgICAgIGNvbnN0IG0gPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIFZlYzMuYWRkKG0sIGIsIGMpLm11bHRpcGx5U2NhbGFyKDAuNSk7XHJcblxyXG4gICAgICAgIGlmIChkeCArIGR6IDw9IDEuMCkge1xyXG4gICAgICAgICAgICAvLyBkID0gbSArIChtIC0gYSk7XHJcbiAgICAgICAgICAgIGQuc2V0KG0pO1xyXG4gICAgICAgICAgICBkLnN1YnRyYWN0KGEpO1xyXG4gICAgICAgICAgICBkLmFkZChtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGEgPSBtICsgKG0gLSBkKTtcclxuICAgICAgICAgICAgYS5zZXQobSk7XHJcbiAgICAgICAgICAgIGEuc3VidHJhY3QoZCk7XHJcbiAgICAgICAgICAgIGEuYWRkKG0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbjEgPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIGNvbnN0IG4yID0gbmV3IFZlYzMoKTtcclxuICAgICAgICBjb25zdCBuID0gbmV3IFZlYzMoKTtcclxuICAgICAgICBWZWMzLmxlcnAobjEsIGEsIGIsIGR4KTtcclxuICAgICAgICBWZWMzLmxlcnAobjIsIGMsIGQsIGR4KTtcclxuICAgICAgICBWZWMzLmxlcnAobiwgbjEsIG4yLCBkeik7XHJcblxyXG4gICAgICAgIHJldHVybiBuO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuIHNldCB3ZWlnaHRcclxuICAgICAqIEB6aCDorr7nva7mnYPph41cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNldFdlaWdodCAoaTogbnVtYmVyLCBqOiBudW1iZXIsIHc6IFZlYzQpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IGogKiB0aGlzLl93ZWlnaHRNYXBTaXplICogdGhpcy5fYmxvY2tDb3VudFswXSArIGk7XHJcblxyXG4gICAgICAgIHRoaXMuX3dlaWdodHNbaW5kZXggKiA0ICsgMF0gPSB3LnggKiAyNTU7XHJcbiAgICAgICAgdGhpcy5fd2VpZ2h0c1tpbmRleCAqIDQgKyAxXSA9IHcueSAqIDI1NTtcclxuICAgICAgICB0aGlzLl93ZWlnaHRzW2luZGV4ICogNCArIDJdID0gdy56ICogMjU1O1xyXG4gICAgICAgIHRoaXMuX3dlaWdodHNbaW5kZXggKiA0ICsgM10gPSB3LncgKiAyNTU7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IHdlaWdodFxyXG4gICAgICogQHpoIOiOt+W+l+adg+mHjVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0V2VpZ2h0IChpOiBudW1iZXIsIGo6IG51bWJlcikge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gaiAqIHRoaXMuX3dlaWdodE1hcFNpemUgKiB0aGlzLl9ibG9ja0NvdW50WzBdICsgaTtcclxuXHJcbiAgICAgICAgY29uc3QgdyA9IG5ldyBWZWM0KCk7XHJcbiAgICAgICAgdy54ID0gdGhpcy5fd2VpZ2h0c1tpbmRleCAqIDQgKyAwXSAvIDI1NS4wO1xyXG4gICAgICAgIHcueSA9IHRoaXMuX3dlaWdodHNbaW5kZXggKiA0ICsgMV0gLyAyNTUuMDtcclxuICAgICAgICB3LnogPSB0aGlzLl93ZWlnaHRzW2luZGV4ICogNCArIDJdIC8gMjU1LjA7XHJcbiAgICAgICAgdy53ID0gdGhpcy5fd2VpZ2h0c1tpbmRleCAqIDQgKyAzXSAvIDI1NS4wO1xyXG5cclxuICAgICAgICByZXR1cm4gdztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgbm9ybWFsIGJ5IHBvaW50XHJcbiAgICAgKiBAemgg5qC55o2u54K555qE5Z2Q5qCH6I635b6X5p2D6YeNXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRXZWlnaHRBdCAoeDogbnVtYmVyLCB5OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBmeCA9IHggLyB0aGlzLnRpbGVTaXplO1xyXG4gICAgICAgIGNvbnN0IGZ5ID0geSAvIHRoaXMudGlsZVNpemU7XHJcblxyXG4gICAgICAgIGxldCBpeDAgPSBNYXRoLmZsb29yKGZ4KTtcclxuICAgICAgICBsZXQgaXowID0gTWF0aC5mbG9vcihmeSk7XHJcbiAgICAgICAgbGV0IGl4MSA9IGl4MCArIDE7XHJcbiAgICAgICAgbGV0IGl6MSA9IGl6MCArIDE7XHJcbiAgICAgICAgY29uc3QgZHggPSBmeCAtIGl4MDtcclxuICAgICAgICBjb25zdCBkeiA9IGZ5IC0gaXowO1xyXG5cclxuICAgICAgICBpZiAoaXgwIDwgMCB8fCBpeDAgPiB0aGlzLnZlcnRleENvdW50WzBdIC0gMSB8fCBpejAgPCAwIHx8IGl6MCA+IHRoaXMudmVydGV4Q291bnRbMV0gLSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaXgwID0gY2xhbXAoaXgwLCAwLCB0aGlzLnZlcnRleENvdW50WzBdICAtIDEpO1xyXG4gICAgICAgIGl6MCA9IGNsYW1wKGl6MCwgMCwgdGhpcy52ZXJ0ZXhDb3VudFsxXSAgLSAxKTtcclxuICAgICAgICBpeDEgPSBjbGFtcChpeDEsIDAsIHRoaXMudmVydGV4Q291bnRbMF0gIC0gMSk7XHJcbiAgICAgICAgaXoxID0gY2xhbXAoaXoxLCAwLCB0aGlzLnZlcnRleENvdW50WzFdICAtIDEpO1xyXG5cclxuICAgICAgICBsZXQgYSA9IHRoaXMuZ2V0V2VpZ2h0KGl4MCwgaXowKTtcclxuICAgICAgICBjb25zdCBiID0gdGhpcy5nZXRXZWlnaHQoaXgxLCBpejApO1xyXG4gICAgICAgIGNvbnN0IGMgPSB0aGlzLmdldFdlaWdodChpeDAsIGl6MSk7XHJcbiAgICAgICAgbGV0IGQgPSB0aGlzLmdldFdlaWdodChpeDEsIGl6MSk7XHJcbiAgICAgICAgY29uc3QgbSA9IG5ldyBWZWM0KCk7XHJcbiAgICAgICAgVmVjNC5hZGQobSwgYiwgYykubXVsdGlwbHlTY2FsYXIoMC41KTtcclxuXHJcbiAgICAgICAgaWYgKGR4ICsgZHogPD0gMS4wKSB7XHJcbiAgICAgICAgICAgIGQgPSBuZXcgVmVjNCgpO1xyXG4gICAgICAgICAgICBWZWM0LnN1YnRyYWN0KGQsIG0sIGEpLmFkZChtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGEgPSBuZXcgVmVjNCgpO1xyXG4gICAgICAgICAgICBWZWM0LnN1YnRyYWN0KGEsIG0sIGQpLmFkZChtKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG4xID0gbmV3IFZlYzQoKTtcclxuICAgICAgICBjb25zdCBuMiA9IG5ldyBWZWM0KCk7XHJcbiAgICAgICAgY29uc3QgbiA9IG5ldyBWZWM0KCk7XHJcbiAgICAgICAgVmVjNC5sZXJwKG4xLCBhLCBiLCBkeCk7XHJcbiAgICAgICAgVmVjNC5sZXJwKG4yLCBjLCBkLCBkeCk7XHJcbiAgICAgICAgVmVjNC5sZXJwKG4sIG4xLCBuMiwgZHopO1xyXG5cclxuICAgICAgICByZXR1cm4gbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBnZXQgYmxvY2sgaW5mb1xyXG4gICAgICogQHpoIOiOt+W+l+WcsOW9ouWdl+S/oeaBr1xyXG4gICAgICovXHJcbiAgICBwdWJsaWMgZ2V0QmxvY2tJbmZvIChpOiBudW1iZXIsIGo6IG51bWJlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ibG9ja0luZm9zW2ogKiB0aGlzLl9ibG9ja0NvdW50WzBdICsgaV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGJsb2NrXHJcbiAgICAgKiBAemgg6I635b6X5Zyw5b2i5Z2X5a+56LGhXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBnZXRCbG9jayAoaTogbnVtYmVyLCBqOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYmxvY2tzW2ogKiB0aGlzLl9ibG9ja0NvdW50WzBdICsgaV07XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gZ2V0IGFsbCBibG9ja3NcclxuICAgICAqIEB6aCDojrflvpflnLDlvaLlnZfnvJPlrZhcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldEJsb2NrcyAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Jsb2NrcztcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlbiByYXkgY2hlY2tcclxuICAgICAqIEBwYXJhbSBzdGFydCByYXkgc3RhcnRcclxuICAgICAqIEBwYXJhbSBkaXIgcmF5IGRpcmVjdGlvblxyXG4gICAgICogQHBhcmFtIHN0ZXAgcmF5IHN0ZXBcclxuICAgICAqIEBwYXJhbSB3b3JsZFNwYWNlIGlzIHdvcmxkIHNwYWNlXHJcbiAgICAgKiBAemgg5bCE57q/5qOA5rWLXHJcbiAgICAgKiBAcGFyYW0gc3RhcnQg5bCE57q/5Y6f54K5XHJcbiAgICAgKiBAcGFyYW0gZGlyIOWwhOe6v+aWueWQkVxyXG4gICAgICogQHBhcmFtIHN0ZXAg5bCE57q/5q2l6ZW/XHJcbiAgICAgKiBAcGFyYW0gd29ybGRTcGFjZSDmmK/lkKblnKjkuJbnlYznqbrpl7RcclxuICAgICAqL1xyXG4gICAgcHVibGljIHJheUNoZWNrIChzdGFydDogVmVjMywgZGlyOiBWZWMzLCBzdGVwOiBudW1iZXIsIHdvcmxkU3BhY2U6IGJvb2xlYW4gPSB0cnVlKSB7XHJcbiAgICAgICAgY29uc3QgTUFYX0NPVU5UID0gMjAwMDtcclxuXHJcbiAgICAgICAgY29uc3QgdHJhY2UgPSBzdGFydDtcclxuICAgICAgICBpZiAod29ybGRTcGFjZSkge1xyXG4gICAgICAgICAgICBWZWMzLnN1YnRyYWN0KHRyYWNlLCBzdGFydCwgdGhpcy5ub2RlLmdldFdvcmxkUG9zaXRpb24oKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBkZWx0YSA9IG5ldyBWZWMzKCk7XHJcbiAgICAgICAgZGVsdGEuc2V0KGRpcik7XHJcbiAgICAgICAgZGVsdGEubXVsdGlwbHlTY2FsYXIoc3RlcCk7XHJcblxyXG4gICAgICAgIGxldCBwb3NpdGlvbjogVmVjM3xudWxsID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKGRpci5lcXVhbHMobmV3IFZlYzMoMCwgMSwgMCkpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLmdldEhlaWdodEF0KHRyYWNlLngsIHRyYWNlLnopO1xyXG4gICAgICAgICAgICBpZiAoeSAhPSBudWxsICYmIHRyYWNlLnkgPD0geSkge1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBuZXcgVmVjMyh0cmFjZS54LCB5LCB0cmFjZS56KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChkaXIuZXF1YWxzKG5ldyBWZWMzKDAsIC0xLCAwKSkpIHtcclxuICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuZ2V0SGVpZ2h0QXQodHJhY2UueCwgdHJhY2Uueik7XHJcbiAgICAgICAgICAgIGlmICh5ICE9IG51bGwgJiYgdHJhY2UueSA+PSB5KSB7XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IG5ldyBWZWMzKHRyYWNlLngsIHksIHRyYWNlLnopO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsZXQgaSA9IDA7XHJcblxyXG4gICAgICAgICAgICAvLyDkvJjlhYjlpKfmraXov5vmn6Xmib5cclxuICAgICAgICAgICAgd2hpbGUgKGkrKyA8IE1BWF9DT1VOVCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuZ2V0SGVpZ2h0QXQodHJhY2UueCwgdHJhY2Uueik7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSAhPSBudWxsICYmIHRyYWNlLnkgPD0geSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRyYWNlLmFkZChkaXIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyDnqbfkuL7ms5VcclxuICAgICAgICAgICAgd2hpbGUgKGkrKyA8IE1BWF9DT1VOVCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHRoaXMuZ2V0SGVpZ2h0QXQodHJhY2UueCwgdHJhY2Uueik7XHJcbiAgICAgICAgICAgICAgICBpZiAoeSAhPSBudWxsICYmIHRyYWNlLnkgPD0geSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gbmV3IFZlYzModHJhY2UueCwgeSwgdHJhY2Uueik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdHJhY2UuYWRkKGRlbHRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfZ2V0U2hhcmVkSW5kZXhCdWZmZXIgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaGFyZWRJbmRleEJ1ZmZlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX3Jlc2V0TGlnaHRtYXAgKGVuYmxlOiBib29sZWFuKSB7XHJcbiAgICAgICAgdGhpcy5fbGlnaHRtYXBJbmZvcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIGlmIChlbmJsZSkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2Jsb2NrQ291bnRbMF0gKiB0aGlzLl9ibG9ja0NvdW50WzFdOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2xpZ2h0bWFwSW5mb3MucHVzaChuZXcgVGVycmFpbkJsb2NrTGlnaHRtYXBJbmZvKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfdXBkYXRlTGlnaHRtYXAgKGJsb2NrSWQ6IG51bWJlciwgdGV4OiBUZXh0dXJlMkR8bnVsbCwgdU9mZjogbnVtYmVyLCB2T2ZmOiBudW1iZXIsIHVTY2FsZTogbnVtYmVyLCB2U2NhbGU6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX2xpZ2h0bWFwSW5mb3NbYmxvY2tJZF0udGV4dHVyZSA9IHRleDtcclxuICAgICAgICB0aGlzLl9saWdodG1hcEluZm9zW2Jsb2NrSWRdLlVPZmYgPSB1T2ZmO1xyXG4gICAgICAgIHRoaXMuX2xpZ2h0bWFwSW5mb3NbYmxvY2tJZF0uVk9mZiA9IHZPZmY7XHJcbiAgICAgICAgdGhpcy5fbGlnaHRtYXBJbmZvc1tibG9ja0lkXS5VU2NhbGUgPSB1U2NhbGU7XHJcbiAgICAgICAgdGhpcy5fbGlnaHRtYXBJbmZvc1tibG9ja0lkXS5WU2NhbGUgPSB2U2NhbGU7XHJcbiAgICAgICAgdGhpcy5fYmxvY2tzW2Jsb2NrSWRdLl91cGRhdGVMaWdodG1hcCh0aGlzLl9saWdodG1hcEluZm9zW2Jsb2NrSWRdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX2dldExpZ2h0bWFwSW5mbyAoaTogbnVtYmVyLCBqOiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IGogKiB0aGlzLl9ibG9ja0NvdW50WzBdICsgaTtcclxuICAgICAgICByZXR1cm4gaW5kZXggPCB0aGlzLl9saWdodG1hcEluZm9zLmxlbmd0aCA/IHRoaXMuX2xpZ2h0bWFwSW5mb3NbaW5kZXhdIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX2NhbGNOb3JtYWwgKHg6IG51bWJlciwgejogbnVtYmVyKSB7XHJcbiAgICAgICAgbGV0IGZsaXAgPSAxO1xyXG4gICAgICAgIGNvbnN0IGhlcmUgPSB0aGlzLmdldFBvc2l0aW9uKHgsIHopO1xyXG4gICAgICAgIGxldCByaWdodDogVmVjMztcclxuICAgICAgICBsZXQgdXA6IFZlYzM7XHJcblxyXG4gICAgICAgIGlmICh4IDwgdGhpcy52ZXJ0ZXhDb3VudFswXSAtIDEpIHtcclxuICAgICAgICAgICAgcmlnaHQgPSB0aGlzLmdldFBvc2l0aW9uKHggKyAxLCB6KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZsaXAgKj0gLTE7XHJcbiAgICAgICAgICAgIHJpZ2h0ID0gdGhpcy5nZXRQb3NpdGlvbih4IC0gMSwgeik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoeiA8IHRoaXMudmVydGV4Q291bnRbMV0gLSAxKSB7XHJcbiAgICAgICAgICAgIHVwID0gdGhpcy5nZXRQb3NpdGlvbih4LCB6ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBmbGlwICo9IC0xO1xyXG4gICAgICAgICAgICB1cCA9IHRoaXMuZ2V0UG9zaXRpb24oeCwgeiAtIDEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmlnaHQuc3VidHJhY3QoaGVyZSk7XHJcbiAgICAgICAgdXAuc3VidHJhY3QoaGVyZSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vcm1hbCA9IG5ldyBWZWMzKCk7XHJcbiAgICAgICAgbm9ybWFsLnNldCh1cCk7XHJcbiAgICAgICAgbm9ybWFsLmNyb3NzKHJpZ2h0KTtcclxuICAgICAgICBub3JtYWwubXVsdGlwbHlTY2FsYXIoZmxpcCk7XHJcbiAgICAgICAgbm9ybWFsLm5vcm1hbGl6ZSgpO1xyXG5cclxuICAgICAgICByZXR1cm4gbm9ybWFsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfYnVpbGROb3JtYWxzICgpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSAwO1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDwgdGhpcy52ZXJ0ZXhDb3VudFsxXTsgKyt5KSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDwgdGhpcy52ZXJ0ZXhDb3VudFswXTsgKyt4KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdGhpcy5fY2FsY05vcm1hbCh4LCB5KTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ub3JtYWxzW2luZGV4ICogMyArIDBdID0gbi54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbm9ybWFsc1tpbmRleCAqIDMgKyAxXSA9IG4ueTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX25vcm1hbHNbaW5kZXggKiAzICsgMl0gPSBuLno7XHJcbiAgICAgICAgICAgICAgICBpbmRleCArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX2J1aWxkSW1wIChyZXN0b3JlOiBib29sZWFuID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAodGhpcy52YWxpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghcmVzdG9yZSAmJiB0aGlzLl9fYXNzZXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl90aWxlU2l6ZSA9IHRoaXMuX19hc3NldC50aWxlU2l6ZTtcclxuICAgICAgICAgICAgdGhpcy5fYmxvY2tDb3VudCA9IHRoaXMuX19hc3NldC5ibG9ja0NvdW50O1xyXG4gICAgICAgICAgICB0aGlzLl93ZWlnaHRNYXBTaXplID0gdGhpcy5fX2Fzc2V0LndlaWdodE1hcFNpemU7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpZ2h0TWFwU2l6ZSA9IHRoaXMuX19hc3NldC5saWdodE1hcFNpemU7XHJcbiAgICAgICAgICAgIHRoaXMuX2hlaWdodHMgPSB0aGlzLl9fYXNzZXQuaGVpZ2h0cztcclxuICAgICAgICAgICAgdGhpcy5fd2VpZ2h0cyA9IHRoaXMuX19hc3NldC53ZWlnaHRzO1xyXG5cclxuICAgICAgICAgICAgLy8gYnVpbGQgbGF5ZXJzXHJcbiAgICAgICAgICAgIGxldCBpbml0aWFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9sYXllcnMubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXllcnNbaV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGluaXRpYWwgJiYgdGhpcy5fYXNzZXQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIHRoaXMuX2Fzc2V0LmxheWVySW5mb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXllciA9IG5ldyBUZXJyYWluTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXllci50aWxlU2l6ZSA9IGkudGlsZVNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2MubG9hZGVyLmxvYWRSZXMoaS5kZXRhaWxNYXAsIFRleHR1cmUyRCwgKGVyciwgYXNzZXQpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuZGV0YWlsTWFwID0gYXNzZXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xheWVyc1tpLnNsb3RdID0gbGF5ZXI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9ibG9ja0NvdW50WzBdID09PSAwIHx8IHRoaXMuX2Jsb2NrQ291bnRbMV0gPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYnVpbGQgaGVpZ2h0cyAmIG5vcm1hbHNcclxuICAgICAgICBjb25zdCB2ZXJ0ZXhDb3VudCA9IHRoaXMudmVydGV4Q291bnRbMF0gKiB0aGlzLnZlcnRleENvdW50WzFdO1xyXG4gICAgICAgIGlmICh0aGlzLl9oZWlnaHRzID09PSBudWxsIHx8IHRoaXMuX2hlaWdodHMubGVuZ3RoICE9PSB2ZXJ0ZXhDb3VudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9oZWlnaHRzID0gbmV3IFVpbnQxNkFycmF5KHZlcnRleENvdW50KTtcclxuICAgICAgICAgICAgdGhpcy5fbm9ybWFscyA9IG5ldyBBcnJheTxudW1iZXI+KHZlcnRleENvdW50ICogMyk7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZlcnRleENvdW50OyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2hlaWdodHNbaV0gPSBURVJSQUlOX0hFSUdIVF9CQVNFO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fbm9ybWFsc1tpICogMyArIDBdID0gMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX25vcm1hbHNbaSAqIDMgKyAxXSA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ub3JtYWxzW2kgKiAzICsgMl0gPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxzID0gbmV3IEFycmF5PG51bWJlcj4odmVydGV4Q291bnQgKiAzKTtcclxuICAgICAgICAgICAgdGhpcy5fYnVpbGROb3JtYWxzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBidWlsZCB3ZWlnaHRzXHJcbiAgICAgICAgY29uc3Qgd2VpZ2h0TWFwQ29tcGxleGl0eVUgPSB0aGlzLl93ZWlnaHRNYXBTaXplICogdGhpcy5fYmxvY2tDb3VudFswXTtcclxuICAgICAgICBjb25zdCB3ZWlnaHRNYXBDb21wbGV4aXR5ViA9IHRoaXMuX3dlaWdodE1hcFNpemUgKiB0aGlzLl9ibG9ja0NvdW50WzFdO1xyXG4gICAgICAgIGlmICh0aGlzLl93ZWlnaHRzLmxlbmd0aCAhPT0gd2VpZ2h0TWFwQ29tcGxleGl0eVUgKiB3ZWlnaHRNYXBDb21wbGV4aXR5ViAqIDQpIHtcclxuICAgICAgICAgICAgdGhpcy5fd2VpZ2h0cyA9IG5ldyBVaW50OEFycmF5KHdlaWdodE1hcENvbXBsZXhpdHlVICogd2VpZ2h0TWFwQ29tcGxleGl0eVYgKiA0KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3ZWlnaHRNYXBDb21wbGV4aXR5VSAqIHdlaWdodE1hcENvbXBsZXhpdHlWOyArK2kpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dlaWdodHNbaSAqIDQgKyAwXSA9IDI1NTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3dlaWdodHNbaSAqIDQgKyAxXSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl93ZWlnaHRzW2kgKiA0ICsgMl0gPSAwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fd2VpZ2h0c1tpICogNCArIDNdID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gYnVpbGQgYmxvY2tzXHJcbiAgICAgICAgaWYgKHRoaXMuX2Jsb2NrSW5mb3MubGVuZ3RoICE9PSB0aGlzLl9ibG9ja0NvdW50WzBdICogdGhpcy5fYmxvY2tDb3VudFsxXSkge1xyXG4gICAgICAgICAgICB0aGlzLl9ibG9ja0luZm9zID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fYmxvY2tDb3VudFsxXTsgKytqKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2Jsb2NrQ291bnRbMF07ICsraSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZm8gPSBuZXcgVGVycmFpbkJsb2NrSW5mbygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hc3NldCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ubGF5ZXJzWzBdID0gdGhpcy5fYXNzZXQuZ2V0TGF5ZXIoaSwgaiwgMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxheWVyc1sxXSA9IHRoaXMuX2Fzc2V0LmdldExheWVyKGksIGosIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5sYXllcnNbMV0gPT09IGluZm8ubGF5ZXJzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxheWVyc1sxXSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxheWVyc1syXSA9IHRoaXMuX2Fzc2V0LmdldExheWVyKGksIGosIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5sYXllcnNbMl0gPT09IGluZm8ubGF5ZXJzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxheWVyc1syXSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxheWVyc1szXSA9IHRoaXMuX2Fzc2V0LmdldExheWVyKGksIGosIDMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mby5sYXllcnNbM10gPT09IGluZm8ubGF5ZXJzWzBdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmZvLmxheWVyc1szXSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja0luZm9zLnB1c2goaW5mbyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5fYmxvY2tDb3VudFsxXTsgKytqKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fYmxvY2tDb3VudFswXTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9ibG9ja3MucHVzaChuZXcgVGVycmFpbkJsb2NrKHRoaXMsIGksIGopKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHRoaXMuX2Jsb2Nrcykge1xyXG4gICAgICAgICAgICBpLmJ1aWxkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgX3JlYnVpbGRIZWlnaHRzIChpbmZvOiBUZXJyYWluSW5mbykge1xyXG4gICAgICAgIGlmICh0aGlzLnZlcnRleENvdW50WzBdID09PSBpbmZvLnZlcnRleENvdW50WzBdICYmXHJcbiAgICAgICAgICAgIHRoaXMudmVydGV4Q291bnRbMV0gPT09IGluZm8udmVydGV4Q291bnRbMV0pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaGVpZ2h0cyA9IG5ldyBVaW50MTZBcnJheShpbmZvLnZlcnRleENvdW50WzBdICogaW5mby52ZXJ0ZXhDb3VudFsxXSk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWlnaHRzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIGhlaWdodHNbaV0gPSBURVJSQUlOX0hFSUdIVF9CQVNFO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdyA9IE1hdGgubWluKHRoaXMudmVydGV4Q291bnRbMF0sIGluZm8udmVydGV4Q291bnRbMF0pO1xyXG4gICAgICAgIGNvbnN0IGggPSBNYXRoLm1pbih0aGlzLnZlcnRleENvdW50WzFdLCBpbmZvLnZlcnRleENvdW50WzFdKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBoOyArK2opIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3OyArK2kpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4MCA9IGogKiBpbmZvLnZlcnRleENvdW50WzBdICsgaTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4MSA9IGogKiB0aGlzLnZlcnRleENvdW50WzBdICsgaTtcclxuXHJcbiAgICAgICAgICAgICAgICBoZWlnaHRzW2luZGV4MF0gPSB0aGlzLl9oZWlnaHRzW2luZGV4MV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2hlaWdodHMgPSBoZWlnaHRzO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIF9yZWJ1aWxkV2VpZ2h0cyAoaW5mbzogVGVycmFpbkluZm8pIHtcclxuICAgICAgICBjb25zdCBvbGRXZWlnaHRNYXBTaXplID0gdGhpcy5fd2VpZ2h0TWFwU2l6ZTtcclxuICAgICAgICBjb25zdCBvbGRXZWlnaHRNYXBDb21wbGV4aXR5VSA9IHRoaXMuX3dlaWdodE1hcFNpemUgKiB0aGlzLl9ibG9ja0NvdW50WzBdO1xyXG4gICAgICAgIGNvbnN0IG9sZFdlaWdodE1hcENvbXBsZXhpdHlWID0gdGhpcy5fd2VpZ2h0TWFwU2l6ZSAqIHRoaXMuX2Jsb2NrQ291bnRbMV07XHJcblxyXG4gICAgICAgIGNvbnN0IHdlaWdodE1hcENvbXBsZXhpdHlVID0gaW5mby53ZWlnaHRNYXBTaXplICogaW5mby5ibG9ja0NvdW50WzBdO1xyXG4gICAgICAgIGNvbnN0IHdlaWdodE1hcENvbXBsZXhpdHlWID0gaW5mby53ZWlnaHRNYXBTaXplICogaW5mby5ibG9ja0NvdW50WzFdO1xyXG5cclxuICAgICAgICBpZiAod2VpZ2h0TWFwQ29tcGxleGl0eVUgPT09IG9sZFdlaWdodE1hcENvbXBsZXhpdHlVICYmXHJcbiAgICAgICAgICAgIHdlaWdodE1hcENvbXBsZXhpdHlWID09PSBvbGRXZWlnaHRNYXBDb21wbGV4aXR5Vikge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB3ZWlnaHRzID0gbmV3IFVpbnQ4QXJyYXkod2VpZ2h0TWFwQ29tcGxleGl0eVUgKiB3ZWlnaHRNYXBDb21wbGV4aXR5ViAqIDQpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdlaWdodE1hcENvbXBsZXhpdHlVICogd2VpZ2h0TWFwQ29tcGxleGl0eVY7ICsraSkge1xyXG4gICAgICAgICAgICB3ZWlnaHRzW2kgKiA0ICsgMF0gPSAyNTU7XHJcbiAgICAgICAgICAgIHdlaWdodHNbaSAqIDQgKyAxXSA9IDA7XHJcbiAgICAgICAgICAgIHdlaWdodHNbaSAqIDQgKyAyXSA9IDA7XHJcbiAgICAgICAgICAgIHdlaWdodHNbaSAqIDQgKyAzXSA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB3ID0gTWF0aC5taW4oaW5mby5ibG9ja0NvdW50WzBdLCB0aGlzLl9ibG9ja0NvdW50WzBdKTtcclxuICAgICAgICBjb25zdCBoID0gTWF0aC5taW4oaW5mby5ibG9ja0NvdW50WzFdLCB0aGlzLl9ibG9ja0NvdW50WzFdKTtcclxuXHJcbiAgICAgICAgLy8gZ2V0IHdlaWdodFxyXG4gICAgICAgIGNvbnN0IGdldE9sZFdlaWdodCA9IChfaTogbnVtYmVyLCBfajogbnVtYmVyLCBfd2VpZ2h0czogVWludDhBcnJheSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IF9qICogb2xkV2VpZ2h0TWFwQ29tcGxleGl0eVUgICsgX2k7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB3ZWlnaHQgPSBuZXcgVmVjNCgpO1xyXG4gICAgICAgICAgICB3ZWlnaHQueCA9IF93ZWlnaHRzW2luZGV4ICogNCArIDBdIC8gMjU1LjA7XHJcbiAgICAgICAgICAgIHdlaWdodC55ID0gX3dlaWdodHNbaW5kZXggKiA0ICsgMV0gLyAyNTUuMDtcclxuICAgICAgICAgICAgd2VpZ2h0LnogPSBfd2VpZ2h0c1tpbmRleCAqIDQgKyAyXSAvIDI1NS4wO1xyXG4gICAgICAgICAgICB3ZWlnaHQudyA9IF93ZWlnaHRzW2luZGV4ICogNCArIDNdIC8gMjU1LjA7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gd2VpZ2h0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNhbXBsZSB3ZWlnaHRcclxuICAgICAgICBjb25zdCBzYW1wbGVPbGRXZWlnaHQgPSAoX3g6IG51bWJlciwgX3k6IG51bWJlciwgX3hPZmY6IG51bWJlciwgX3lPZmY6IG51bWJlciwgX3dlaWdodHM6IFVpbnQ4QXJyYXkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXgwID0gTWF0aC5mbG9vcihfeCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGl6MCA9IE1hdGguZmxvb3IoX3kpO1xyXG4gICAgICAgICAgICBjb25zdCBpeDEgPSBpeDAgKyAxO1xyXG4gICAgICAgICAgICBjb25zdCBpejEgPSBpejAgKyAxO1xyXG4gICAgICAgICAgICBjb25zdCBkeCA9IF94IC0gaXgwO1xyXG4gICAgICAgICAgICBjb25zdCBkeiA9IF95IC0gaXowO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYSA9IGdldE9sZFdlaWdodChpeDAgKyBfeE9mZiwgaXowICsgX3lPZmYsIHRoaXMuX3dlaWdodHMpO1xyXG4gICAgICAgICAgICBjb25zdCBiID0gZ2V0T2xkV2VpZ2h0KGl4MSArIF94T2ZmLCBpejAgKyBfeU9mZiwgdGhpcy5fd2VpZ2h0cyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGMgPSBnZXRPbGRXZWlnaHQoaXgwICsgX3hPZmYsIGl6MSArIF95T2ZmLCB0aGlzLl93ZWlnaHRzKTtcclxuICAgICAgICAgICAgY29uc3QgZCA9IGdldE9sZFdlaWdodChpeDEgKyBfeE9mZiwgaXoxICsgX3lPZmYsIHRoaXMuX3dlaWdodHMpO1xyXG4gICAgICAgICAgICBjb25zdCBtID0gbmV3IFZlYzQoKTtcclxuICAgICAgICAgICAgVmVjNC5hZGQobSwgYiwgYykubXVsdGlwbHlTY2FsYXIoMC41KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkeCArIGR6IDw9IDEuMCkge1xyXG4gICAgICAgICAgICAgICAgZC5zZXQobSk7XHJcbiAgICAgICAgICAgICAgICBkLnN1YnRyYWN0KGEpO1xyXG4gICAgICAgICAgICAgICAgZC5hZGQobSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhLnNldChtKTtcclxuICAgICAgICAgICAgICAgIGEuc3VidHJhY3QoZCk7XHJcbiAgICAgICAgICAgICAgICBhLmFkZChtKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgbjEgPSBuZXcgVmVjNCgpO1xyXG4gICAgICAgICAgICBjb25zdCBuMiA9IG5ldyBWZWM0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgVmVjNCgpO1xyXG4gICAgICAgICAgICBWZWM0LmxlcnAobjEsIGEsIGIsIGR4KTtcclxuICAgICAgICAgICAgVmVjNC5sZXJwKG4yLCBjLCBkLCBkeCk7XHJcbiAgICAgICAgICAgIFZlYzQubGVycChuLCBuMSwgbjIsIGR6KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGZpbGwgbmV3IHdlaWdodHNcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGg7ICsraikge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHc7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdU9mZiA9IGkgKiBvbGRXZWlnaHRNYXBTaXplO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgdk9mZiA9IGogKiBvbGRXZWlnaHRNYXBTaXplO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IHYgPSAwOyB2IDwgaW5mby53ZWlnaHRNYXBTaXplOyArK3YpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB1ID0gMDsgdSA8IGluZm8ud2VpZ2h0TWFwU2l6ZTsgKyt1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTogbm8tc2hhZG93ZWQtdmFyaWFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHc6IFZlYzQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvLndlaWdodE1hcFNpemUgPT09IG9sZFdlaWdodE1hcFNpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBnZXRPbGRXZWlnaHQodSArIHVPZmYsIHYgKyB2T2ZmLCB0aGlzLl93ZWlnaHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSB1IC8gKGluZm8ud2VpZ2h0TWFwU2l6ZSAtIDEpICogKG9sZFdlaWdodE1hcFNpemUgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB2IC8gKGluZm8ud2VpZ2h0TWFwU2l6ZSAtIDEpICogKG9sZFdlaWdodE1hcFNpemUgLSAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHcgPSBzYW1wbGVPbGRXZWlnaHQoeCwgeSwgdU9mZiwgdk9mZiwgdGhpcy5fd2VpZ2h0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR1ID0gaSAqIGluZm8ud2VpZ2h0TWFwU2l6ZSArIHU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGR2ID0gaiAqIGluZm8ud2VpZ2h0TWFwU2l6ZSArIHY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZHYgKiB3ZWlnaHRNYXBDb21wbGV4aXR5VSArIGR1O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0c1tpbmRleCAqIDQgKyAwXSA9IHcueCAqIDI1NTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0c1tpbmRleCAqIDQgKyAxXSA9IHcueSAqIDI1NTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0c1tpbmRleCAqIDQgKyAyXSA9IHcueiAqIDI1NTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2VpZ2h0c1tpbmRleCAqIDQgKyAzXSA9IHcudyAqIDI1NTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX3dlaWdodHMgPSB3ZWlnaHRzO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxufVxyXG4iXX0=