(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../geometry/index.js", "../../gfx/define.js", "../../math/index.js", "../../pipeline/define.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../geometry/index.js"), require("../../gfx/define.js"), require("../../math/index.js"), require("../../pipeline/define.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.index, global.define, global.index, global.define);
    global.camera = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _index, _define, _index2, _define2) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.Camera = _exports.SKYBOX_FLAG = _exports.CameraShutter = _exports.CameraISO = _exports.CameraAperture = _exports.CameraProjection = _exports.CameraFOVAxis = void 0;

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  var CameraFOVAxis;
  _exports.CameraFOVAxis = CameraFOVAxis;

  (function (CameraFOVAxis) {
    CameraFOVAxis[CameraFOVAxis["VERTICAL"] = 0] = "VERTICAL";
    CameraFOVAxis[CameraFOVAxis["HORIZONTAL"] = 1] = "HORIZONTAL";
  })(CameraFOVAxis || (_exports.CameraFOVAxis = CameraFOVAxis = {}));

  var CameraProjection;
  _exports.CameraProjection = CameraProjection;

  (function (CameraProjection) {
    CameraProjection[CameraProjection["ORTHO"] = 0] = "ORTHO";
    CameraProjection[CameraProjection["PERSPECTIVE"] = 1] = "PERSPECTIVE";
  })(CameraProjection || (_exports.CameraProjection = CameraProjection = {}));

  var CameraAperture;
  _exports.CameraAperture = CameraAperture;

  (function (CameraAperture) {
    CameraAperture[CameraAperture["F1_8"] = 0] = "F1_8";
    CameraAperture[CameraAperture["F2_0"] = 1] = "F2_0";
    CameraAperture[CameraAperture["F2_2"] = 2] = "F2_2";
    CameraAperture[CameraAperture["F2_5"] = 3] = "F2_5";
    CameraAperture[CameraAperture["F2_8"] = 4] = "F2_8";
    CameraAperture[CameraAperture["F3_2"] = 5] = "F3_2";
    CameraAperture[CameraAperture["F3_5"] = 6] = "F3_5";
    CameraAperture[CameraAperture["F4_0"] = 7] = "F4_0";
    CameraAperture[CameraAperture["F4_5"] = 8] = "F4_5";
    CameraAperture[CameraAperture["F5_0"] = 9] = "F5_0";
    CameraAperture[CameraAperture["F5_6"] = 10] = "F5_6";
    CameraAperture[CameraAperture["F6_3"] = 11] = "F6_3";
    CameraAperture[CameraAperture["F7_1"] = 12] = "F7_1";
    CameraAperture[CameraAperture["F8_0"] = 13] = "F8_0";
    CameraAperture[CameraAperture["F9_0"] = 14] = "F9_0";
    CameraAperture[CameraAperture["F10_0"] = 15] = "F10_0";
    CameraAperture[CameraAperture["F11_0"] = 16] = "F11_0";
    CameraAperture[CameraAperture["F13_0"] = 17] = "F13_0";
    CameraAperture[CameraAperture["F14_0"] = 18] = "F14_0";
    CameraAperture[CameraAperture["F16_0"] = 19] = "F16_0";
    CameraAperture[CameraAperture["F18_0"] = 20] = "F18_0";
    CameraAperture[CameraAperture["F20_0"] = 21] = "F20_0";
    CameraAperture[CameraAperture["F22_0"] = 22] = "F22_0";
  })(CameraAperture || (_exports.CameraAperture = CameraAperture = {}));

  var CameraISO;
  _exports.CameraISO = CameraISO;

  (function (CameraISO) {
    CameraISO[CameraISO["ISO100"] = 0] = "ISO100";
    CameraISO[CameraISO["ISO200"] = 1] = "ISO200";
    CameraISO[CameraISO["ISO400"] = 2] = "ISO400";
    CameraISO[CameraISO["ISO800"] = 3] = "ISO800";
  })(CameraISO || (_exports.CameraISO = CameraISO = {}));

  var CameraShutter;
  _exports.CameraShutter = CameraShutter;

  (function (CameraShutter) {
    CameraShutter[CameraShutter["D1"] = 0] = "D1";
    CameraShutter[CameraShutter["D2"] = 1] = "D2";
    CameraShutter[CameraShutter["D4"] = 2] = "D4";
    CameraShutter[CameraShutter["D8"] = 3] = "D8";
    CameraShutter[CameraShutter["D15"] = 4] = "D15";
    CameraShutter[CameraShutter["D30"] = 5] = "D30";
    CameraShutter[CameraShutter["D60"] = 6] = "D60";
    CameraShutter[CameraShutter["D125"] = 7] = "D125";
    CameraShutter[CameraShutter["D250"] = 8] = "D250";
    CameraShutter[CameraShutter["D500"] = 9] = "D500";
    CameraShutter[CameraShutter["D1000"] = 10] = "D1000";
    CameraShutter[CameraShutter["D2000"] = 11] = "D2000";
    CameraShutter[CameraShutter["D4000"] = 12] = "D4000";
  })(CameraShutter || (_exports.CameraShutter = CameraShutter = {}));

  var FSTOPS = [1.8, 2.0, 2.2, 2.5, 2.8, 3.2, 3.5, 4.0, 4.5, 5.0, 5.6, 6.3, 7.1, 8.0, 9.0, 10.0, 11.0, 13.0, 14.0, 16.0, 18.0, 20.0, 22.0];
  var SHUTTERS = [1.0, 1.0 / 2.0, 1.0 / 4.0, 1.0 / 8.0, 1.0 / 15.0, 1.0 / 30.0, 1.0 / 60.0, 1.0 / 125.0, 1.0 / 250.0, 1.0 / 500.0, 1.0 / 1000.0, 1.0 / 2000.0, 1.0 / 4000.0];
  var ISOS = [100.0, 200.0, 400.0, 800.0];
  var v_a = new _index2.Vec3();
  var v_b = new _index2.Vec3();

  var _tempMat1 = new _index2.Mat4();

  var _tempMat2 = new _index2.Mat4();

  var SKYBOX_FLAG = _define.GFXClearFlag.STENCIL << 1;
  _exports.SKYBOX_FLAG = SKYBOX_FLAG;

  var Camera = /*#__PURE__*/function () {
    function Camera() {
      _classCallCheck(this, Camera);

      this.isWindowSize = true;
      this.screenScale = void 0;
      this.viewport = new _index2.Rect(0, 0, 1, 1);
      this.clearStencil = 0;
      this.clearDepth = 1.0;
      this.clearFlag = _define.GFXClearFlag.NONE;
      this._scene = null;
      this._node = null;
      this._name = null;
      this._enabled = false;
      this._proj = -1;
      this._width = void 0;
      this._height = void 0;
      this._aspect = void 0;
      this._orthoHeight = 10.0;
      this._fovAxis = CameraFOVAxis.VERTICAL;
      this._fov = (0, _index2.toRadian)(45);
      this._nearClip = 1.0;
      this._farClip = 1000.0;
      this._clearColor = {
        r: 0.2,
        g: 0.2,
        b: 0.2,
        a: 1
      };
      this._isProjDirty = true;
      this._matView = new _index2.Mat4();
      this._matViewInv = null;
      this._matProj = new _index2.Mat4();
      this._matProjInv = new _index2.Mat4();
      this._matViewProj = new _index2.Mat4();
      this._matViewProjInv = new _index2.Mat4();
      this._frustum = new _index.frustum();
      this._forward = new _index2.Vec3();
      this._position = new _index2.Vec3();
      this._view = null;
      this._visibility = _define2.CAMERA_DEFAULT_MASK;
      this._priority = 0;
      this._aperture = CameraAperture.F16_0;
      this._apertureValue = void 0;
      this._shutter = CameraShutter.D125;
      this._shutterValue = 0.0;
      this._iso = CameraISO.ISO100;
      this._isoValue = 0.0;
      this._ec = 0.0;
      this._exposure = 0.0;
      this._apertureValue = FSTOPS[this._aperture];
      this._shutterValue = SHUTTERS[this._shutter];
      this._isoValue = ISOS[this._iso];
      this.updateExposure();
      this._aspect = this._width = this._height = this.screenScale = 1;
    }

    _createClass(Camera, [{
      key: "initialize",
      value: function initialize(info) {
        this._name = info.name;
        this._node = info.node;
        this._proj = info.projection;
        this._priority = info.priority || 0;
        this._view = cc.director.root.createView({
          camera: this,
          name: this._name,
          priority: this._priority,
          flows: info.flows
        });
        this.changeTargetWindow(info.window);
        console.log('Created Camera: ' + this._name + ' ' + this._width + 'x' + this._height);
      }
    }, {
      key: "destroy",
      value: function destroy() {
        cc.director.root.destroyView(this._view);
        this._view = null;
        this._name = null;
      }
    }, {
      key: "attachToScene",
      value: function attachToScene(scene) {
        this._scene = scene;

        if (this._view) {
          this._view.enable(true);
        }
      }
    }, {
      key: "detachFromScene",
      value: function detachFromScene() {
        this._scene = null;

        if (this._view) {
          this._view.enable(false);
        }
      }
    }, {
      key: "resize",
      value: function resize(width, height) {
        this._width = width;
        this._height = height;
        this._aspect = this._width / this._height;
        this._isProjDirty = true;
      }
    }, {
      key: "setFixedSize",
      value: function setFixedSize(width, height) {
        this._width = width;
        this._height = height;
        this._aspect = this._width / this._height;
        this.isWindowSize = false;
      }
    }, {
      key: "update",
      value: function update() {
        var forceUpdate = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

        // for lazy eval situations like the in-editor preview
        if (this._node) {
          // view matrix
          if (this._node.hasChangedFlags || forceUpdate) {
            _index2.Mat4.invert(this._matView, this._node.worldMatrix);

            this._forward.x = -this._matView.m02;
            this._forward.y = -this._matView.m06;
            this._forward.z = -this._matView.m10;

            this._node.getWorldPosition(this._position);
          } // projection matrix


          if (this._isProjDirty) {
            if (this._proj === CameraProjection.PERSPECTIVE) {
              _index2.Mat4.perspective(this._matProj, this._fov, this._aspect, this._nearClip, this._farClip, this._fovAxis === CameraFOVAxis.VERTICAL);
            } else {
              var x = this._orthoHeight * this._aspect;
              var y = this._orthoHeight;

              _index2.Mat4.ortho(this._matProj, -x, x, -y, y, this._nearClip, this._farClip);
            }

            _index2.Mat4.invert(this._matProjInv, this._matProj);
          } // view-projection


          if (this._node.hasChangedFlags || this._isProjDirty || forceUpdate) {
            _index2.Mat4.multiply(this._matViewProj, this._matProj, this._matView);

            _index2.Mat4.invert(this._matViewProjInv, this._matViewProj);

            this._frustum.update(this._matViewProj, this._matViewProjInv);
          }

          this._isProjDirty = false;
        }
      }
    }, {
      key: "getSplitFrustum",
      value: function getSplitFrustum(out, nearClip, farClip) {
        if (!this._node) {
          return;
        }

        nearClip = Math.max(nearClip, this._nearClip);
        farClip = Math.min(farClip, this._farClip); // view matrix

        _index2.Mat4.invert(this._matView, this._node.worldMatrix); // projection matrix


        if (this._proj === CameraProjection.PERSPECTIVE) {
          _index2.Mat4.perspective(_tempMat1, this._fov, this._aspect, nearClip, farClip, this._fovAxis === CameraFOVAxis.VERTICAL);
        } else {
          var x = this._orthoHeight * this._aspect;
          var y = this._orthoHeight;

          _index2.Mat4.ortho(_tempMat1, -x, x, -y, y, nearClip, farClip);
        } // view-projection


        _index2.Mat4.multiply(_tempMat2, _tempMat1, this._matView);

        _index2.Mat4.invert(_tempMat1, _tempMat2);

        out.update(_tempMat2, _tempMat1);
      }
    }, {
      key: "changeTargetWindow",
      value: function changeTargetWindow() {
        var window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;
        var win = window || cc.director.root.mainWindow;

        if (win && this._view) {
          this._view.window = win;
          this.resize(win.width, win.height);
        }
      }
      /**
       * transform a screen position to a world space ray
       */

    }, {
      key: "screenPointToRay",
      value: function screenPointToRay(out, x, y) {
        var cx = this.viewport.x * this._width;
        var cy = this.viewport.y * this._height;
        var cw = this.viewport.width * this._width;
        var ch = this.viewport.height * this._height; // far plane intersection

        _index2.Vec3.set(v_a, (x - cx) / cw * 2 - 1, (y - cy) / ch * 2 - 1, 1);

        _index2.Vec3.transformMat4(v_a, v_a, this._matViewProjInv);

        if (this._proj === CameraProjection.PERSPECTIVE) {
          // camera origin
          if (this._node) {
            this._node.getWorldPosition(v_b);
          }
        } else {
          // near plane intersection
          _index2.Vec3.set(v_b, (x - cx) / cw * 2 - 1, (y - cy) / ch * 2 - 1, -1);

          _index2.Vec3.transformMat4(v_b, v_b, this._matViewProjInv);
        }

        return _index.ray.fromPoints(out, v_b, v_a);
      }
      /**
       * transform a screen position to world space
       */

    }, {
      key: "screenToWorld",
      value: function screenToWorld(out, screenPos) {
        var cx = this.viewport.x * this._width;
        var cy = this.viewport.y * this._height;
        var cw = this.viewport.width * this._width;
        var ch = this.viewport.height * this._height;

        if (this._proj === CameraProjection.PERSPECTIVE) {
          // calculate screen pos in far clip plane
          _index2.Vec3.set(out, (screenPos.x - cx) / cw * 2 - 1, (screenPos.y - cy) / ch * 2 - 1, 1.0); // transform to world


          _index2.Vec3.transformMat4(out, out, this._matViewProjInv); // lerp to depth z


          if (this._node) {
            this._node.getWorldPosition(v_a);
          }

          _index2.Vec3.lerp(out, v_a, out, (0, _index2.lerp)(this._nearClip / this._farClip, 1, screenPos.z));
        } else {
          _index2.Vec3.set(out, (screenPos.x - cx) / cw * 2 - 1, (screenPos.y - cy) / ch * 2 - 1, screenPos.z * 2 - 1); // transform to world


          _index2.Vec3.transformMat4(out, out, this.matViewProjInv);
        }

        return out;
      }
      /**
       * transform a world space position to screen space
       */

    }, {
      key: "worldToScreen",
      value: function worldToScreen(out, worldPos) {
        var cx = this.viewport.x * this._width;
        var cy = this.viewport.y * this._height;
        var cw = this.viewport.width * this._width;
        var ch = this.viewport.height * this._height;

        _index2.Vec3.transformMat4(out, worldPos, this.matViewProj);

        out.x = cx + (out.x + 1) * 0.5 * cw;
        out.y = cy + (out.y + 1) * 0.5 * ch;
        out.z = out.z * 0.5 + 0.5;
        return out;
      }
    }, {
      key: "updateExposure",
      value: function updateExposure() {
        var ev100 = Math.log2(this._apertureValue * this._apertureValue / this._shutterValue * 100.0 / this._isoValue);
        this._exposure = 0.833333 / Math.pow(2.0, ev100);
      }
    }, {
      key: "node",
      set: function set(val) {
        this._node = val;
      },
      get: function get() {
        return this._node;
      }
    }, {
      key: "enabled",
      set: function set(val) {
        this._enabled = val;

        if (this._view) {
          this._view.enable(val);
        }
      },
      get: function get() {
        return this._enabled;
      }
    }, {
      key: "view",
      get: function get() {
        return this._view;
      }
    }, {
      key: "orthoHeight",
      set: function set(val) {
        this._orthoHeight = val;
        this._isProjDirty = true;
      },
      get: function get() {
        return this._orthoHeight;
      }
    }, {
      key: "projectionType",
      set: function set(val) {
        this._proj = val;
        this._isProjDirty = true;
      },
      get: function get() {
        return this._proj;
      }
    }, {
      key: "fovAxis",
      set: function set(axis) {
        this._fovAxis = axis;
        this._isProjDirty = true;
      },
      get: function get() {
        return this._fovAxis;
      }
    }, {
      key: "fov",
      set: function set(fov) {
        this._fov = fov;
        this._isProjDirty = true;
      },
      get: function get() {
        return this._fov;
      }
    }, {
      key: "nearClip",
      set: function set(nearClip) {
        this._nearClip = nearClip;
        this._isProjDirty = true;
      },
      get: function get() {
        return this._nearClip;
      }
    }, {
      key: "farClip",
      set: function set(farClip) {
        this._farClip = farClip;
        this._isProjDirty = true;
      },
      get: function get() {
        return this._farClip;
      }
    }, {
      key: "clearColor",
      set: function set(val) {
        this._clearColor.r = val.r;
        this._clearColor.g = val.g;
        this._clearColor.b = val.b;
        this._clearColor.a = val.a;
      },
      get: function get() {
        return this._clearColor;
      }
    }, {
      key: "scene",
      get: function get() {
        return this._scene;
      }
    }, {
      key: "name",
      get: function get() {
        return this._name;
      }
    }, {
      key: "width",
      get: function get() {
        return this._width;
      }
    }, {
      key: "height",
      get: function get() {
        return this._height;
      }
    }, {
      key: "aspect",
      get: function get() {
        return this._aspect;
      }
    }, {
      key: "matView",
      set: function set(val) {
        this._matView = val;
      },
      get: function get() {
        return this._matView;
      }
    }, {
      key: "matViewInv",
      set: function set(val) {
        this._matViewInv = val;
      },
      get: function get() {
        return this._matViewInv || this._node.worldMatrix;
      }
    }, {
      key: "matProj",
      set: function set(val) {
        this._matProj = val;
      },
      get: function get() {
        return this._matProj;
      }
    }, {
      key: "matProjInv",
      set: function set(val) {
        this._matProjInv = val;
      },
      get: function get() {
        return this._matProjInv;
      }
    }, {
      key: "matViewProj",
      set: function set(val) {
        this._matViewProj = val;
      },
      get: function get() {
        return this._matViewProj;
      }
    }, {
      key: "matViewProjInv",
      set: function set(val) {
        this._matViewProjInv = val;
      },
      get: function get() {
        return this._matViewProjInv;
      }
    }, {
      key: "frustum",
      set: function set(val) {
        this._frustum = val;
      },
      get: function get() {
        return this._frustum;
      }
    }, {
      key: "forward",
      set: function set(val) {
        this._forward = val;
      },
      get: function get() {
        return this._forward;
      }
    }, {
      key: "position",
      set: function set(val) {
        this._position = val;
      },
      get: function get() {
        return this._position;
      }
    }, {
      key: "visibility",
      set: function set(vis) {
        this._visibility = vis;

        if (this._view) {
          this._view.visibility = vis;
        }
      },
      get: function get() {
        return this._visibility;
      }
    }, {
      key: "priority",
      get: function get() {
        return this._view ? this._view.priority : -1;
      },
      set: function set(val) {
        this._priority = val;

        if (this._view) {
          this._view.priority = this._priority;
        }
      }
    }, {
      key: "aperture",
      set: function set(val) {
        this._aperture = val;
        this._apertureValue = FSTOPS[this._aperture];
        this.updateExposure();
      },
      get: function get() {
        return this._aperture;
      }
    }, {
      key: "apertureValue",
      get: function get() {
        return this._apertureValue;
      }
    }, {
      key: "shutter",
      set: function set(val) {
        this._shutter = val;
        this._shutterValue = SHUTTERS[this._shutter];
        this.updateExposure();
      },
      get: function get() {
        return this._shutter;
      }
    }, {
      key: "shutterValue",
      get: function get() {
        return this._shutterValue;
      }
    }, {
      key: "iso",
      set: function set(val) {
        this._iso = val;
        this._isoValue = ISOS[this._iso];
        this.updateExposure();
      },
      get: function get() {
        return this._iso;
      }
    }, {
      key: "isoValue",
      get: function get() {
        return this._isoValue;
      }
    }, {
      key: "ec",
      set: function set(val) {
        this._ec = val;
      },
      get: function get() {
        return this._ec;
      }
    }, {
      key: "exposure",
      get: function get() {
        return this._exposure;
      }
    }, {
      key: "flows",
      set: function set(val) {
        if (this._view) {
          this._view.setExecuteFlows(val);
        }
      }
    }]);

    return Camera;
  }();

  _exports.Camera = Camera;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvY29yZS9yZW5kZXJlci9zY2VuZS9jYW1lcmEudHMiXSwibmFtZXMiOlsiQ2FtZXJhRk9WQXhpcyIsIkNhbWVyYVByb2plY3Rpb24iLCJDYW1lcmFBcGVydHVyZSIsIkNhbWVyYUlTTyIsIkNhbWVyYVNodXR0ZXIiLCJGU1RPUFMiLCJTSFVUVEVSUyIsIklTT1MiLCJ2X2EiLCJWZWMzIiwidl9iIiwiX3RlbXBNYXQxIiwiTWF0NCIsIl90ZW1wTWF0MiIsIlNLWUJPWF9GTEFHIiwiR0ZYQ2xlYXJGbGFnIiwiU1RFTkNJTCIsIkNhbWVyYSIsImlzV2luZG93U2l6ZSIsInNjcmVlblNjYWxlIiwidmlld3BvcnQiLCJSZWN0IiwiY2xlYXJTdGVuY2lsIiwiY2xlYXJEZXB0aCIsImNsZWFyRmxhZyIsIk5PTkUiLCJfc2NlbmUiLCJfbm9kZSIsIl9uYW1lIiwiX2VuYWJsZWQiLCJfcHJvaiIsIl93aWR0aCIsIl9oZWlnaHQiLCJfYXNwZWN0IiwiX29ydGhvSGVpZ2h0IiwiX2ZvdkF4aXMiLCJWRVJUSUNBTCIsIl9mb3YiLCJfbmVhckNsaXAiLCJfZmFyQ2xpcCIsIl9jbGVhckNvbG9yIiwiciIsImciLCJiIiwiYSIsIl9pc1Byb2pEaXJ0eSIsIl9tYXRWaWV3IiwiX21hdFZpZXdJbnYiLCJfbWF0UHJvaiIsIl9tYXRQcm9qSW52IiwiX21hdFZpZXdQcm9qIiwiX21hdFZpZXdQcm9qSW52IiwiX2ZydXN0dW0iLCJmcnVzdHVtIiwiX2ZvcndhcmQiLCJfcG9zaXRpb24iLCJfdmlldyIsIl92aXNpYmlsaXR5IiwiQ0FNRVJBX0RFRkFVTFRfTUFTSyIsIl9wcmlvcml0eSIsIl9hcGVydHVyZSIsIkYxNl8wIiwiX2FwZXJ0dXJlVmFsdWUiLCJfc2h1dHRlciIsIkQxMjUiLCJfc2h1dHRlclZhbHVlIiwiX2lzbyIsIklTTzEwMCIsIl9pc29WYWx1ZSIsIl9lYyIsIl9leHBvc3VyZSIsInVwZGF0ZUV4cG9zdXJlIiwiaW5mbyIsIm5hbWUiLCJub2RlIiwicHJvamVjdGlvbiIsInByaW9yaXR5IiwiY2MiLCJkaXJlY3RvciIsInJvb3QiLCJjcmVhdGVWaWV3IiwiY2FtZXJhIiwiZmxvd3MiLCJjaGFuZ2VUYXJnZXRXaW5kb3ciLCJ3aW5kb3ciLCJjb25zb2xlIiwibG9nIiwiZGVzdHJveVZpZXciLCJzY2VuZSIsImVuYWJsZSIsIndpZHRoIiwiaGVpZ2h0IiwiZm9yY2VVcGRhdGUiLCJoYXNDaGFuZ2VkRmxhZ3MiLCJpbnZlcnQiLCJ3b3JsZE1hdHJpeCIsIngiLCJtMDIiLCJ5IiwibTA2IiwieiIsIm0xMCIsImdldFdvcmxkUG9zaXRpb24iLCJQRVJTUEVDVElWRSIsInBlcnNwZWN0aXZlIiwib3J0aG8iLCJtdWx0aXBseSIsInVwZGF0ZSIsIm91dCIsIm5lYXJDbGlwIiwiZmFyQ2xpcCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJ3aW4iLCJtYWluV2luZG93IiwicmVzaXplIiwiY3giLCJjeSIsImN3IiwiY2giLCJzZXQiLCJ0cmFuc2Zvcm1NYXQ0IiwicmF5IiwiZnJvbVBvaW50cyIsInNjcmVlblBvcyIsImxlcnAiLCJtYXRWaWV3UHJvakludiIsIndvcmxkUG9zIiwibWF0Vmlld1Byb2oiLCJldjEwMCIsImxvZzIiLCJwb3ciLCJ2YWwiLCJheGlzIiwiZm92IiwidmlzIiwidmlzaWJpbGl0eSIsInNldEV4ZWN1dGVGbG93cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7TUFTWUEsYTs7O2FBQUFBLGE7QUFBQUEsSUFBQUEsYSxDQUFBQSxhO0FBQUFBLElBQUFBLGEsQ0FBQUEsYTtLQUFBQSxhLDhCQUFBQSxhOztNQUtBQyxnQjs7O2FBQUFBLGdCO0FBQUFBLElBQUFBLGdCLENBQUFBLGdCO0FBQUFBLElBQUFBLGdCLENBQUFBLGdCO0tBQUFBLGdCLGlDQUFBQSxnQjs7TUFLQUMsYzs7O2FBQUFBLGM7QUFBQUEsSUFBQUEsYyxDQUFBQSxjO0FBQUFBLElBQUFBLGMsQ0FBQUEsYztBQUFBQSxJQUFBQSxjLENBQUFBLGM7QUFBQUEsSUFBQUEsYyxDQUFBQSxjO0FBQUFBLElBQUFBLGMsQ0FBQUEsYztBQUFBQSxJQUFBQSxjLENBQUFBLGM7QUFBQUEsSUFBQUEsYyxDQUFBQSxjO0FBQUFBLElBQUFBLGMsQ0FBQUEsYztBQUFBQSxJQUFBQSxjLENBQUFBLGM7QUFBQUEsSUFBQUEsYyxDQUFBQSxjO0FBQUFBLElBQUFBLGMsQ0FBQUEsYztBQUFBQSxJQUFBQSxjLENBQUFBLGM7QUFBQUEsSUFBQUEsYyxDQUFBQSxjO0FBQUFBLElBQUFBLGMsQ0FBQUEsYztBQUFBQSxJQUFBQSxjLENBQUFBLGM7QUFBQUEsSUFBQUEsYyxDQUFBQSxjO0FBQUFBLElBQUFBLGMsQ0FBQUEsYztBQUFBQSxJQUFBQSxjLENBQUFBLGM7QUFBQUEsSUFBQUEsYyxDQUFBQSxjO0FBQUFBLElBQUFBLGMsQ0FBQUEsYztBQUFBQSxJQUFBQSxjLENBQUFBLGM7QUFBQUEsSUFBQUEsYyxDQUFBQSxjO0FBQUFBLElBQUFBLGMsQ0FBQUEsYztLQUFBQSxjLCtCQUFBQSxjOztNQTBCQUMsUzs7O2FBQUFBLFM7QUFBQUEsSUFBQUEsUyxDQUFBQSxTO0FBQUFBLElBQUFBLFMsQ0FBQUEsUztBQUFBQSxJQUFBQSxTLENBQUFBLFM7QUFBQUEsSUFBQUEsUyxDQUFBQSxTO0tBQUFBLFMsMEJBQUFBLFM7O01BT0FDLGE7OzthQUFBQSxhO0FBQUFBLElBQUFBLGEsQ0FBQUEsYTtBQUFBQSxJQUFBQSxhLENBQUFBLGE7QUFBQUEsSUFBQUEsYSxDQUFBQSxhO0FBQUFBLElBQUFBLGEsQ0FBQUEsYTtBQUFBQSxJQUFBQSxhLENBQUFBLGE7QUFBQUEsSUFBQUEsYSxDQUFBQSxhO0FBQUFBLElBQUFBLGEsQ0FBQUEsYTtBQUFBQSxJQUFBQSxhLENBQUFBLGE7QUFBQUEsSUFBQUEsYSxDQUFBQSxhO0FBQUFBLElBQUFBLGEsQ0FBQUEsYTtBQUFBQSxJQUFBQSxhLENBQUFBLGE7QUFBQUEs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Q0gsTzswQkFFNkI7QUFDMUIsZUFBTyxLQUFLUixRQUFaO0FBQ0g7OzswQkFFMkI7QUFDeEIsZUFBTyxLQUFLRSxhQUFaO0FBQ0g7Ozt3QkFFUW9FLEcsRUFBZ0I7QUFDckIsYUFBS25FLElBQUwsR0FBWW1FLEdBQVo7QUFDQSxhQUFLakUsU0FBTCxHQUFpQjdELElBQUksQ0FBQyxLQUFLMkQsSUFBTixDQUFyQjtBQUNBLGFBQUtLLGNBQUw7QUFDSCxPOzBCQUVxQjtBQUNsQixlQUFPLEtBQUtMLElBQVo7QUFDSDs7OzBCQUV1QjtBQUNwQixlQUFPLEtBQUtFLFNBQVo7QUFDSDs7O3dCQUVPaUUsRyxFQUFhO0FBQ2pCLGFBQUtoRSxHQUFMLEdBQVdnRSxHQUFYO0FBQ0gsTzswQkFFaUI7QUFDZCxlQUFPLEtBQUtoRSxHQUFaO0FBQ0g7OzswQkFFdUI7QUFDcEIsZUFBTyxLQUFLQyxTQUFaO0FBQ0g7Ozt3QkFFVStELEcsRUFBZTtBQUN0QixZQUFJLEtBQUs3RSxLQUFULEVBQWdCO0FBQ1osZUFBS0EsS0FBTCxDQUFXa0YsZUFBWCxDQUEyQkwsR0FBM0I7QUFDSDtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJ1c3R1bSwgcmF5IH0gZnJvbSAnLi4vLi4vZ2VvbWV0cnknO1xyXG5pbXBvcnQgeyBHRlhDbGVhckZsYWcsIElHRlhDb2xvciB9IGZyb20gJy4uLy4uL2dmeC9kZWZpbmUnO1xyXG5pbXBvcnQgeyBHRlhXaW5kb3cgfSBmcm9tICcuLi8uLi9nZngvd2luZG93JztcclxuaW1wb3J0IHsgbGVycCwgTWF0NCwgUmVjdCwgdG9SYWRpYW4sIFZlYzMgfSBmcm9tICcuLi8uLi9tYXRoJztcclxuaW1wb3J0IHsgQ0FNRVJBX0RFRkFVTFRfTUFTSyB9IGZyb20gJy4uLy4uL3BpcGVsaW5lL2RlZmluZSc7XHJcbmltcG9ydCB7IFJlbmRlclZpZXcgfSBmcm9tICcuLi8uLi9waXBlbGluZS9yZW5kZXItdmlldyc7XHJcbmltcG9ydCB7IE5vZGUgfSBmcm9tICcuLi8uLi9zY2VuZS1ncmFwaCc7XHJcbmltcG9ydCB7IFJlbmRlclNjZW5lIH0gZnJvbSAnLi9yZW5kZXItc2NlbmUnO1xyXG5cclxuZXhwb3J0IGVudW0gQ2FtZXJhRk9WQXhpcyB7XHJcbiAgICBWRVJUSUNBTCxcclxuICAgIEhPUklaT05UQUwsXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIENhbWVyYVByb2plY3Rpb24ge1xyXG4gICAgT1JUSE8sXHJcbiAgICBQRVJTUEVDVElWRSxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQ2FtZXJhQXBlcnR1cmUge1xyXG4gICAgRjFfOCxcclxuICAgIEYyXzAsXHJcbiAgICBGMl8yLFxyXG4gICAgRjJfNSxcclxuICAgIEYyXzgsXHJcbiAgICBGM18yLFxyXG4gICAgRjNfNSxcclxuICAgIEY0XzAsXHJcbiAgICBGNF81LFxyXG4gICAgRjVfMCxcclxuICAgIEY1XzYsXHJcbiAgICBGNl8zLFxyXG4gICAgRjdfMSxcclxuICAgIEY4XzAsXHJcbiAgICBGOV8wLFxyXG4gICAgRjEwXzAsXHJcbiAgICBGMTFfMCxcclxuICAgIEYxM18wLFxyXG4gICAgRjE0XzAsXHJcbiAgICBGMTZfMCxcclxuICAgIEYxOF8wLFxyXG4gICAgRjIwXzAsXHJcbiAgICBGMjJfMCxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQ2FtZXJhSVNPIHtcclxuICAgIElTTzEwMCxcclxuICAgIElTTzIwMCxcclxuICAgIElTTzQwMCxcclxuICAgIElTTzgwMCxcclxufVxyXG5cclxuZXhwb3J0IGVudW0gQ2FtZXJhU2h1dHRlciB7XHJcbiAgICBEMSxcclxuICAgIEQyLFxyXG4gICAgRDQsXHJcbiAgICBEOCxcclxuICAgIEQxNSxcclxuICAgIEQzMCxcclxuICAgIEQ2MCxcclxuICAgIEQxMjUsXHJcbiAgICBEMjUwLFxyXG4gICAgRDUwMCxcclxuICAgIEQxMDAwLFxyXG4gICAgRDIwMDAsXHJcbiAgICBENDAwMCxcclxufVxyXG5cclxuY29uc3QgRlNUT1BTOiBudW1iZXJbXSA9IFsxLjgsIDIuMCwgMi4yLCAyLjUsIDIuOCwgMy4yLCAzLjUsIDQuMCwgNC41LCA1LjAsIDUuNiwgNi4zLCA3LjEsIDguMCwgOS4wLCAxMC4wLCAxMS4wLCAxMy4wLCAxNC4wLCAxNi4wLCAxOC4wLCAyMC4wLCAyMi4wXTtcclxuY29uc3QgU0hVVFRFUlM6IG51bWJlcltdID0gWzEuMCwgMS4wIC8gMi4wLCAxLjAgLyA0LjAsIDEuMCAvIDguMCwgMS4wIC8gMTUuMCwgMS4wIC8gMzAuMCwgMS4wIC8gNjAuMCwgMS4wIC8gMTI1LjAsXHJcbiAgICAxLjAgLyAyNTAuMCwgMS4wIC8gNTAwLjAsIDEuMCAvIDEwMDAuMCwgMS4wIC8gMjAwMC4wLCAxLjAgLyA0MDAwLjBdO1xyXG5jb25zdCBJU09TOiBudW1iZXJbXSA9IFsxMDAuMCwgMjAwLjAsIDQwMC4wLCA4MDAuMF07XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElDYW1lcmFJbmZvIHtcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIG5vZGU6IE5vZGU7XHJcbiAgICBwcm9qZWN0aW9uOiBudW1iZXI7XHJcbiAgICB0YXJnZXREaXNwbGF5PzogbnVtYmVyO1xyXG4gICAgd2luZG93PzogR0ZYV2luZG93IHwgbnVsbDtcclxuICAgIHByaW9yaXR5OiBudW1iZXI7XHJcbiAgICBwaXBlbGluZT86IHN0cmluZztcclxuICAgIGZsb3dzPzogc3RyaW5nW107XHJcbn1cclxuXHJcbmNvbnN0IHZfYSA9IG5ldyBWZWMzKCk7XHJcbmNvbnN0IHZfYiA9IG5ldyBWZWMzKCk7XHJcbmNvbnN0IF90ZW1wTWF0MSA9IG5ldyBNYXQ0KCk7XHJcbmNvbnN0IF90ZW1wTWF0MiA9IG5ldyBNYXQ0KCk7XHJcblxyXG5leHBvcnQgY29uc3QgU0tZQk9YX0ZMQUcgPSBHRlhDbGVhckZsYWcuU1RFTkNJTCA8PCAxO1xyXG5cclxuZXhwb3J0IGNsYXNzIENhbWVyYSB7XHJcblxyXG4gICAgcHVibGljIGlzV2luZG93U2l6ZTogYm9vbGVhbiA9IHRydWU7XHJcbiAgICBwdWJsaWMgc2NyZWVuU2NhbGU6IG51bWJlcjtcclxuICAgIHB1YmxpYyB2aWV3cG9ydDogUmVjdCA9IG5ldyBSZWN0KDAsIDAsIDEsIDEpO1xyXG4gICAgcHVibGljIGNsZWFyU3RlbmNpbDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBjbGVhckRlcHRoOiBudW1iZXIgPSAxLjA7XHJcbiAgICBwdWJsaWMgY2xlYXJGbGFnOiBHRlhDbGVhckZsYWcgPSBHRlhDbGVhckZsYWcuTk9ORTtcclxuXHJcbiAgICBwcml2YXRlIF9zY2VuZTogUmVuZGVyU2NlbmUgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX25vZGU6IE5vZGUgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX25hbWU6IHN0cmluZyB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfZW5hYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBfcHJvajogQ2FtZXJhUHJvamVjdGlvbiA9IC0xO1xyXG4gICAgcHJpdmF0ZSBfd2lkdGg6IG51bWJlcjtcclxuICAgIHByaXZhdGUgX2hlaWdodDogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfYXNwZWN0OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF9vcnRob0hlaWdodDogbnVtYmVyID0gMTAuMDtcclxuICAgIHByaXZhdGUgX2ZvdkF4aXMgPSBDYW1lcmFGT1ZBeGlzLlZFUlRJQ0FMO1xyXG4gICAgcHJpdmF0ZSBfZm92OiBudW1iZXIgPSB0b1JhZGlhbig0NSk7XHJcbiAgICBwcml2YXRlIF9uZWFyQ2xpcDogbnVtYmVyID0gMS4wO1xyXG4gICAgcHJpdmF0ZSBfZmFyQ2xpcDogbnVtYmVyID0gMTAwMC4wO1xyXG4gICAgcHJpdmF0ZSBfY2xlYXJDb2xvcjogSUdGWENvbG9yID0geyByOiAwLjIsIGc6IDAuMiwgYjogMC4yLCBhOiAxIH07XHJcbiAgICBwcml2YXRlIF9pc1Byb2pEaXJ0eSA9IHRydWU7XHJcbiAgICBwcml2YXRlIF9tYXRWaWV3OiBNYXQ0ID0gbmV3IE1hdDQoKTtcclxuICAgIHByaXZhdGUgX21hdFZpZXdJbnY6IE1hdDQgfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX21hdFByb2o6IE1hdDQgPSBuZXcgTWF0NCgpO1xyXG4gICAgcHJpdmF0ZSBfbWF0UHJvakludjogTWF0NCA9IG5ldyBNYXQ0KCk7XHJcbiAgICBwcml2YXRlIF9tYXRWaWV3UHJvajogTWF0NCA9IG5ldyBNYXQ0KCk7XHJcbiAgICBwcml2YXRlIF9tYXRWaWV3UHJvakludjogTWF0NCA9IG5ldyBNYXQ0KCk7XHJcbiAgICBwcml2YXRlIF9mcnVzdHVtOiBmcnVzdHVtID0gbmV3IGZydXN0dW0oKTtcclxuICAgIHByaXZhdGUgX2ZvcndhcmQ6IFZlYzMgPSBuZXcgVmVjMygpO1xyXG4gICAgcHJpdmF0ZSBfcG9zaXRpb246IFZlYzMgPSBuZXcgVmVjMygpO1xyXG4gICAgcHJpdmF0ZSBfdmlldzogUmVuZGVyVmlldyB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfdmlzaWJpbGl0eSA9IENBTUVSQV9ERUZBVUxUX01BU0s7XHJcbiAgICBwcml2YXRlIF9wcmlvcml0eTogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX2FwZXJ0dXJlOiBDYW1lcmFBcGVydHVyZSA9IENhbWVyYUFwZXJ0dXJlLkYxNl8wO1xyXG4gICAgcHJpdmF0ZSBfYXBlcnR1cmVWYWx1ZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBfc2h1dHRlcjogQ2FtZXJhU2h1dHRlciA9IENhbWVyYVNodXR0ZXIuRDEyNTtcclxuICAgIHByaXZhdGUgX3NodXR0ZXJWYWx1ZTogbnVtYmVyID0gMC4wO1xyXG4gICAgcHJpdmF0ZSBfaXNvOiBDYW1lcmFJU08gPSBDYW1lcmFJU08uSVNPMTAwO1xyXG4gICAgcHJpdmF0ZSBfaXNvVmFsdWU6IG51bWJlciA9IDAuMDtcclxuICAgIHByaXZhdGUgX2VjOiBudW1iZXIgPSAwLjA7XHJcbiAgICBwcml2YXRlIF9leHBvc3VyZTogbnVtYmVyID0gMC4wO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yICgpIHtcclxuICAgICAgICB0aGlzLl9hcGVydHVyZVZhbHVlID0gRlNUT1BTW3RoaXMuX2FwZXJ0dXJlXTtcclxuICAgICAgICB0aGlzLl9zaHV0dGVyVmFsdWUgPSBTSFVUVEVSU1t0aGlzLl9zaHV0dGVyXTtcclxuICAgICAgICB0aGlzLl9pc29WYWx1ZSA9IElTT1NbdGhpcy5faXNvXTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUV4cG9zdXJlKCk7XHJcblxyXG4gICAgICAgIHRoaXMuX2FzcGVjdCA9IHRoaXMuX3dpZHRoID0gdGhpcy5faGVpZ2h0ID0gdGhpcy5zY3JlZW5TY2FsZSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGluaXRpYWxpemUgKGluZm86IElDYW1lcmFJbmZvKSB7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGluZm8ubmFtZTtcclxuICAgICAgICB0aGlzLl9ub2RlID0gaW5mby5ub2RlO1xyXG4gICAgICAgIHRoaXMuX3Byb2ogPSBpbmZvLnByb2plY3Rpb247XHJcbiAgICAgICAgdGhpcy5fcHJpb3JpdHkgPSBpbmZvLnByaW9yaXR5IHx8IDA7XHJcblxyXG4gICAgICAgIHRoaXMuX3ZpZXcgPSBjYy5kaXJlY3Rvci5yb290LmNyZWF0ZVZpZXcoe1xyXG4gICAgICAgICAgICBjYW1lcmE6IHRoaXMsXHJcbiAgICAgICAgICAgIG5hbWU6IHRoaXMuX25hbWUsXHJcbiAgICAgICAgICAgIHByaW9yaXR5OiB0aGlzLl9wcmlvcml0eSxcclxuICAgICAgICAgICAgZmxvd3M6IGluZm8uZmxvd3MsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jaGFuZ2VUYXJnZXRXaW5kb3coaW5mby53aW5kb3cpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnQ3JlYXRlZCBDYW1lcmE6ICcgKyB0aGlzLl9uYW1lICsgJyAnICsgdGhpcy5fd2lkdGggKyAneCcgKyB0aGlzLl9oZWlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZXN0cm95ICgpIHtcclxuICAgICAgICBjYy5kaXJlY3Rvci5yb290LmRlc3Ryb3lWaWV3KHRoaXMuX3ZpZXcpO1xyXG4gICAgICAgIHRoaXMuX3ZpZXcgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX25hbWUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhdHRhY2hUb1NjZW5lIChzY2VuZTogUmVuZGVyU2NlbmUpIHtcclxuICAgICAgICB0aGlzLl9zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIGlmICh0aGlzLl92aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcuZW5hYmxlKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGV0YWNoRnJvbVNjZW5lICgpIHtcclxuICAgICAgICB0aGlzLl9zY2VuZSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmlldy5lbmFibGUoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX2FzcGVjdCA9IHRoaXMuX3dpZHRoIC8gdGhpcy5faGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX2lzUHJvakRpcnR5ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0Rml4ZWRTaXplICh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuX3dpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuX2FzcGVjdCA9IHRoaXMuX3dpZHRoIC8gdGhpcy5faGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuaXNXaW5kb3dTaXplID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSAoZm9yY2VVcGRhdGUgPSBmYWxzZSkgeyAvLyBmb3IgbGF6eSBldmFsIHNpdHVhdGlvbnMgbGlrZSB0aGUgaW4tZWRpdG9yIHByZXZpZXdcclxuICAgICAgICBpZiAodGhpcy5fbm9kZSkge1xyXG4gICAgICAgICAgICAvLyB2aWV3IG1hdHJpeFxyXG4gICAgICAgICAgICBpZiAodGhpcy5fbm9kZS5oYXNDaGFuZ2VkRmxhZ3MgfHwgZm9yY2VVcGRhdGUpIHtcclxuICAgICAgICAgICAgICAgIE1hdDQuaW52ZXJ0KHRoaXMuX21hdFZpZXcsIHRoaXMuX25vZGUud29ybGRNYXRyaXgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmQueCA9IC10aGlzLl9tYXRWaWV3Lm0wMjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmQueSA9IC10aGlzLl9tYXRWaWV3Lm0wNjtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZvcndhcmQueiA9IC10aGlzLl9tYXRWaWV3Lm0xMDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX25vZGUuZ2V0V29ybGRQb3NpdGlvbih0aGlzLl9wb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHByb2plY3Rpb24gbWF0cml4XHJcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1Byb2pEaXJ0eSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2ogPT09IENhbWVyYVByb2plY3Rpb24uUEVSU1BFQ1RJVkUpIHtcclxuICAgICAgICAgICAgICAgICAgICBNYXQ0LnBlcnNwZWN0aXZlKHRoaXMuX21hdFByb2osIHRoaXMuX2ZvdiwgdGhpcy5fYXNwZWN0LCB0aGlzLl9uZWFyQ2xpcCwgdGhpcy5fZmFyQ2xpcCwgdGhpcy5fZm92QXhpcyA9PT0gQ2FtZXJhRk9WQXhpcy5WRVJUSUNBTCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHggPSB0aGlzLl9vcnRob0hlaWdodCAqIHRoaXMuX2FzcGVjdDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCB5ID0gdGhpcy5fb3J0aG9IZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgTWF0NC5vcnRobyh0aGlzLl9tYXRQcm9qLCAteCwgeCwgLXksIHksIHRoaXMuX25lYXJDbGlwLCB0aGlzLl9mYXJDbGlwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIE1hdDQuaW52ZXJ0KHRoaXMuX21hdFByb2pJbnYsIHRoaXMuX21hdFByb2opO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB2aWV3LXByb2plY3Rpb25cclxuICAgICAgICAgICAgaWYgKHRoaXMuX25vZGUuaGFzQ2hhbmdlZEZsYWdzIHx8IHRoaXMuX2lzUHJvakRpcnR5IHx8IGZvcmNlVXBkYXRlKSB7XHJcbiAgICAgICAgICAgICAgICBNYXQ0Lm11bHRpcGx5KHRoaXMuX21hdFZpZXdQcm9qLCB0aGlzLl9tYXRQcm9qLCB0aGlzLl9tYXRWaWV3KTtcclxuICAgICAgICAgICAgICAgIE1hdDQuaW52ZXJ0KHRoaXMuX21hdFZpZXdQcm9qSW52LCB0aGlzLl9tYXRWaWV3UHJvaik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9mcnVzdHVtLnVwZGF0ZSh0aGlzLl9tYXRWaWV3UHJvaiwgdGhpcy5fbWF0Vmlld1Byb2pJbnYpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLl9pc1Byb2pEaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3BsaXRGcnVzdHVtIChvdXQ6IGZydXN0dW0sIG5lYXJDbGlwOiBudW1iZXIsIGZhckNsaXA6IG51bWJlcikge1xyXG4gICAgICAgIGlmICghdGhpcy5fbm9kZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBuZWFyQ2xpcCA9IE1hdGgubWF4KG5lYXJDbGlwLCB0aGlzLl9uZWFyQ2xpcCk7XHJcbiAgICAgICAgZmFyQ2xpcCA9IE1hdGgubWluKGZhckNsaXAsIHRoaXMuX2ZhckNsaXApO1xyXG5cclxuICAgICAgICAvLyB2aWV3IG1hdHJpeFxyXG4gICAgICAgIE1hdDQuaW52ZXJ0KHRoaXMuX21hdFZpZXcsICB0aGlzLl9ub2RlLndvcmxkTWF0cml4KTtcclxuXHJcbiAgICAgICAgLy8gcHJvamVjdGlvbiBtYXRyaXhcclxuICAgICAgICBpZiAodGhpcy5fcHJvaiA9PT0gQ2FtZXJhUHJvamVjdGlvbi5QRVJTUEVDVElWRSkge1xyXG4gICAgICAgICAgICBNYXQ0LnBlcnNwZWN0aXZlKF90ZW1wTWF0MSwgdGhpcy5fZm92LCB0aGlzLl9hc3BlY3QsIG5lYXJDbGlwLCBmYXJDbGlwLCB0aGlzLl9mb3ZBeGlzID09PSBDYW1lcmFGT1ZBeGlzLlZFUlRJQ0FMKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gdGhpcy5fb3J0aG9IZWlnaHQgKiB0aGlzLl9hc3BlY3Q7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSB0aGlzLl9vcnRob0hlaWdodDtcclxuICAgICAgICAgICAgTWF0NC5vcnRobyhfdGVtcE1hdDEsIC14LCB4LCAteSwgeSwgbmVhckNsaXAsIGZhckNsaXApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdmlldy1wcm9qZWN0aW9uXHJcbiAgICAgICAgTWF0NC5tdWx0aXBseShfdGVtcE1hdDIsIF90ZW1wTWF0MSwgdGhpcy5fbWF0Vmlldyk7XHJcbiAgICAgICAgTWF0NC5pbnZlcnQoX3RlbXBNYXQxLCBfdGVtcE1hdDIpO1xyXG4gICAgICAgIG91dC51cGRhdGUoX3RlbXBNYXQyLCBfdGVtcE1hdDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBub2RlICh2YWw6IE5vZGUpIHtcclxuICAgICAgICB0aGlzLl9ub2RlID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBub2RlICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZSE7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGVuYWJsZWQgKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX2VuYWJsZWQgPSB2YWw7XHJcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmlldy5lbmFibGUodmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGVuYWJsZWQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9lbmFibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCB2aWV3ICgpOiBSZW5kZXJWaWV3IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmlldyE7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG9ydGhvSGVpZ2h0ICh2YWwpIHtcclxuICAgICAgICB0aGlzLl9vcnRob0hlaWdodCA9IHZhbDtcclxuICAgICAgICB0aGlzLl9pc1Byb2pEaXJ0eSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG9ydGhvSGVpZ2h0ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fb3J0aG9IZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHByb2plY3Rpb25UeXBlICh2YWwpIHtcclxuICAgICAgICB0aGlzLl9wcm9qID0gdmFsO1xyXG4gICAgICAgIHRoaXMuX2lzUHJvakRpcnR5ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgcHJvamVjdGlvblR5cGUgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9qO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBmb3ZBeGlzIChheGlzKSB7XHJcbiAgICAgICAgdGhpcy5fZm92QXhpcyA9IGF4aXM7XHJcbiAgICAgICAgdGhpcy5faXNQcm9qRGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb3ZBeGlzICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZm92QXhpcztcclxuICAgIH1cclxuXHJcbiAgICBzZXQgZm92IChmb3YpIHtcclxuICAgICAgICB0aGlzLl9mb3YgPSBmb3Y7XHJcbiAgICAgICAgdGhpcy5faXNQcm9qRGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb3YgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mb3Y7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG5lYXJDbGlwIChuZWFyQ2xpcCkge1xyXG4gICAgICAgIHRoaXMuX25lYXJDbGlwID0gbmVhckNsaXA7XHJcbiAgICAgICAgdGhpcy5faXNQcm9qRGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuZWFyQ2xpcCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX25lYXJDbGlwO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBmYXJDbGlwIChmYXJDbGlwKSB7XHJcbiAgICAgICAgdGhpcy5fZmFyQ2xpcCA9IGZhckNsaXA7XHJcbiAgICAgICAgdGhpcy5faXNQcm9qRGlydHkgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmYXJDbGlwICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZmFyQ2xpcDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgY2xlYXJDb2xvciAodmFsKSB7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci5yID0gdmFsLnI7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci5nID0gdmFsLmc7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci5iID0gdmFsLmI7XHJcbiAgICAgICAgdGhpcy5fY2xlYXJDb2xvci5hID0gdmFsLmE7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGNsZWFyQ29sb3IgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jbGVhckNvbG9yO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzY2VuZSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBuYW1lICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgd2lkdGggKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl93aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaGVpZ2h0ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBhc3BlY3QgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hc3BlY3Q7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG1hdFZpZXcgKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX21hdFZpZXcgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1hdFZpZXcgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXRWaWV3O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBtYXRWaWV3SW52ICh2YWw6IE1hdDQgfCBudWxsKSB7XHJcbiAgICAgICAgdGhpcy5fbWF0Vmlld0ludiA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgbWF0Vmlld0ludiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hdFZpZXdJbnYgfHwgdGhpcy5fbm9kZSEud29ybGRNYXRyaXg7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IG1hdFByb2ogKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX21hdFByb2ogPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1hdFByb2ogKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9tYXRQcm9qO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBtYXRQcm9qSW52ICh2YWwpIHtcclxuICAgICAgICB0aGlzLl9tYXRQcm9qSW52ID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtYXRQcm9qSW52ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF0UHJvakludjtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgbWF0Vmlld1Byb2ogKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX21hdFZpZXdQcm9qID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBtYXRWaWV3UHJvaiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hdFZpZXdQcm9qO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBtYXRWaWV3UHJvakludiAodmFsKSB7XHJcbiAgICAgICAgdGhpcy5fbWF0Vmlld1Byb2pJbnYgPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IG1hdFZpZXdQcm9qSW52ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fbWF0Vmlld1Byb2pJbnY7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGZydXN0dW0gKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX2ZydXN0dW0gPSB2YWw7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGZydXN0dW0gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9mcnVzdHVtO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBmb3J3YXJkICh2YWwpIHtcclxuICAgICAgICB0aGlzLl9mb3J3YXJkID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBmb3J3YXJkICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZm9yd2FyZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXQgcG9zaXRpb24gKHZhbCkge1xyXG4gICAgICAgIHRoaXMuX3Bvc2l0aW9uID0gdmFsO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBwb3NpdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Bvc2l0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB2aXNpYmlsaXR5ICh2aXMpIHtcclxuICAgICAgICB0aGlzLl92aXNpYmlsaXR5ID0gdmlzO1xyXG4gICAgICAgIGlmICh0aGlzLl92aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcudmlzaWJpbGl0eSA9IHZpcztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXQgdmlzaWJpbGl0eSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2liaWxpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IHByaW9yaXR5ICgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3ID8gdGhpcy5fdmlldy5wcmlvcml0eSA6IC0xO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBwcmlvcml0eSAodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9wcmlvcml0eSA9IHZhbDtcclxuICAgICAgICBpZiAodGhpcy5fdmlldykge1xyXG4gICAgICAgICAgICB0aGlzLl92aWV3LnByaW9yaXR5ID0gdGhpcy5fcHJpb3JpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldCBhcGVydHVyZSAodmFsOiBDYW1lcmFBcGVydHVyZSkge1xyXG4gICAgICAgIHRoaXMuX2FwZXJ0dXJlID0gdmFsO1xyXG4gICAgICAgIHRoaXMuX2FwZXJ0dXJlVmFsdWUgPSBGU1RPUFNbdGhpcy5fYXBlcnR1cmVdO1xyXG4gICAgICAgIHRoaXMudXBkYXRlRXhwb3N1cmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgYXBlcnR1cmUgKCk6IENhbWVyYUFwZXJ0dXJlIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYXBlcnR1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IGFwZXJ0dXJlVmFsdWUgKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwZXJ0dXJlVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IHNodXR0ZXIgKHZhbDogQ2FtZXJhU2h1dHRlcikge1xyXG4gICAgICAgIHRoaXMuX3NodXR0ZXIgPSB2YWw7XHJcbiAgICAgICAgdGhpcy5fc2h1dHRlclZhbHVlID0gU0hVVFRFUlNbdGhpcy5fc2h1dHRlcl07XHJcbiAgICAgICAgdGhpcy51cGRhdGVFeHBvc3VyZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBzaHV0dGVyICgpOiBDYW1lcmFTaHV0dGVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2h1dHRlcjtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgc2h1dHRlclZhbHVlICgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaHV0dGVyVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGlzbyAodmFsOiBDYW1lcmFJU08pIHtcclxuICAgICAgICB0aGlzLl9pc28gPSB2YWw7XHJcbiAgICAgICAgdGhpcy5faXNvVmFsdWUgPSBJU09TW3RoaXMuX2lzb107XHJcbiAgICAgICAgdGhpcy51cGRhdGVFeHBvc3VyZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBpc28gKCk6IENhbWVyYUlTTyB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzbztcclxuICAgIH1cclxuXHJcbiAgICBnZXQgaXNvVmFsdWUgKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzb1ZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldCBlYyAodmFsOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLl9lYyA9IHZhbDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgZWMgKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VjO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBleHBvc3VyZSAoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fZXhwb3N1cmU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0IGZsb3dzICh2YWw6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5fdmlldy5zZXRFeGVjdXRlRmxvd3ModmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZVRhcmdldFdpbmRvdyAod2luZG93OiBHRlhXaW5kb3cgfCBudWxsID0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IHdpbiA9IHdpbmRvdyB8fCBjYy5kaXJlY3Rvci5yb290Lm1haW5XaW5kb3c7XHJcbiAgICAgICAgaWYgKHdpbiAmJiB0aGlzLl92aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZpZXcud2luZG93ID0gd2luO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZSh3aW4ud2lkdGgsIHdpbi5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRyYW5zZm9ybSBhIHNjcmVlbiBwb3NpdGlvbiB0byBhIHdvcmxkIHNwYWNlIHJheVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgc2NyZWVuUG9pbnRUb1JheSAob3V0OiByYXksIHg6IG51bWJlciwgeTogbnVtYmVyKTogcmF5IHtcclxuICAgICAgICBjb25zdCBjeCA9IHRoaXMudmlld3BvcnQueCAqIHRoaXMuX3dpZHRoO1xyXG4gICAgICAgIGNvbnN0IGN5ID0gdGhpcy52aWV3cG9ydC55ICogdGhpcy5faGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IGN3ID0gdGhpcy52aWV3cG9ydC53aWR0aCAqIHRoaXMuX3dpZHRoO1xyXG4gICAgICAgIGNvbnN0IGNoID0gdGhpcy52aWV3cG9ydC5oZWlnaHQgKiB0aGlzLl9oZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIGZhciBwbGFuZSBpbnRlcnNlY3Rpb25cclxuICAgICAgICBWZWMzLnNldCh2X2EsICh4IC0gY3gpIC8gY3cgKiAyIC0gMSwgKHkgLSBjeSkgLyBjaCAqIDIgLSAxLCAxKTtcclxuICAgICAgICBWZWMzLnRyYW5zZm9ybU1hdDQodl9hLCB2X2EsIHRoaXMuX21hdFZpZXdQcm9qSW52KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX3Byb2ogPT09IENhbWVyYVByb2plY3Rpb24uUEVSU1BFQ1RJVkUpIHtcclxuICAgICAgICAgICAgLy8gY2FtZXJhIG9yaWdpblxyXG4gICAgICAgICAgICBpZiAodGhpcy5fbm9kZSkgeyB0aGlzLl9ub2RlLmdldFdvcmxkUG9zaXRpb24odl9iKTsgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIG5lYXIgcGxhbmUgaW50ZXJzZWN0aW9uXHJcbiAgICAgICAgICAgIFZlYzMuc2V0KHZfYiwgKHggLSBjeCkgLyBjdyAqIDIgLSAxLCAoeSAtIGN5KSAvIGNoICogMiAtIDEsIC0xKTtcclxuICAgICAgICAgICAgVmVjMy50cmFuc2Zvcm1NYXQ0KHZfYiwgdl9iLCB0aGlzLl9tYXRWaWV3UHJvakludik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmF5LmZyb21Qb2ludHMob3V0LCB2X2IsIHZfYSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiB0cmFuc2Zvcm0gYSBzY3JlZW4gcG9zaXRpb24gdG8gd29ybGQgc3BhY2VcclxuICAgICAqL1xyXG4gICAgcHVibGljIHNjcmVlblRvV29ybGQgKG91dDogVmVjMywgc2NyZWVuUG9zOiBWZWMzKTogVmVjMyB7XHJcbiAgICAgICAgY29uc3QgY3ggPSB0aGlzLnZpZXdwb3J0LnggKiB0aGlzLl93aWR0aDtcclxuICAgICAgICBjb25zdCBjeSA9IHRoaXMudmlld3BvcnQueSAqIHRoaXMuX2hlaWdodDtcclxuICAgICAgICBjb25zdCBjdyA9IHRoaXMudmlld3BvcnQud2lkdGggKiB0aGlzLl93aWR0aDtcclxuICAgICAgICBjb25zdCBjaCA9IHRoaXMudmlld3BvcnQuaGVpZ2h0ICogdGhpcy5faGVpZ2h0O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fcHJvaiA9PT0gQ2FtZXJhUHJvamVjdGlvbi5QRVJTUEVDVElWRSkge1xyXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgc2NyZWVuIHBvcyBpbiBmYXIgY2xpcCBwbGFuZVxyXG4gICAgICAgICAgICBWZWMzLnNldChvdXQsXHJcbiAgICAgICAgICAgICAgICAoc2NyZWVuUG9zLnggLSBjeCkgLyBjdyAqIDIgLSAxLFxyXG4gICAgICAgICAgICAgICAgKHNjcmVlblBvcy55IC0gY3kpIC8gY2ggKiAyIC0gMSxcclxuICAgICAgICAgICAgICAgIDEuMCxcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRyYW5zZm9ybSB0byB3b3JsZFxyXG4gICAgICAgICAgICBWZWMzLnRyYW5zZm9ybU1hdDQob3V0LCBvdXQsIHRoaXMuX21hdFZpZXdQcm9qSW52KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGxlcnAgdG8gZGVwdGggelxyXG4gICAgICAgICAgICBpZiAodGhpcy5fbm9kZSkgeyB0aGlzLl9ub2RlLmdldFdvcmxkUG9zaXRpb24odl9hKTsgfVxyXG5cclxuICAgICAgICAgICAgVmVjMy5sZXJwKG91dCwgdl9hLCBvdXQsIGxlcnAodGhpcy5fbmVhckNsaXAgLyB0aGlzLl9mYXJDbGlwLCAxLCBzY3JlZW5Qb3MueikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIFZlYzMuc2V0KG91dCxcclxuICAgICAgICAgICAgICAgIChzY3JlZW5Qb3MueCAtIGN4KSAvIGN3ICogMiAtIDEsXHJcbiAgICAgICAgICAgICAgICAoc2NyZWVuUG9zLnkgLSBjeSkgLyBjaCAqIDIgLSAxLFxyXG4gICAgICAgICAgICAgICAgc2NyZWVuUG9zLnogKiAyIC0gMSxcclxuICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRyYW5zZm9ybSB0byB3b3JsZFxyXG4gICAgICAgICAgICBWZWMzLnRyYW5zZm9ybU1hdDQob3V0LCBvdXQsIHRoaXMubWF0Vmlld1Byb2pJbnYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG91dDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHRyYW5zZm9ybSBhIHdvcmxkIHNwYWNlIHBvc2l0aW9uIHRvIHNjcmVlbiBzcGFjZVxyXG4gICAgICovXHJcbiAgICBwdWJsaWMgd29ybGRUb1NjcmVlbiAob3V0OiBWZWMzLCB3b3JsZFBvczogVmVjMyk6IFZlYzMge1xyXG4gICAgICAgIGNvbnN0IGN4ID0gdGhpcy52aWV3cG9ydC54ICogdGhpcy5fd2lkdGg7XHJcbiAgICAgICAgY29uc3QgY3kgPSB0aGlzLnZpZXdwb3J0LnkgKiB0aGlzLl9oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgY3cgPSB0aGlzLnZpZXdwb3J0LndpZHRoICogdGhpcy5fd2lkdGg7XHJcbiAgICAgICAgY29uc3QgY2ggPSB0aGlzLnZpZXdwb3J0LmhlaWdodCAqIHRoaXMuX2hlaWdodDtcclxuXHJcbiAgICAgICAgVmVjMy50cmFuc2Zvcm1NYXQ0KG91dCwgd29ybGRQb3MsIHRoaXMubWF0Vmlld1Byb2opO1xyXG5cclxuICAgICAgICBvdXQueCA9IGN4ICsgKG91dC54ICsgMSkgKiAwLjUgKiBjdztcclxuICAgICAgICBvdXQueSA9IGN5ICsgKG91dC55ICsgMSkgKiAwLjUgKiBjaDtcclxuICAgICAgICBvdXQueiA9IG91dC56ICogMC41ICsgMC41O1xyXG5cclxuICAgICAgICByZXR1cm4gb3V0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlRXhwb3N1cmUgKCkge1xyXG4gICAgICAgIGNvbnN0IGV2MTAwID0gTWF0aC5sb2cyKCh0aGlzLl9hcGVydHVyZVZhbHVlICogdGhpcy5fYXBlcnR1cmVWYWx1ZSkgLyB0aGlzLl9zaHV0dGVyVmFsdWUgKiAxMDAuMCAvIHRoaXMuX2lzb1ZhbHVlKTtcclxuICAgICAgICB0aGlzLl9leHBvc3VyZSA9IDAuODMzMzMzIC8gTWF0aC5wb3coMi4wLCBldjEwMCk7XHJcbiAgICB9XHJcbn1cclxuIl19