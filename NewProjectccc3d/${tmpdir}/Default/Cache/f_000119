(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../../core/math/index.js", "../utils.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../../core/math/index.js"), require("../utils.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.index, global.utils);
    global.radialFilled = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _index, _utils) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.radialFilled = void 0;

  function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  var PI_2 = Math.PI * 2;
  var EPSILON = 1e-6;
  var _vertPos = [new _index.Vec2(), new _index.Vec2(), new _index.Vec2(), new _index.Vec2()];

  var _vertices = new Array(4);

  var _uvs = new Array(8);

  var _intersectPoint_1 = [new _index.Vec2(), new _index.Vec2(), new _index.Vec2(), new _index.Vec2()];
  var _intersectPoint_2 = [new _index.Vec2(), new _index.Vec2(), new _index.Vec2(), new _index.Vec2()];

  var _center = new _index.Vec2();

  var _triangles = [new _index.Vec2(), new _index.Vec2(), new _index.Vec2(), new _index.Vec2()];

  function _calcIntersectedPoints(left, right, bottom, top, center, angle, intersectPoints) {
    // left bottom, right, top
    var sinAngle = Math.sin(angle);
    sinAngle = Math.abs(sinAngle) > EPSILON ? sinAngle : 0;
    var cosAngle = Math.cos(angle);
    cosAngle = Math.abs(cosAngle) > EPSILON ? cosAngle : 0;
    var tanAngle = 0;
    var cotAngle = 0;

    if (cosAngle !== 0) {
      tanAngle = sinAngle / cosAngle; // calculate right and left

      if ((left - center.x) * cosAngle > 0) {
        var yleft = center.y + tanAngle * (left - center.x);
        intersectPoints[0].x = left;
        intersectPoints[0].y = yleft;
      }

      if ((right - center.x) * cosAngle > 0) {
        var yright = center.y + tanAngle * (right - center.x);
        intersectPoints[2].x = right;
        intersectPoints[2].y = yright;
      }
    }

    if (sinAngle !== 0) {
      cotAngle = cosAngle / sinAngle; // calculate  top and bottom

      if ((top - center.y) * sinAngle > 0) {
        var xtop = center.x + cotAngle * (top - center.y);
        intersectPoints[3].x = xtop;
        intersectPoints[3].y = top;
      }

      if ((bottom - center.y) * sinAngle > 0) {
        var xbottom = center.x + cotAngle * (bottom - center.y);
        intersectPoints[1].x = xbottom;
        intersectPoints[1].y = bottom;
      }
    }
  }

  function _calculateVertices(sprite) {
    var node = sprite.node;
    var width = node.width;
    var height = node.height;
    var appx = node.anchorX * width;
    var appy = node.anchorY * height;
    var l = -appx;
    var b = -appy;
    var r = width - appx;
    var t = height - appy;
    var vertices = _vertices;
    vertices[0] = l;
    vertices[1] = b;
    vertices[2] = r;
    vertices[3] = t;
    var fillCenter = sprite.fillCenter;
    var cx = _center.x = Math.min(Math.max(0, fillCenter.x), 1) * (r - l) + l;
    var cy = _center.y = Math.min(Math.max(0, fillCenter.y), 1) * (t - b) + b;
    _vertPos[0].x = _vertPos[3].x = l;
    _vertPos[1].x = _vertPos[2].x = r;
    _vertPos[0].y = _vertPos[1].y = b;
    _vertPos[2].y = _vertPos[3].y = t;

    var _iterator = _createForOfIteratorHelper(_triangles),
        _step;

    try {
      for (_iterator.s(); !(_step = _iterator.n()).done;) {
        var num = _step.value;

        _index.Vec2.set(num, 0, 0);
      }
    } catch (err) {
      _iterator.e(err);
    } finally {
      _iterator.f();
    }

    if (cx !== vertices[0]) {
      _index.Vec2.set(_triangles[0], 3, 0);
    }

    if (cx !== vertices[2]) {
      _index.Vec2.set(_triangles[2], 1, 2);
    }

    if (cy !== vertices[1]) {
      _index.Vec2.set(_triangles[1], 0, 1);
    }

    if (cy !== vertices[3]) {
      _index.Vec2.set(_triangles[3], 2, 3);
    }
  }

  function _calculateUVs(spriteFrame) {
    var atlasWidth = spriteFrame.width;
    var atlasHeight = spriteFrame.height;
    var textureRect = spriteFrame.getRect();
    var u0 = 0;
    var u1 = 0;
    var v0 = 0;
    var v1 = 0;
    var uvs = _uvs;

    if (spriteFrame.isRotated()) {
      u0 = textureRect.x / atlasWidth;
      u1 = (textureRect.x + textureRect.height) / atlasWidth;
      v0 = textureRect.y / atlasHeight;
      v1 = (textureRect.y + textureRect.width) / atlasHeight;
      uvs[0] = uvs[2] = u0;
      uvs[4] = uvs[6] = u1;
      uvs[3] = uvs[7] = v1;
      uvs[1] = uvs[5] = v0;
    } else {
      u0 = textureRect.x / atlasWidth;
      u1 = (textureRect.x + textureRect.width) / atlasWidth;
      v0 = textureRect.y / atlasHeight;
      v1 = (textureRect.y + textureRect.height) / atlasHeight;
      uvs[0] = uvs[4] = u0;
      uvs[2] = uvs[6] = u1;
      uvs[1] = uvs[3] = v1;
      uvs[5] = uvs[7] = v0;
    }
  }

  function _getVertAngle(start, end) {
    var placementX = end.x - start.x;
    var placementY = end.y - start.y;

    if (placementX === 0 && placementY === 0) {
      return 0;
    } else if (placementX === 0) {
      if (placementY > 0) {
        return Math.PI * 0.5;
      } else {
        return Math.PI * 1.5;
      }
    } else {
      var angle = Math.atan(placementY / placementX);

      if (placementX < 0) {
        angle += Math.PI;
      }

      return angle;
    }
  }

  function _generateTriangle(datas, offset, vert0, vert1, vert2) {
    var vertices = _vertices;
    var v0x = vertices[0];
    var v0y = vertices[1];
    var v1x = vertices[2];
    var v1y = vertices[3];
    datas[offset].x = vert0.x;
    datas[offset].y = vert0.y;
    datas[offset + 1].x = vert1.x;
    datas[offset + 1].y = vert1.y;
    datas[offset + 2].x = vert2.x;
    datas[offset + 2].y = vert2.y;
    var progressX = 0;
    var progressY = 0;
    progressX = (vert0.x - v0x) / (v1x - v0x);
    progressY = (vert0.y - v0y) / (v1y - v0y);

    _generateUV(progressX, progressY, datas, offset);

    progressX = (vert1.x - v0x) / (v1x - v0x);
    progressY = (vert1.y - v0y) / (v1y - v0y);

    _generateUV(progressX, progressY, datas, offset + 1);

    progressX = (vert2.x - v0x) / (v1x - v0x);
    progressY = (vert2.y - v0y) / (v1y - v0y);

    _generateUV(progressX, progressY, datas, offset + 2);
  }

  function _generateUV(progressX, progressY, data, offset) {
    var uvs = _uvs;
    var px1 = uvs[0] + (uvs[2] - uvs[0]) * progressX;
    var px2 = uvs[4] + (uvs[6] - uvs[4]) * progressX;
    var py1 = uvs[1] + (uvs[3] - uvs[1]) * progressX;
    var py2 = uvs[5] + (uvs[7] - uvs[5]) * progressX;
    var uv = data[offset];
    uv.u = px1 + (px2 - px1) * progressY;
    uv.v = py1 + (py2 - py1) * progressY;
  }
  /**
   * radialFilled 组装器
   * 可通过 cc.UI.radialFilled 获取该组装器。
   */


  var radialFilled = {
    useModel: false,
    createData: function createData(sprite) {
      return sprite.requestRenderData();
    },
    updateRenderData: function updateRenderData(sprite) {
      var frame = sprite.spriteFrame; // TODO: Material API design and export from editor could affect the material activation process
      // need to update the logic here
      // if (frame) {
      //     if (!frame._original && dynamicAtlasManager) {
      //         dynamicAtlasManager.insertSpriteFrame(frame);
      //     }
      //     if (sprite._material._texture !== frame._texture) {
      //         sprite._activateMaterial();
      //     }
      // }

      var renderData = sprite.renderData;

      if (renderData && frame) {
        if (renderData.vertDirty || renderData.uvDirty) {
          var datas = renderData.datas;
          var fillStart = sprite.fillStart;
          var fillRange = sprite.fillRange;

          if (fillRange < 0) {
            fillStart += fillRange;
            fillRange = -fillRange;
          } // do round fill start [0,1), include 0, exclude 1


          while (fillStart >= 1.0) {
            fillStart -= 1.0;
          }

          while (fillStart < 0.0) {
            fillStart += 1.0;
          }

          fillStart *= PI_2;
          fillRange *= PI_2;
          var fillEnd = fillStart + fillRange; // build vertices

          _calculateVertices(sprite); // build uvs


          _calculateUVs(frame);

          _calcIntersectedPoints(_vertices[0], _vertices[2], _vertices[1], _vertices[3], _center, fillStart, _intersectPoint_1);

          _calcIntersectedPoints(_vertices[0], _vertices[2], _vertices[1], _vertices[3], _center, fillStart + fillRange, _intersectPoint_2);

          var offset = 0;

          for (var triangleIndex = 0; triangleIndex < 4; ++triangleIndex) {
            var triangle = _triangles[triangleIndex];

            if (!triangle) {
              continue;
            } // all in


            if (fillRange >= PI_2) {
              renderData.dataLength = offset + 3;

              _generateTriangle(datas, offset, _center, _vertPos[triangle.x], _vertPos[triangle.y]);

              offset += 3;
              continue;
            } // test against


            var startAngle = _getVertAngle(_center, _vertPos[triangle.x]);

            var endAngle = _getVertAngle(_center, _vertPos[triangle.y]);

            if (endAngle < startAngle) {
              endAngle += PI_2;
            }

            startAngle -= PI_2;
            endAngle -= PI_2; // testing

            for (var testIndex = 0; testIndex < 3; ++testIndex) {
              if (startAngle >= fillEnd) {// all out
              } else if (startAngle >= fillStart) {
                renderData.dataLength = offset + 3;

                if (endAngle >= fillEnd) {
                  // startAngle to fillEnd
                  _generateTriangle(datas, offset, _center, _vertPos[triangle.x], _intersectPoint_2[triangleIndex]);
                } else {
                  // startAngle to endAngle
                  _generateTriangle(datas, offset, _center, _vertPos[triangle.x], _vertPos[triangle.y]);
                }

                offset += 3;
              } else {
                // startAngle < fillStart
                if (endAngle <= fillStart) {// all out
                } else if (endAngle <= fillEnd) {
                  renderData.dataLength = offset + 3; // fillStart to endAngle

                  _generateTriangle(datas, offset, _center, _intersectPoint_1[triangleIndex], _vertPos[triangle.y]);

                  offset += 3;
                } else {
                  renderData.dataLength = offset + 3; // fillStart to fillEnd

                  _generateTriangle(datas, offset, _center, _intersectPoint_1[triangleIndex], _intersectPoint_2[triangleIndex]);

                  offset += 3;
                }
              } // add 2 * PI


              startAngle += PI_2;
              endAngle += PI_2;
            }
          }

          renderData.indiceCount = renderData.vertexCount = offset;
          renderData.vertDirty = renderData.uvDirty = false;
        }
      }
    },
    fillBuffers: function fillBuffers(comp, renderer) {
      var node = comp.node;
      var renderData = comp.renderData;
      (0, _utils.fillVertices3D)(node, renderer, renderData, comp.color);
    }
  };
  _exports.radialFilled = radialFilled;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvdWkvYXNzZW1ibGVyL3Nwcml0ZS9yYWRpYWwtZmlsbGVkLnRzIl0sIm5hbWVzIjpbIlBJXzIiLCJNYXRoIiwiUEkiLCJFUFNJTE9OIiwiX3ZlcnRQb3MiLCJWZWMyIiwiX3ZlcnRpY2VzIiwiQXJyYXkiLCJfdXZzIiwiX2ludGVyc2VjdFBvaW50XzEiLCJfaW50ZXJzZWN0UG9pbnRfMiIsIl9jZW50ZXIiLCJfdHJpYW5nbGVzIiwiX2NhbGNJbnRlcnNlY3RlZFBvaW50cyIsImxlZnQiLCJyaWdodCIsImJvdHRvbSIsInRvcCIsImNlbnRlciIsImFuZ2xlIiwiaW50ZXJzZWN0UG9pbnRzIiwic2luQW5nbGUiLCJzaW4iLCJhYnMiLCJjb3NBbmdsZSIsImNvcyIsInRhbkFuZ2xlIiwiY290QW5nbGUiLCJ4IiwieWxlZnQiLCJ5IiwieXJpZ2h0IiwieHRvcCIsInhib3R0b20iLCJfY2FsY3VsYXRlVmVydGljZXMiLCJzcHJpdGUiLCJub2RlIiwid2lkdGgiLCJoZWlnaHQiLCJhcHB4IiwiYW5jaG9yWCIsImFwcHkiLCJhbmNob3JZIiwibCIsImIiLCJyIiwidCIsInZlcnRpY2VzIiwiZmlsbENlbnRlciIsImN4IiwibWluIiwibWF4IiwiY3kiLCJudW0iLCJzZXQiLCJfY2FsY3VsYXRlVVZzIiwic3ByaXRlRnJhbWUiLCJhdGxhc1dpZHRoIiwiYXRsYXNIZWlnaHQiLCJ0ZXh0dXJlUmVjdCIsImdldFJlY3QiLCJ1MCIsInUxIiwidjAiLCJ2MSIsInV2cyIsImlzUm90YXRlZCIsIl9nZXRWZXJ0QW5nbGUiLCJzdGFydCIsImVuZCIsInBsYWNlbWVudFgiLCJwbGFjZW1lbnRZIiwiYXRhbiIsIl9nZW5lcmF0ZVRyaWFuZ2xlIiwiZGF0YXMiLCJvZmZzZXQiLCJ2ZXJ0MCIsInZlcnQxIiwidmVydDIiLCJ2MHgiLCJ2MHkiLCJ2MXgiLCJ2MXkiLCJwcm9ncmVzc1giLCJwcm9ncmVzc1kiLCJfZ2VuZXJhdGVVViIsImRhdGEiLCJweDEiLCJweDIiLCJweTEiLCJweTIiLCJ1diIsInUiLCJ2IiwicmFkaWFsRmlsbGVkIiwidXNlTW9kZWwiLCJjcmVhdGVEYXRhIiwicmVxdWVzdFJlbmRlckRhdGEiLCJ1cGRhdGVSZW5kZXJEYXRhIiwiZnJhbWUiLCJyZW5kZXJEYXRhIiwidmVydERpcnR5IiwidXZEaXJ0eSIsImZpbGxTdGFydCIsImZpbGxSYW5nZSIsImZpbGxFbmQiLCJ0cmlhbmdsZUluZGV4IiwidHJpYW5nbGUiLCJkYXRhTGVuZ3RoIiwic3RhcnRBbmdsZSIsImVuZEFuZ2xlIiwidGVzdEluZGV4IiwiaW5kaWNlQ291bnQiLCJ2ZXJ0ZXhDb3VudCIsImZpbGxCdWZmZXJzIiwiY29tcCIsInJlbmRlcmVyIiwiY29sb3IiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUNBLE1BQU1BLElBQUksR0FBR0MsSUFBSSxDQUFDQyxFQUFMLEdBQVUsQ0FBdkI7QUFDQSxNQUFNQyxPQUFPLEdBQUcsSUFBaEI7QUFFQSxNQUFNQyxRQUFnQixHQUFHLENBQUMsSUFBSUMsV0FBSixFQUFELEVBQWEsSUFBSUEsV0FBSixFQUFiLEVBQXlCLElBQUlBLFdBQUosRUFBekIsRUFBcUMsSUFBSUEsV0FBSixFQUFyQyxDQUF6Qjs7QUFDQSxNQUFNQyxTQUFtQixHQUFHLElBQUlDLEtBQUosQ0FBVSxDQUFWLENBQTVCOztBQUNBLE1BQU1DLElBQWMsR0FBRyxJQUFJRCxLQUFKLENBQVUsQ0FBVixDQUF2Qjs7QUFDQSxNQUFNRSxpQkFBeUIsR0FBRyxDQUFDLElBQUlKLFdBQUosRUFBRCxFQUFhLElBQUlBLFdBQUosRUFBYixFQUF5QixJQUFJQSxXQUFKLEVBQXpCLEVBQXFDLElBQUlBLFdBQUosRUFBckMsQ0FBbEM7QUFDQSxNQUFNSyxpQkFBeUIsR0FBRyxDQUFDLElBQUlMLFdBQUosRUFBRCxFQUFhLElBQUlBLFdBQUosRUFBYixFQUF5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QUFNLEdBQUcsQ0FBakMsQ0FERyxDQUVIOztBQUNBRixrQkFBQUEsaUJBQWlCLENBQUNDLEtBQUQsRUFBUUMsTUFBUixFQUFnQmhFLE9BQWhCLEVBQ2JGLGlCQUFpQixDQUFDaUcsYUFBRCxDQURKLEVBRWJoRyxpQkFBaUIsQ0FBQ2dHLGFBQUQsQ0FGSixDQUFqQjs7QUFJQS9CLGtCQUFBQSxNQUFNLElBQUksQ0FBVjtBQUNIO0FBQ0osZUF4QytDLENBeUNoRDs7O0FBQ0FrQyxjQUFBQSxVQUFVLElBQUk3RyxJQUFkO0FBQ0E4RyxjQUFBQSxRQUFRLElBQUk5RyxJQUFaO0FBQ0g7QUFDSjs7QUFFRG9HLFVBQUFBLFVBQVUsQ0FBQ1ksV0FBWCxHQUF5QlosVUFBVSxDQUFDYSxXQUFYLEdBQXlCdEMsTUFBbEQ7QUFDQXlCLFVBQUFBLFVBQVUsQ0FBQ0MsU0FBWCxHQUF1QkQsVUFBVSxDQUFDRSxPQUFYLEdBQXFCLEtBQTVDO0FBQ0g7QUFDSjtBQUNKLEtBaEltQztBQWtJcENZLElBQUFBLFdBbElvQyx1QkFrSXZCQyxJQWxJdUIsRUFrSUFDLFFBbElBLEVBa0ljO0FBQzlDLFVBQU1oRixJQUFJLEdBQUcrRSxJQUFJLENBQUMvRSxJQUFsQjtBQUNBLFVBQU1nRSxVQUFzQixHQUFHZSxJQUFJLENBQUNmLFVBQXBDO0FBQ0EsaUNBQWVoRSxJQUFmLEVBQXFCZ0YsUUFBckIsRUFBK0JoQixVQUEvQixFQUEyQ2UsSUFBSSxDQUFDRSxLQUFoRDtBQUNIO0FBdEltQyxHQUFqQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXHJcbiBDb3B5cmlnaHQgKGMpIDIwMTctMjAxOCBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC5cclxuXHJcbiBodHRwczovL3d3dy5jb2Nvcy5jb20vXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXHJcbiB3b3JsZHdpZGUsIHJveWFsdHktZnJlZSwgbm9uLWFzc2lnbmFibGUsIHJldm9jYWJsZSBhbmQgbm9uLWV4Y2x1c2l2ZSBsaWNlbnNlXHJcbiB0byB1c2UgQ29jb3MgQ3JlYXRvciBzb2xlbHkgdG8gZGV2ZWxvcCBnYW1lcyBvbiB5b3VyIHRhcmdldCBwbGF0Zm9ybXMuIFlvdSBzaGFsbFxyXG4gbm90IHVzZSBDb2NvcyBDcmVhdG9yIHNvZnR3YXJlIGZvciBkZXZlbG9waW5nIG90aGVyIHNvZnR3YXJlIG9yIHRvb2xzIHRoYXQnc1xyXG4gdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxyXG4gc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIENvY29zIENyZWF0b3IuXHJcblxyXG4gVGhlIHNvZnR3YXJlIG9yIHRvb2xzIGluIHRoaXMgTGljZW5zZSBBZ3JlZW1lbnQgYXJlIGxpY2Vuc2VkLCBub3Qgc29sZC5cclxuIFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLiByZXNlcnZlcyBhbGwgcmlnaHRzIG5vdCBleHByZXNzbHkgZ3JhbnRlZCB0byB5b3UuXHJcblxyXG4gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxyXG4gSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXHJcbiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcclxuIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXHJcbiBUSEUgU09GVFdBUkUuXHJcbiovXHJcblxyXG4vKipcclxuICogQGNhdGVnb3J5IHVpLWFzc2VtYmxlclxyXG4gKi9cclxuXHJcbmltcG9ydCB7IFNwcml0ZUZyYW1lIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9hc3NldHMnO1xyXG5pbXBvcnQgeyBNYXQ0LCBWZWMyLCBWZWMzIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9tYXRoJztcclxuaW1wb3J0IHsgSVJlbmRlckRhdGEsIFJlbmRlckRhdGEgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3JlbmRlcmVyL3VpL3JlbmRlci1kYXRhJztcclxuaW1wb3J0IHsgVUkgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3JlbmRlcmVyL3VpL3VpJztcclxuaW1wb3J0IHsgU3ByaXRlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IElBc3NlbWJsZXIgfSBmcm9tICcuLi8uLi8uLi9jb3JlL3JlbmRlcmVyL3VpL2Jhc2UnO1xyXG5pbXBvcnQgeyBmaWxsVmVydGljZXMzRCB9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmNvbnN0IFBJXzIgPSBNYXRoLlBJICogMjtcclxuY29uc3QgRVBTSUxPTiA9IDFlLTY7XHJcblxyXG5jb25zdCBfdmVydFBvczogVmVjMltdID0gW25ldyBWZWMyKCksIG5ldyBWZWMyKCksIG5ldyBWZWMyKCksIG5ldyBWZWMyKCldO1xyXG5jb25zdCBfdmVydGljZXM6IG51bWJlcltdID0gbmV3IEFycmF5KDQpO1xyXG5jb25zdCBfdXZzOiBudW1iZXJbXSA9IG5ldyBBcnJheSg4KTtcclxuY29uc3QgX2ludGVyc2VjdFBvaW50XzE6IFZlYzJbXSA9IFtuZXcgVmVjMigpLCBuZXcgVmVjMigpLCBuZXcgVmVjMigpLCBuZXcgVmVjMigpXTtcclxuY29uc3QgX2ludGVyc2VjdFBvaW50XzI6IFZlYzJbXSA9IFtuZXcgVmVjMigpLCBuZXcgVmVjMigpLCBuZXcgVmVjMigpLCBuZXcgVmVjMigpXTtcclxuY29uc3QgX2NlbnRlciA9IG5ldyBWZWMyKCk7XHJcbmNvbnN0IF90cmlhbmdsZXM6IFZlYzJbXSA9IFtuZXcgVmVjMigpLCBuZXcgVmVjMigpLCBuZXcgVmVjMigpLCBuZXcgVmVjMigpXTtcclxuXHJcbmZ1bmN0aW9uIF9jYWxjSW50ZXJzZWN0ZWRQb2ludHMgKGxlZnQsIHJpZ2h0LCBib3R0b20sIHRvcCwgY2VudGVyLCBhbmdsZSwgaW50ZXJzZWN0UG9pbnRzKSB7XHJcbiAgICAvLyBsZWZ0IGJvdHRvbSwgcmlnaHQsIHRvcFxyXG4gICAgbGV0IHNpbkFuZ2xlID0gTWF0aC5zaW4oYW5nbGUpO1xyXG4gICAgc2luQW5nbGUgPSBNYXRoLmFicyhzaW5BbmdsZSkgPiBFUFNJTE9OID8gc2luQW5nbGUgOiAwO1xyXG4gICAgbGV0IGNvc0FuZ2xlID0gTWF0aC5jb3MoYW5nbGUpO1xyXG4gICAgY29zQW5nbGUgPSBNYXRoLmFicyhjb3NBbmdsZSkgPiBFUFNJTE9OID8gY29zQW5nbGUgOiAwO1xyXG4gICAgbGV0IHRhbkFuZ2xlID0gMDtcclxuICAgIGxldCBjb3RBbmdsZSA9IDA7XHJcbiAgICBpZiAoY29zQW5nbGUgIT09IDApIHtcclxuICAgICAgICB0YW5BbmdsZSA9IHNpbkFuZ2xlIC8gY29zQW5nbGU7XHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIHJpZ2h0IGFuZCBsZWZ0XHJcbiAgICAgICAgaWYgKChsZWZ0IC0gY2VudGVyLngpICogY29zQW5nbGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHlsZWZ0ID0gY2VudGVyLnkgKyB0YW5BbmdsZSAqIChsZWZ0IC0gY2VudGVyLngpO1xyXG4gICAgICAgICAgICBpbnRlcnNlY3RQb2ludHNbMF0ueCA9IGxlZnQ7XHJcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1swXS55ID0geWxlZnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgocmlnaHQgLSBjZW50ZXIueCkgKiBjb3NBbmdsZSA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgeXJpZ2h0ID0gY2VudGVyLnkgKyB0YW5BbmdsZSAqIChyaWdodCAtIGNlbnRlci54KTtcclxuXHJcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1syXS54ID0gcmlnaHQ7XHJcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1syXS55ID0geXJpZ2h0O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHNpbkFuZ2xlICE9PSAwKSB7XHJcbiAgICAgICAgY290QW5nbGUgPSBjb3NBbmdsZSAvIHNpbkFuZ2xlO1xyXG4gICAgICAgIC8vIGNhbGN1bGF0ZSAgdG9wIGFuZCBib3R0b21cclxuICAgICAgICBpZiAoKHRvcCAtIGNlbnRlci55KSAqIHNpbkFuZ2xlID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCB4dG9wID0gY2VudGVyLnggKyBjb3RBbmdsZSAqICh0b3AgLSBjZW50ZXIueSk7XHJcbiAgICAgICAgICAgIGludGVyc2VjdFBvaW50c1szXS54ID0geHRvcDtcclxuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzNdLnkgPSB0b3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICgoYm90dG9tIC0gY2VudGVyLnkpICogc2luQW5nbGUgPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHhib3R0b20gPSBjZW50ZXIueCArIGNvdEFuZ2xlICogKGJvdHRvbSAtIGNlbnRlci55KTtcclxuICAgICAgICAgICAgaW50ZXJzZWN0UG9pbnRzWzFdLnggPSB4Ym90dG9tO1xyXG4gICAgICAgICAgICBpbnRlcnNlY3RQb2ludHNbMV0ueSA9IGJvdHRvbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfY2FsY3VsYXRlVmVydGljZXMgKHNwcml0ZTogU3ByaXRlQ29tcG9uZW50KSB7XHJcbiAgICBjb25zdCBub2RlID0gc3ByaXRlLm5vZGU7XHJcbiAgICBjb25zdCB3aWR0aCA9IG5vZGUud2lkdGg7XHJcbiAgICBjb25zdCBoZWlnaHQgPSBub2RlLmhlaWdodDtcclxuICAgIGNvbnN0IGFwcHggPSBub2RlLmFuY2hvclggKiB3aWR0aDtcclxuICAgIGNvbnN0IGFwcHkgPSBub2RlLmFuY2hvclkgKiBoZWlnaHQ7XHJcblxyXG4gICAgY29uc3QgbCA9IC1hcHB4O1xyXG4gICAgY29uc3QgYiA9IC1hcHB5O1xyXG4gICAgY29uc3QgciA9IHdpZHRoIC0gYXBweDtcclxuICAgIGNvbnN0IHQgPSBoZWlnaHQgLSBhcHB5O1xyXG5cclxuICAgIGNvbnN0IHZlcnRpY2VzID0gX3ZlcnRpY2VzO1xyXG4gICAgdmVydGljZXNbMF0gPSBsO1xyXG4gICAgdmVydGljZXNbMV0gPSBiO1xyXG4gICAgdmVydGljZXNbMl0gPSByO1xyXG4gICAgdmVydGljZXNbM10gPSB0O1xyXG5cclxuICAgIGNvbnN0IGZpbGxDZW50ZXIgPSBzcHJpdGUuZmlsbENlbnRlcjtcclxuICAgIGNvbnN0IGN4ID0gX2NlbnRlci54ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlsbENlbnRlci54KSwgMSkgKiAociAtIGwpICsgbDtcclxuICAgIGNvbnN0IGN5ID0gX2NlbnRlci55ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlsbENlbnRlci55KSwgMSkgKiAodCAtIGIpICsgYjtcclxuXHJcbiAgICBfdmVydFBvc1swXS54ID0gX3ZlcnRQb3NbM10ueCA9IGw7XHJcbiAgICBfdmVydFBvc1sxXS54ID0gX3ZlcnRQb3NbMl0ueCA9IHI7XHJcbiAgICBfdmVydFBvc1swXS55ID0gX3ZlcnRQb3NbMV0ueSA9IGI7XHJcbiAgICBfdmVydFBvc1syXS55ID0gX3ZlcnRQb3NbM10ueSA9IHQ7XHJcblxyXG4gICAgZm9yIChjb25zdCBudW0gb2YgX3RyaWFuZ2xlcykge1xyXG4gICAgICAgIFZlYzIuc2V0KG51bSwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGN4ICE9PSB2ZXJ0aWNlc1swXSkge1xyXG4gICAgICAgIFZlYzIuc2V0KF90cmlhbmdsZXNbMF0sIDMsIDApO1xyXG4gICAgfVxyXG4gICAgaWYgKGN4ICE9PSB2ZXJ0aWNlc1syXSkge1xyXG4gICAgICAgIFZlYzIuc2V0KF90cmlhbmdsZXNbMl0sIDEsIDIpO1xyXG4gICAgfVxyXG4gICAgaWYgKGN5ICE9PSB2ZXJ0aWNlc1sxXSkge1xyXG4gICAgICAgIFZlYzIuc2V0KF90cmlhbmdsZXNbMV0sIDAsIDEpO1xyXG4gICAgfVxyXG4gICAgaWYgKGN5ICE9PSB2ZXJ0aWNlc1szXSkge1xyXG4gICAgICAgIFZlYzIuc2V0KF90cmlhbmdsZXNbM10sIDIsIDMpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfY2FsY3VsYXRlVVZzIChzcHJpdGVGcmFtZTogU3ByaXRlRnJhbWUpIHtcclxuICAgIGNvbnN0IGF0bGFzV2lkdGggPSBzcHJpdGVGcmFtZS53aWR0aDtcclxuICAgIGNvbnN0IGF0bGFzSGVpZ2h0ID0gc3ByaXRlRnJhbWUuaGVpZ2h0O1xyXG4gICAgY29uc3QgdGV4dHVyZVJlY3QgPSBzcHJpdGVGcmFtZS5nZXRSZWN0KCk7XHJcblxyXG4gICAgbGV0IHUwID0gMDtcclxuICAgIGxldCB1MSA9IDA7XHJcbiAgICBsZXQgdjAgPSAwO1xyXG4gICAgbGV0IHYxID0gMDtcclxuICAgIGNvbnN0IHV2cyA9IF91dnM7XHJcblxyXG4gICAgaWYgKHNwcml0ZUZyYW1lLmlzUm90YXRlZCgpKSB7XHJcbiAgICAgICAgdTAgPSAodGV4dHVyZVJlY3QueCkgLyBhdGxhc1dpZHRoO1xyXG4gICAgICAgIHUxID0gKHRleHR1cmVSZWN0LnggKyB0ZXh0dXJlUmVjdC5oZWlnaHQpIC8gYXRsYXNXaWR0aDtcclxuXHJcbiAgICAgICAgdjAgPSAodGV4dHVyZVJlY3QueSkgLyBhdGxhc0hlaWdodDtcclxuICAgICAgICB2MSA9ICh0ZXh0dXJlUmVjdC55ICsgdGV4dHVyZVJlY3Qud2lkdGgpIC8gYXRsYXNIZWlnaHQ7XHJcblxyXG4gICAgICAgIHV2c1swXSA9IHV2c1syXSA9IHUwO1xyXG4gICAgICAgIHV2c1s0XSA9IHV2c1s2XSA9IHUxO1xyXG4gICAgICAgIHV2c1szXSA9IHV2c1s3XSA9IHYxO1xyXG4gICAgICAgIHV2c1sxXSA9IHV2c1s1XSA9IHYwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB1MCA9ICh0ZXh0dXJlUmVjdC54KSAvIGF0bGFzV2lkdGg7XHJcbiAgICAgICAgdTEgPSAodGV4dHVyZVJlY3QueCArIHRleHR1cmVSZWN0LndpZHRoKSAvIGF0bGFzV2lkdGg7XHJcblxyXG4gICAgICAgIHYwID0gKHRleHR1cmVSZWN0LnkpIC8gYXRsYXNIZWlnaHQ7XHJcbiAgICAgICAgdjEgPSAodGV4dHVyZVJlY3QueSArIHRleHR1cmVSZWN0LmhlaWdodCkgLyBhdGxhc0hlaWdodDtcclxuXHJcbiAgICAgICAgdXZzWzBdID0gdXZzWzRdID0gdTA7XHJcbiAgICAgICAgdXZzWzJdID0gdXZzWzZdID0gdTE7XHJcbiAgICAgICAgdXZzWzFdID0gdXZzWzNdID0gdjE7XHJcbiAgICAgICAgdXZzWzVdID0gdXZzWzddID0gdjA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9nZXRWZXJ0QW5nbGUgKHN0YXJ0OiBWZWMyLCBlbmQ6IFZlYzIpIHtcclxuICAgIGNvbnN0IHBsYWNlbWVudFggPSBlbmQueCAtIHN0YXJ0Lng7XHJcbiAgICBjb25zdCBwbGFjZW1lbnRZID0gZW5kLnkgLSBzdGFydC55O1xyXG5cclxuICAgIGlmIChwbGFjZW1lbnRYID09PSAwICYmIHBsYWNlbWVudFkgPT09IDApIHtcclxuICAgICAgICByZXR1cm4gMDtcclxuICAgIH0gZWxzZSBpZiAocGxhY2VtZW50WCA9PT0gMCkge1xyXG4gICAgICAgIGlmIChwbGFjZW1lbnRZID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5QSSAqIDAuNTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5QSSAqIDEuNTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxldCBhbmdsZSA9IE1hdGguYXRhbihwbGFjZW1lbnRZIC8gcGxhY2VtZW50WCk7XHJcbiAgICAgICAgaWYgKHBsYWNlbWVudFggPCAwKSB7XHJcbiAgICAgICAgICAgIGFuZ2xlICs9IE1hdGguUEk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYW5nbGU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9nZW5lcmF0ZVRyaWFuZ2xlIChkYXRhczogSVJlbmRlckRhdGFbXSwgb2Zmc2V0OiBudW1iZXIsIHZlcnQwOiBWZWMyLCB2ZXJ0MTogVmVjMiwgdmVydDI6IFZlYzIpIHtcclxuICAgIGNvbnN0IHZlcnRpY2VzID0gX3ZlcnRpY2VzO1xyXG4gICAgY29uc3QgdjB4ID0gdmVydGljZXNbMF07XHJcbiAgICBjb25zdCB2MHkgPSB2ZXJ0aWNlc1sxXTtcclxuICAgIGNvbnN0IHYxeCA9IHZlcnRpY2VzWzJdO1xyXG4gICAgY29uc3QgdjF5ID0gdmVydGljZXNbM107XHJcblxyXG4gICAgZGF0YXNbb2Zmc2V0XS54ID0gdmVydDAueDtcclxuICAgIGRhdGFzW29mZnNldF0ueSA9IHZlcnQwLnk7XHJcbiAgICBkYXRhc1tvZmZzZXQgKyAxXS54ID0gdmVydDEueDtcclxuICAgIGRhdGFzW29mZnNldCArIDFdLnkgPSB2ZXJ0MS55O1xyXG4gICAgZGF0YXNbb2Zmc2V0ICsgMl0ueCA9IHZlcnQyLng7XHJcbiAgICBkYXRhc1tvZmZzZXQgKyAyXS55ID0gdmVydDIueTtcclxuXHJcbiAgICBsZXQgcHJvZ3Jlc3NYID0gMDtcclxuICAgIGxldCBwcm9ncmVzc1kgPSAwO1xyXG4gICAgcHJvZ3Jlc3NYID0gKHZlcnQwLnggLSB2MHgpIC8gKHYxeCAtIHYweCk7XHJcbiAgICBwcm9ncmVzc1kgPSAodmVydDAueSAtIHYweSkgLyAodjF5IC0gdjB5KTtcclxuICAgIF9nZW5lcmF0ZVVWKHByb2dyZXNzWCwgcHJvZ3Jlc3NZLCBkYXRhcywgb2Zmc2V0KTtcclxuXHJcbiAgICBwcm9ncmVzc1ggPSAodmVydDEueCAtIHYweCkgLyAodjF4IC0gdjB4KTtcclxuICAgIHByb2dyZXNzWSA9ICh2ZXJ0MS55IC0gdjB5KSAvICh2MXkgLSB2MHkpO1xyXG4gICAgX2dlbmVyYXRlVVYocHJvZ3Jlc3NYLCBwcm9ncmVzc1ksIGRhdGFzLCBvZmZzZXQgKyAxKTtcclxuXHJcbiAgICBwcm9ncmVzc1ggPSAodmVydDIueCAtIHYweCkgLyAodjF4IC0gdjB4KTtcclxuICAgIHByb2dyZXNzWSA9ICh2ZXJ0Mi55IC0gdjB5KSAvICh2MXkgLSB2MHkpO1xyXG4gICAgX2dlbmVyYXRlVVYocHJvZ3Jlc3NYLCBwcm9ncmVzc1ksIGRhdGFzLCBvZmZzZXQgKyAyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gX2dlbmVyYXRlVVYgKHByb2dyZXNzWDogbnVtYmVyLCBwcm9ncmVzc1k6IG51bWJlciwgZGF0YTogSVJlbmRlckRhdGFbXSwgb2Zmc2V0OiBudW1iZXIpIHtcclxuICAgIGNvbnN0IHV2cyA9IF91dnM7XHJcbiAgICBjb25zdCBweDEgPSB1dnNbMF0gKyAodXZzWzJdIC0gdXZzWzBdKSAqIHByb2dyZXNzWDtcclxuICAgIGNvbnN0IHB4MiA9IHV2c1s0XSArICh1dnNbNl0gLSB1dnNbNF0pICogcHJvZ3Jlc3NYO1xyXG4gICAgY29uc3QgcHkxID0gdXZzWzFdICsgKHV2c1szXSAtIHV2c1sxXSkgKiBwcm9ncmVzc1g7XHJcbiAgICBjb25zdCBweTIgPSB1dnNbNV0gKyAodXZzWzddIC0gdXZzWzVdKSAqIHByb2dyZXNzWDtcclxuICAgIGNvbnN0IHV2ID0gZGF0YVtvZmZzZXRdO1xyXG4gICAgdXYudSA9IHB4MSArIChweDIgLSBweDEpICogcHJvZ3Jlc3NZO1xyXG4gICAgdXYudiA9IHB5MSArIChweTIgLSBweTEpICogcHJvZ3Jlc3NZO1xyXG59XHJcblxyXG4vKipcclxuICogcmFkaWFsRmlsbGVkIOe7hOijheWZqFxyXG4gKiDlj6/pgJrov4cgY2MuVUkucmFkaWFsRmlsbGVkIOiOt+WPluivpee7hOijheWZqOOAglxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHJhZGlhbEZpbGxlZDogSUFzc2VtYmxlciA9IHtcclxuICAgIHVzZU1vZGVsOiBmYWxzZSxcclxuXHJcbiAgICBjcmVhdGVEYXRhIChzcHJpdGU6IFNwcml0ZUNvbXBvbmVudCkge1xyXG4gICAgICAgIHJldHVybiBzcHJpdGUucmVxdWVzdFJlbmRlckRhdGEoKTtcclxuICAgIH0sXHJcblxyXG4gICAgdXBkYXRlUmVuZGVyRGF0YSAoc3ByaXRlOiBTcHJpdGVDb21wb25lbnQpIHtcclxuICAgICAgICBjb25zdCBmcmFtZSA9IHNwcml0ZS5zcHJpdGVGcmFtZTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogTWF0ZXJpYWwgQVBJIGRlc2lnbiBhbmQgZXhwb3J0IGZyb20gZWRpdG9yIGNvdWxkIGFmZmVjdCB0aGUgbWF0ZXJpYWwgYWN0aXZhdGlvbiBwcm9jZXNzXHJcbiAgICAgICAgLy8gbmVlZCB0byB1cGRhdGUgdGhlIGxvZ2ljIGhlcmVcclxuICAgICAgICAvLyBpZiAoZnJhbWUpIHtcclxuICAgICAgICAvLyAgICAgaWYgKCFmcmFtZS5fb3JpZ2luYWwgJiYgZHluYW1pY0F0bGFzTWFuYWdlcikge1xyXG4gICAgICAgIC8vICAgICAgICAgZHluYW1pY0F0bGFzTWFuYWdlci5pbnNlcnRTcHJpdGVGcmFtZShmcmFtZSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgaWYgKHNwcml0ZS5fbWF0ZXJpYWwuX3RleHR1cmUgIT09IGZyYW1lLl90ZXh0dXJlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICBzcHJpdGUuX2FjdGl2YXRlTWF0ZXJpYWwoKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgY29uc3QgcmVuZGVyRGF0YSA9IHNwcml0ZS5yZW5kZXJEYXRhO1xyXG4gICAgICAgIGlmIChyZW5kZXJEYXRhICYmIGZyYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChyZW5kZXJEYXRhLnZlcnREaXJ0eSB8fCByZW5kZXJEYXRhLnV2RGlydHkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFzID0gcmVuZGVyRGF0YS5kYXRhcztcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsbFN0YXJ0ID0gc3ByaXRlLmZpbGxTdGFydDtcclxuICAgICAgICAgICAgICAgIGxldCBmaWxsUmFuZ2UgPSBzcHJpdGUuZmlsbFJhbmdlO1xyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGxSYW5nZSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWxsU3RhcnQgKz0gZmlsbFJhbmdlO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxSYW5nZSA9IC1maWxsUmFuZ2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZG8gcm91bmQgZmlsbCBzdGFydCBbMCwxKSwgaW5jbHVkZSAwLCBleGNsdWRlIDFcclxuICAgICAgICAgICAgICAgIHdoaWxlIChmaWxsU3RhcnQgPj0gMS4wKSB7IGZpbGxTdGFydCAtPSAxLjA7IH1cclxuICAgICAgICAgICAgICAgIHdoaWxlIChmaWxsU3RhcnQgPCAwLjApIHsgZmlsbFN0YXJ0ICs9IDEuMDsgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZpbGxTdGFydCAqPSBQSV8yO1xyXG4gICAgICAgICAgICAgICAgZmlsbFJhbmdlICo9IFBJXzI7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxsRW5kID0gZmlsbFN0YXJ0ICsgZmlsbFJhbmdlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHZlcnRpY2VzXHJcbiAgICAgICAgICAgICAgICBfY2FsY3VsYXRlVmVydGljZXMoc3ByaXRlKTtcclxuICAgICAgICAgICAgICAgIC8vIGJ1aWxkIHV2c1xyXG4gICAgICAgICAgICAgICAgX2NhbGN1bGF0ZVVWcyhmcmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgX2NhbGNJbnRlcnNlY3RlZFBvaW50cyhcclxuICAgICAgICAgICAgICAgICAgICBfdmVydGljZXNbMF0sIF92ZXJ0aWNlc1syXSxcclxuICAgICAgICAgICAgICAgICAgICBfdmVydGljZXNbMV0sIF92ZXJ0aWNlc1szXSxcclxuICAgICAgICAgICAgICAgICAgICBfY2VudGVyLCBmaWxsU3RhcnQsIF9pbnRlcnNlY3RQb2ludF8xLFxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIF9jYWxjSW50ZXJzZWN0ZWRQb2ludHMoXHJcbiAgICAgICAgICAgICAgICAgICAgX3ZlcnRpY2VzWzBdLCBfdmVydGljZXNbMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgX3ZlcnRpY2VzWzFdLCBfdmVydGljZXNbM10sXHJcbiAgICAgICAgICAgICAgICAgICAgX2NlbnRlciwgZmlsbFN0YXJ0ICsgZmlsbFJhbmdlLCBfaW50ZXJzZWN0UG9pbnRfMixcclxuICAgICAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG9mZnNldCA9IDA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCB0cmlhbmdsZUluZGV4ID0gMDsgdHJpYW5nbGVJbmRleCA8IDQ7ICsrdHJpYW5nbGVJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyaWFuZ2xlID0gX3RyaWFuZ2xlc1t0cmlhbmdsZUluZGV4XTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRyaWFuZ2xlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBhbGwgaW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsbFJhbmdlID49IFBJXzIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyRGF0YS5kYXRhTGVuZ3RoID0gb2Zmc2V0ICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2dlbmVyYXRlVHJpYW5nbGUoZGF0YXMsIG9mZnNldCwgX2NlbnRlciwgX3ZlcnRQb3NbdHJpYW5nbGUueF0sIF92ZXJ0UG9zW3RyaWFuZ2xlLnldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyB0ZXN0IGFnYWluc3RcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhcnRBbmdsZSA9IF9nZXRWZXJ0QW5nbGUoX2NlbnRlciwgX3ZlcnRQb3NbdHJpYW5nbGUueF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmRBbmdsZSA9IF9nZXRWZXJ0QW5nbGUoX2NlbnRlciwgX3ZlcnRQb3NbdHJpYW5nbGUueV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRBbmdsZSA8IHN0YXJ0QW5nbGUpIHsgZW5kQW5nbGUgKz0gUElfMjsgfVxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QW5nbGUgLT0gUElfMjtcclxuICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZSAtPSBQSV8yO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRlc3RpbmdcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0ZXN0SW5kZXggPSAwOyB0ZXN0SW5kZXggPCAzOyArK3Rlc3RJbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRBbmdsZSA+PSBmaWxsRW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbGwgb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRBbmdsZSA+PSBmaWxsU3RhcnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbmRlckRhdGEuZGF0YUxlbmd0aCA9IG9mZnNldCArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kQW5nbGUgPj0gZmlsbEVuZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0QW5nbGUgdG8gZmlsbEVuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nZW5lcmF0ZVRyaWFuZ2xlKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhcywgb2Zmc2V0LCBfY2VudGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmVydFBvc1t0cmlhbmdsZS54XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ludGVyc2VjdFBvaW50XzJbdHJpYW5nbGVJbmRleF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnRBbmdsZSB0byBlbmRBbmdsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nZW5lcmF0ZVRyaWFuZ2xlKGRhdGFzLCBvZmZzZXQsIF9jZW50ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92ZXJ0UG9zW3RyaWFuZ2xlLnhdLCBfdmVydFBvc1t0cmlhbmdsZS55XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydEFuZ2xlIDwgZmlsbFN0YXJ0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW5kQW5nbGUgPD0gZmlsbFN0YXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWxsIG91dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmRBbmdsZSA8PSBmaWxsRW5kKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyRGF0YS5kYXRhTGVuZ3RoID0gb2Zmc2V0ICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxsU3RhcnQgdG8gZW5kQW5nbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2VuZXJhdGVUcmlhbmdsZShkYXRhcywgb2Zmc2V0LCBfY2VudGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW50ZXJzZWN0UG9pbnRfMVt0cmlhbmdsZUluZGV4XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZlcnRQb3NbdHJpYW5nbGUueV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVuZGVyRGF0YS5kYXRhTGVuZ3RoID0gb2Zmc2V0ICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxsU3RhcnQgdG8gZmlsbEVuZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nZW5lcmF0ZVRyaWFuZ2xlKGRhdGFzLCBvZmZzZXQsIF9jZW50ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbnRlcnNlY3RQb2ludF8xW3RyaWFuZ2xlSW5kZXhdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW50ZXJzZWN0UG9pbnRfMlt0cmlhbmdsZUluZGV4XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCAyICogUElcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBbmdsZSArPSBQSV8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZSArPSBQSV8yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZW5kZXJEYXRhLmluZGljZUNvdW50ID0gcmVuZGVyRGF0YS52ZXJ0ZXhDb3VudCA9IG9mZnNldDtcclxuICAgICAgICAgICAgICAgIHJlbmRlckRhdGEudmVydERpcnR5ID0gcmVuZGVyRGF0YS51dkRpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGZpbGxCdWZmZXJzIChjb21wOiBTcHJpdGVDb21wb25lbnQsIHJlbmRlcmVyOiBVSSkge1xyXG4gICAgICAgIGNvbnN0IG5vZGUgPSBjb21wLm5vZGU7XHJcbiAgICAgICAgY29uc3QgcmVuZGVyRGF0YTogUmVuZGVyRGF0YSA9IGNvbXAucmVuZGVyRGF0YSE7XHJcbiAgICAgICAgZmlsbFZlcnRpY2VzM0Qobm9kZSwgcmVuZGVyZXIsIHJlbmRlckRhdGEsIGNvbXAuY29sb3IpO1xyXG4gICAgfSxcclxufTtcclxuIl19