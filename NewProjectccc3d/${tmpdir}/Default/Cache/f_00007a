(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../core/assets/mesh.js", "../../core/gfx/buffer.js", "../../core/gfx/define.js", "../../core/math/index.js", "../../core/renderer/scene/model.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../core/assets/mesh.js"), require("../../core/gfx/buffer.js"), require("../../core/gfx/define.js"), require("../../core/math/index.js"), require("../../core/renderer/scene/model.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.mesh, global.buffer, global.define, global.index, global.model);
    global.lineModel = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _mesh, _buffer, _define, _index, _model) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.LineModel = void 0;

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  function _createForOfIteratorHelper(o) { if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it["return"] != null) it["return"](); } finally { if (didErr) throw err; } } }; }

  function _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === "string") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === "Object" && o.constructor) n = o.constructor.name; if (n === "Map" || n === "Set") return Array.from(n); if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }

  function _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  var _vertex_attrs = [{
    name: _define.GFXAttributeName.ATTR_POSITION,
    format: _define.GFXFormat.RGB32F
  }, // xyz:position
  {
    name: _define.GFXAttributeName.ATTR_TEX_COORD,
    format: _define.GFXFormat.RGBA32F
  }, // x:index y:size zw:texcoord
  {
    name: _define.GFXAttributeName.ATTR_TEX_COORD1,
    format: _define.GFXFormat.RGB32F
  }, // xyz:velocity
  {
    name: _define.GFXAttributeName.ATTR_COLOR,
    format: _define.GFXFormat.RGBA8,
    isNormalized: true
  }];

  var _temp_v1 = new _index.Vec3();

  var _temp_v2 = new _index.Vec3();

  var LineModel = /*#__PURE__*/function (_Model) {
    _inherits(LineModel, _Model);

    function LineModel() {
      var _this;

      _classCallCheck(this, LineModel);

      _this = _possibleConstructorReturn(this, _getPrototypeOf(LineModel).call(this));
      _this._capacity = void 0;
      _this._vertSize = 0;
      _this._vBuffer = null;
      _this._vertAttrsFloatCount = 0;
      _this._vdataF32 = null;
      _this._vdataUint32 = null;
      _this._iaInfo = void 0;
      _this._iaInfoBuffer = void 0;
      _this._subMeshData = null;
      _this._vertCount = 0;
      _this._indexCount = 0;
      _this.type = _model.ModelType.LINE;
      _this._capacity = 100;
      _this._iaInfo = {
        drawInfos: [{
          vertexCount: 0,
          firstVertex: 0,
          indexCount: 0,
          firstIndex: 0,
          vertexOffset: 0,
          instanceCount: 0,
          firstInstance: 0
        }]
      };
      _this._iaInfoBuffer = _this._device.createBuffer({
        usage: _define.GFXBufferUsageBit.INDIRECT,
        memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
        size: _buffer.GFX_DRAW_INFO_SIZE,
        stride: 1
      });
      return _this;
    }

    _createClass(LineModel, [{
      key: "setCapacity",
      value: function setCapacity(capacity) {
        this._capacity = capacity;
        this.createBuffer();
      }
    }, {
      key: "createBuffer",
      value: function createBuffer() {
        this._vertSize = 0;

        var _iterator = _createForOfIteratorHelper(_vertex_attrs),
            _step;

        try {
          for (_iterator.s(); !(_step = _iterator.n()).done;) {
            var a = _step.value;
            a.offset = this._vertSize;
            this._vertSize += _define.GFXFormatInfos[a.format].size;
          }
        } catch (err) {
          _iterator.e(err);
        } finally {
          _iterator.f();
        }

        this._vertAttrsFloatCount = this._vertSize / 4; // number of float

        this._vBuffer = this._createSubMeshData();
        this._vdataF32 = new Float32Array(this._vBuffer);
        this._vdataUint32 = new Uint32Array(this._vBuffer);
      }
    }, {
      key: "_createSubMeshData",
      value: function _createSubMeshData() {
        if (this._subMeshData) {
          this.destroySubMeshData();
        }

        this._vertCount = 2;
        this._indexCount = 6;

        var vertexBuffer = this._device.createBuffer({
          usage: _define.GFXBufferUsageBit.VERTEX | _define.GFXBufferUsageBit.TRANSFER_DST,
          memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
          size: this._vertSize * this._capacity * this._vertCount,
          stride: this._vertSize
        });

        var vBuffer = new ArrayBuffer(this._vertSize * this._capacity * this._vertCount);
        vertexBuffer.update(vBuffer);
        var indices = new Uint16Array((this._capacity - 1) * this._indexCount);
        var dst = 0;

        for (var i = 0; i < this._capacity - 1; ++i) {
          var baseIdx = 2 * i;
          indices[dst++] = baseIdx;
          indices[dst++] = baseIdx + 1;
          indices[dst++] = baseIdx + 2;
          indices[dst++] = baseIdx + 3;
          indices[dst++] = baseIdx + 2;
          indices[dst++] = baseIdx + 1;
        }

        var indexBuffer = this._device.createBuffer({
          usage: _define.GFXBufferUsageBit.INDEX | _define.GFXBufferUsageBit.TRANSFER_DST,
          memUsage: _define.GFXMemoryUsageBit.HOST | _define.GFXMemoryUsageBit.DEVICE,
          size: (this._capacity - 1) * this._indexCount * Uint16Array.BYTES_PER_ELEMENT,
          stride: Uint16Array.BYTES_PER_ELEMENT
        });

        indexBuffer.update(indices);
        this._iaInfo.drawInfos[0].vertexCount = this._capacity * this._vertCount;
        this._iaInfo.drawInfos[0].indexCount = (this._capacity - 1) * this._indexCount;

        this._iaInfoBuffer.update(this._iaInfo);

        this._subMeshData = new _mesh.RenderingSubMesh([vertexBuffer], _vertex_attrs, _define.GFXPrimitiveMode.TRIANGLE_LIST);
        this._subMeshData.indexBuffer = indexBuffer;
        this._subMeshData.indirectBuffer = this._iaInfoBuffer;
        this.setSubModelMesh(0, this._subMeshData);
        return vBuffer;
      }
    }, {
      key: "addLineVertexData",
      value: function addLineVertexData(positions, width, color) {
        if (positions.length > 1) {
          var offset = 0;

          _index.Vec3.subtract(_temp_v1, positions[1], positions[0]);

          this._vdataF32[offset++] = positions[0].x;
          this._vdataF32[offset++] = positions[0].y;
          this._vdataF32[offset++] = positions[0].z;
          this._vdataF32[offset++] = 0;
          this._vdataF32[offset++] = width.evaluate(0, 1);
          this._vdataF32[offset++] = 0;
          this._vdataF32[offset++] = 0;
          this._vdataF32[offset++] = _temp_v1.x;
          this._vdataF32[offset++] = _temp_v1.y;
          this._vdataF32[offset++] = _temp_v1.z;
          this._vdataUint32[offset++] = color.evaluate(0, 1)._val;
          this._vdataF32[offset++] = positions[0].x;
          this._vdataF32[offset++] = positions[0].y;
          this._vdataF32[offset++] = positions[0].z;
          this._vdataF32[offset++] = 1;
          this._vdataF32[offset++] = width.evaluate(0, 1);
          this._vdataF32[offset++] = 0;
          this._vdataF32[offset++] = 1;
          this._vdataF32[offset++] = _temp_v1.x;
          this._vdataF32[offset++] = _temp_v1.y;
          this._vdataF32[offset++] = _temp_v1.z;
          this._vdataUint32[offset++] = color.evaluate(0, 1)._val;

          for (var i = 1; i < positions.length - 1; i++) {
            _index.Vec3.subtract(_temp_v1, positions[i - 1], positions[i]);

            _index.Vec3.subtract(_temp_v2, positions[i + 1], positions[i]);

            _index.Vec3.subtract(_temp_v2, _temp_v2, _temp_v1);

            var seg = i / positions.length;
            this._vdataF32[offset++] = positions[i].x;
            this._vdataF32[offset++] = positions[i].y;
            this._vdataF32[offset++] = positions[i].z;
            this._vdataF32[offset++] = 0;
            this._vdataF32[offset++] = width.evaluate(seg, 1);
            this._vdataF32[offset++] = seg;
            this._vdataF32[offset++] = 0;
            this._vdataF32[offset++] = _temp_v2.x;
            this._vdataF32[offset++] = _temp_v2.y;
            this._vdataF32[offset++] = _temp_v2.z;
            this._vdataUint32[offset++] = color.evaluate(seg, 1)._val;
            this._vdataF32[offset++] = positions[i].x;
            this._vdataF32[offset++] = positions[i].y;
            this._vdataF32[offset++] = positions[i].z;
            this._vdataF32[offset++] = 1;
            this._vdataF32[offset++] = width.evaluate(seg, 1);
            this._vdataF32[offset++] = seg;
            this._vdataF32[offset++] = 1;
            this._vdataF32[offset++] = _temp_v2.x;
            this._vdataF32[offset++] = _temp_v2.y;
            this._vdataF32[offset++] = _temp_v2.z;
            this._vdataUint32[offset++] = color.evaluate(seg, 1)._val;
          }

          _index.Vec3.subtract(_temp_v1, positions[positions.length - 1], positions[positions.length - 2]);

          this._vdataF32[offset++] = positions[positions.length - 1].x;
          this._vdataF32[offset++] = positions[positions.length - 1].y;
          this._vdataF32[offset++] = positions[positions.length - 1].z;
          this._vdataF32[offset++] = 0;
          this._vdataF32[offset++] = width.evaluate(1, 1);
          this._vdataF32[offset++] = 1;
          this._vdataF32[offset++] = 0;
          this._vdataF32[offset++] = _temp_v1.x;
          this._vdataF32[offset++] = _temp_v1.y;
          this._vdataF32[offset++] = _temp_v1.z;
          this._vdataUint32[offset++] = color.evaluate(1, 1)._val;
          this._vdataF32[offset++] = positions[positions.length - 1].x;
          this._vdataF32[offset++] = positions[positions.length - 1].y;
          this._vdataF32[offset++] = positions[positions.length - 1].z;
          this._vdataF32[offset++] = 1;
          this._vdataF32[offset++] = width.evaluate(1, 1);
          this._vdataF32[offset++] = 1;
          this._vdataF32[offset++] = 1;
          this._vdataF32[offset++] = _temp_v1.x;
          this._vdataF32[offset++] = _temp_v1.y;
          this._vdataF32[offset++] = _temp_v1.z;
          this._vdataUint32[offset++] = color.evaluate(1, 1)._val;
        }

        this.updateIA(Math.max(0, positions.length - 1));
      }
    }, {
      key: "updateIA",
      value: function updateIA(count) {
        var ia = this.getSubModel(0).inputAssembler;
        ia.vertexBuffers[0].update(this._vdataF32);
        ia.indexCount = this._indexCount * count;
        this._iaInfo.drawInfos[0] = ia;

        this._iaInfoBuffer.update(this._iaInfo);
      }
    }, {
      key: "destroySubMeshData",
      value: function destroySubMeshData() {
        if (this._subMeshData) {
          this._subMeshData.destroy();

          this._subMeshData = null;
        }
      }
    }]);

    return LineModel;
  }(_model.Model);

  _exports.LineModel = LineModel;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvcGFydGljbGUvbW9kZWxzL2xpbmUtbW9kZWwudHMiXSwibmFtZXMiOlsiX3ZlcnRleF9hdHRycyIsIm5hbWUiLCJHRlhBdHRyaWJ1dGVOYW1lIiwiQVRUUl9QT1NJVElPTiIsImZvcm1hdCIsIkdGWEZvcm1hdCIsIlJHQjMyRiIsIkFUVFJfVEVYX0NPT1JEIiwiUkdCQTMyRiIsIkFUVFJfVEVYX0NPT1JEMSIsIkFUVFJfQ09MT1IiLCJSR0JBOCIsImlzTm9ybWFsaXplZCIsIl90ZW1wX3YxIiwiVmVjMyIsIl90ZW1wX3YyIiwiTGluZU1vZGVsIiwiX2NhcGFjaXR5IiwiX3ZlcnRTaXplIiwiX3ZCdWZmZXIiLCJfdmVydEF0dHJzRmxvYXRDb3VudCIsIl92ZGF0YUYzMiIsIl92ZGF0YVVpbnQzMiIsIl9pYUluZm8iLCJfaWFJbmZvQnVmZmVyIiwiX3N1Yk1lc2hEYXRhIiwiX3ZlcnRDb3VudCIsIl9pbmRleENvdW50IiwidHlwZSIsIk1vZGVsVHlwZSIsIkxJTkUiLCJkcmF3SW5mb3MiLCJ2ZXJ0ZXhDb3VudCIsImZpcnN0VmVydGV4IiwiaW5kZXhDb3VudCIsImZpcnN0SW5kZXgiLCJ2ZXJ0ZXhPZmZzZXQiLCJpbnN0YW5jZUNvdW50IiwiZmlyc3RJbnN0YW5jZSIsIl9kZXZpY2UiLCJjcmVhdGVCdWZmZXIiLCJ1c2FnZSIsIkdGWEJ1ZmZlclVzYWdlQml0IiwiSU5ESVJFQ1QiLCJtZW1Vc2FnZSIsIkdGWE1lbW9yeVVzYWdlQml0IiwiSE9TVCIsIkRFVklDRSIsInNpemUiLCJHRlhfRFJBV19JTkZPX1NJWkUiLCJzdHJpZGUiLCJjYXBhY2l0eSIsImEiLCJvZmZzZXQiLCJHRlhGb3JtYXRJbmZvcyIsIl9jcmVhdGVTdWJNZXNoRGF0YSIsIkZsb2F0MzJBcnJheSIsIlVpbnQzMkFycmF5IiwiZGVzdHJveVN1Yk1lc2hEYXRhIiwidmVydGV4QnVmZmVyIiwiVkVSVEVYIiwiVFJBTlNGRVJfRFNUIiwidkJ1ZmZlciIsIkFycmF5QnVmZmVyIiwidXBkYXRlIiwiaW5kaWNlcyIsIlVpbnQxNkFycmF5IiwiZHN0IiwiaSIsImJhc2VJZHgiLCJpbmRleEJ1ZmZlciIsIklOREVYIiwiQllURVNfUEVSX0VMRU1FTlQiLCJSZW5kZXJpbmdTdWJNZXNoIiwiR0ZYUHJpbWl0aXZlTW9kZSIsIlRSSUFOR0xFX0xJU1QiLCJpbmRpcmVjdEJ1ZmZlciIsInNldFN1Yk1vZGVsTWVzaCIsInBvc2l0aW9ucyIsIndpZHRoIiwiY29sb3IiLCJsZW5ndGgiLCJzdWJ0cmFjdCIsIngiLCJ5IiwieiIsImV2YWx1YXRlIiwiX3ZhbCIsInNlZyIsInVwZGF0ZUlBIiwiTWF0aCIsIm1heCIsImNvdW50IiwiaWEiLCJnZXRTdWJNb2RlbCIsImlucHV0QXNzZW1ibGVyIiwidmVydGV4QnVmZmVycyIsImRlc3Ryb3kiLCJNb2RlbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFZQSxNQUFNQSxhQUFhLEdBQUcsQ0FDbEI7QUFBRUMsSUFBQUEsSUFBSSxFQUFFQyx5QkFBaUJDLGFBQXpCO0FBQXdDQyxJQUFBQSxNQUFNLEVBQUVDLGtCQUFVQztBQUExRCxHQURrQixFQUNrRDtBQUNwRTtBQUFFTCxJQUFBQSxJQUFJLEVBQUVDLHlCQUFpQkssY0FBekI7QUFBeUNILElBQUFBLE1BQU0sRUFBRUMsa0JBQVVHO0FBQTNELEdBRmtCLEVBRW9EO0FBQ3RFO0FBQUVQLElBQUFBLElBQUksRUFBRUMseUJBQWlCTyxlQUF6QjtBQUEwQ0wsSUFBQUEsTUFBTSxFQUFFQyxrQkFBVUM7QUFBNUQsR0FIa0IsRUFHb0Q7QUFDdEU7QUFBRUwsSUFBQUEsSUFBSSxFQUFFQyx5QkFBaUJRLFVBQXpCO0FBQXFDTixJQUFBQSxNQUFNLEVBQUVDLGtCQUFVTSxLQUF2RDtBQUE4REMsSUFBQUEsWUFBWSxFQUFFO0FBQTVFLEdBSmtCLENB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Q0FBZDtBQUNIOzs7K0JBRWdCVyxLLEVBQWU7QUFDNUIsWUFBTUMsRUFBRSxHQUFHLEtBQUtDLFdBQUwsQ0FBaUIsQ0FBakIsRUFBb0JDLGNBQS9CO0FBQ0FGLFFBQUFBLEVBQUUsQ0FBQ0csYUFBSCxDQUFpQixDQUFqQixFQUFvQmhDLE1BQXBCLENBQTJCLEtBQUszQyxTQUFoQztBQUNBd0UsUUFBQUEsRUFBRSxDQUFDM0QsVUFBSCxHQUFnQixLQUFLUCxXQUFMLEdBQW1CaUUsS0FBbkM7QUFDQSxhQUFLckUsT0FBTCxDQUFhUSxTQUFiLENBQXVCLENBQXZCLElBQTRCOEQsRUFBNUI7O0FBQ0EsYUFBS3JFLGFBQUwsQ0FBbUJ3QyxNQUFuQixDQUEwQixLQUFLekMsT0FBL0I7QUFDSDs7OzJDQUU2QjtBQUMxQixZQUFJLEtBQUtFLFlBQVQsRUFBdUI7QUFDbkIsZUFBS0EsWUFBTCxDQUFrQndFLE9BQWxCOztBQUNBLGVBQUt4RSxZQUFMLEdBQW9CLElBQXBCO0FBQ0g7QUFDSjs7OztJQW5NMEJ5RSxZIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIEBoaWRkZW5cclxuICovXHJcblxyXG5pbXBvcnQgeyBSZW5kZXJpbmdTdWJNZXNoIH0gZnJvbSAnLi4vLi4vY29yZS9hc3NldHMvbWVzaCc7XHJcbmltcG9ydCB7IEdGWF9EUkFXX0lORk9fU0laRSwgR0ZYQnVmZmVyLCBJR0ZYSW5kaXJlY3RCdWZmZXIgfSBmcm9tICcuLi8uLi9jb3JlL2dmeC9idWZmZXInO1xyXG5pbXBvcnQgeyBHRlhBdHRyaWJ1dGVOYW1lLCBHRlhCdWZmZXJVc2FnZUJpdCwgR0ZYRm9ybWF0LCBHRlhGb3JtYXRJbmZvcywgR0ZYTWVtb3J5VXNhZ2VCaXQsIEdGWFByaW1pdGl2ZU1vZGUgfSBmcm9tICcuLi8uLi9jb3JlL2dmeC9kZWZpbmUnO1xyXG5pbXBvcnQgeyBWZWMzIH0gZnJvbSAnLi4vLi4vY29yZS9tYXRoJztcclxuaW1wb3J0IHsgTW9kZWwsIE1vZGVsVHlwZSB9IGZyb20gJy4uLy4uL2NvcmUvcmVuZGVyZXIvc2NlbmUvbW9kZWwnO1xyXG5pbXBvcnQgQ3VydmVSYW5nZSBmcm9tICcuLi9hbmltYXRvci9jdXJ2ZS1yYW5nZSc7XHJcbmltcG9ydCBHcmFkaWVudFJhbmdlIGZyb20gJy4uL2FuaW1hdG9yL2dyYWRpZW50LXJhbmdlJztcclxuXHJcbmNvbnN0IF92ZXJ0ZXhfYXR0cnMgPSBbXHJcbiAgICB7IG5hbWU6IEdGWEF0dHJpYnV0ZU5hbWUuQVRUUl9QT1NJVElPTiwgZm9ybWF0OiBHRlhGb3JtYXQuUkdCMzJGIH0sIC8vIHh5ejpwb3NpdGlvblxyXG4gICAgeyBuYW1lOiBHRlhBdHRyaWJ1dGVOYW1lLkFUVFJfVEVYX0NPT1JELCBmb3JtYXQ6IEdGWEZvcm1hdC5SR0JBMzJGIH0sIC8vIHg6aW5kZXggeTpzaXplIHp3OnRleGNvb3JkXHJcbiAgICB7IG5hbWU6IEdGWEF0dHJpYnV0ZU5hbWUuQVRUUl9URVhfQ09PUkQxLCBmb3JtYXQ6IEdGWEZvcm1hdC5SR0IzMkYgfSwgLy8geHl6OnZlbG9jaXR5XHJcbiAgICB7IG5hbWU6IEdGWEF0dHJpYnV0ZU5hbWUuQVRUUl9DT0xPUiwgZm9ybWF0OiBHRlhGb3JtYXQuUkdCQTgsIGlzTm9ybWFsaXplZDogdHJ1ZSB9LFxyXG5dO1xyXG5cclxuY29uc3QgX3RlbXBfdjEgPSBuZXcgVmVjMygpO1xyXG5jb25zdCBfdGVtcF92MiA9IG5ldyBWZWMzKCk7XHJcblxyXG5leHBvcnQgY2xhc3MgTGluZU1vZGVsIGV4dGVuZHMgTW9kZWwge1xyXG5cclxuICAgIHByaXZhdGUgX2NhcGFjaXR5OiBudW1iZXI7XHJcbiAgICBwcml2YXRlIF92ZXJ0U2l6ZTogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX3ZCdWZmZXI6IEFycmF5QnVmZmVyIHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF92ZXJ0QXR0cnNGbG9hdENvdW50OiBudW1iZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBfdmRhdGFGMzI6IEZsb2F0MzJBcnJheSB8IG51bGwgPSBudWxsO1xyXG4gICAgcHJpdmF0ZSBfdmRhdGFVaW50MzI6IFVpbnQzMkFycmF5IHwgbnVsbCA9IG51bGw7XHJcbiAgICBwcml2YXRlIF9pYUluZm86IElHRlhJbmRpcmVjdEJ1ZmZlcjtcclxuICAgIHByaXZhdGUgX2lhSW5mb0J1ZmZlcjogR0ZYQnVmZmVyO1xyXG4gICAgcHJpdmF0ZSBfc3ViTWVzaERhdGE6IFJlbmRlcmluZ1N1Yk1lc2ggfCBudWxsID0gbnVsbDtcclxuICAgIHByaXZhdGUgX3ZlcnRDb3VudDogbnVtYmVyID0gMDtcclxuICAgIHByaXZhdGUgX2luZGV4Q291bnQ6IG51bWJlciA9IDA7XHJcblxyXG4gICAgY29uc3RydWN0b3IgKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gTW9kZWxUeXBlLkxJTkU7XHJcbiAgICAgICAgdGhpcy5fY2FwYWNpdHkgPSAxMDA7XHJcbiAgICAgICAgdGhpcy5faWFJbmZvID0ge1xyXG4gICAgICAgICAgICBkcmF3SW5mb3M6IFt7XHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIGZpcnN0VmVydGV4OiAwLFxyXG4gICAgICAgICAgICAgICAgaW5kZXhDb3VudDogMCxcclxuICAgICAgICAgICAgICAgIGZpcnN0SW5kZXg6IDAsXHJcbiAgICAgICAgICAgICAgICB2ZXJ0ZXhPZmZzZXQ6IDAsXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUNvdW50OiAwLFxyXG4gICAgICAgICAgICAgICAgZmlyc3RJbnN0YW5jZTogMCxcclxuICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9pYUluZm9CdWZmZXIgPSB0aGlzLl9kZXZpY2UuY3JlYXRlQnVmZmVyKHtcclxuICAgICAgICAgICAgdXNhZ2U6IEdGWEJ1ZmZlclVzYWdlQml0LklORElSRUNULFxyXG4gICAgICAgICAgICBtZW1Vc2FnZTogR0ZYTWVtb3J5VXNhZ2VCaXQuSE9TVCB8IEdGWE1lbW9yeVVzYWdlQml0LkRFVklDRSxcclxuICAgICAgICAgICAgc2l6ZTogR0ZYX0RSQVdfSU5GT19TSVpFLFxyXG4gICAgICAgICAgICBzdHJpZGU6IDEsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldENhcGFjaXR5IChjYXBhY2l0eTogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5fY2FwYWNpdHkgPSBjYXBhY2l0eTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUJ1ZmZlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjcmVhdGVCdWZmZXIgKCkge1xyXG4gICAgICAgIHRoaXMuX3ZlcnRTaXplID0gMDtcclxuICAgICAgICBmb3IgKGNvbnN0IGEgb2YgX3ZlcnRleF9hdHRycykge1xyXG4gICAgICAgICAgICAoYSBhcyBhbnkpLm9mZnNldCA9IHRoaXMuX3ZlcnRTaXplO1xyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0U2l6ZSArPSBHRlhGb3JtYXRJbmZvc1thLmZvcm1hdF0uc2l6ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdmVydEF0dHJzRmxvYXRDb3VudCA9IHRoaXMuX3ZlcnRTaXplIC8gNDsgLy8gbnVtYmVyIG9mIGZsb2F0XHJcbiAgICAgICAgdGhpcy5fdkJ1ZmZlciA9IHRoaXMuX2NyZWF0ZVN1Yk1lc2hEYXRhKCk7XHJcbiAgICAgICAgdGhpcy5fdmRhdGFGMzIgPSBuZXcgRmxvYXQzMkFycmF5KHRoaXMuX3ZCdWZmZXIpO1xyXG4gICAgICAgIHRoaXMuX3ZkYXRhVWludDMyID0gbmV3IFVpbnQzMkFycmF5KHRoaXMuX3ZCdWZmZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfY3JlYXRlU3ViTWVzaERhdGEgKCk6IEFycmF5QnVmZmVyIHtcclxuICAgICAgICBpZiAodGhpcy5fc3ViTWVzaERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95U3ViTWVzaERhdGEoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdmVydENvdW50ID0gMjtcclxuICAgICAgICB0aGlzLl9pbmRleENvdW50ID0gNjtcclxuICAgICAgICBjb25zdCB2ZXJ0ZXhCdWZmZXIgPSB0aGlzLl9kZXZpY2UuY3JlYXRlQnVmZmVyKHtcclxuICAgICAgICAgICAgdXNhZ2U6IEdGWEJ1ZmZlclVzYWdlQml0LlZFUlRFWCB8IEdGWEJ1ZmZlclVzYWdlQml0LlRSQU5TRkVSX0RTVCxcclxuICAgICAgICAgICAgbWVtVXNhZ2U6IEdGWE1lbW9yeVVzYWdlQml0LkhPU1QgfCBHRlhNZW1vcnlVc2FnZUJpdC5ERVZJQ0UsXHJcbiAgICAgICAgICAgIHNpemU6IHRoaXMuX3ZlcnRTaXplICogdGhpcy5fY2FwYWNpdHkgKiB0aGlzLl92ZXJ0Q291bnQsXHJcbiAgICAgICAgICAgIHN0cmlkZTogdGhpcy5fdmVydFNpemUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgdkJ1ZmZlcjogQXJyYXlCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5fdmVydFNpemUgKiB0aGlzLl9jYXBhY2l0eSAqIHRoaXMuX3ZlcnRDb3VudCk7XHJcbiAgICAgICAgdmVydGV4QnVmZmVyLnVwZGF0ZSh2QnVmZmVyKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5kaWNlczogVWludDE2QXJyYXkgPSBuZXcgVWludDE2QXJyYXkoKHRoaXMuX2NhcGFjaXR5IC0gMSkgKiB0aGlzLl9pbmRleENvdW50KTtcclxuICAgICAgICBsZXQgZHN0ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuX2NhcGFjaXR5IC0gMTsgKytpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VJZHggPSAyICogaTtcclxuICAgICAgICAgICAgaW5kaWNlc1tkc3QrK10gPSBiYXNlSWR4O1xyXG4gICAgICAgICAgICBpbmRpY2VzW2RzdCsrXSA9IGJhc2VJZHggKyAxO1xyXG4gICAgICAgICAgICBpbmRpY2VzW2RzdCsrXSA9IGJhc2VJZHggKyAyO1xyXG4gICAgICAgICAgICBpbmRpY2VzW2RzdCsrXSA9IGJhc2VJZHggKyAzO1xyXG4gICAgICAgICAgICBpbmRpY2VzW2RzdCsrXSA9IGJhc2VJZHggKyAyO1xyXG4gICAgICAgICAgICBpbmRpY2VzW2RzdCsrXSA9IGJhc2VJZHggKyAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgaW5kZXhCdWZmZXIgPSB0aGlzLl9kZXZpY2UuY3JlYXRlQnVmZmVyKHtcclxuICAgICAgICAgICAgdXNhZ2U6IEdGWEJ1ZmZlclVzYWdlQml0LklOREVYIHwgR0ZYQnVmZmVyVXNhZ2VCaXQuVFJBTlNGRVJfRFNULFxyXG4gICAgICAgICAgICBtZW1Vc2FnZTogR0ZYTWVtb3J5VXNhZ2VCaXQuSE9TVCB8IEdGWE1lbW9yeVVzYWdlQml0LkRFVklDRSxcclxuICAgICAgICAgICAgc2l6ZTogKHRoaXMuX2NhcGFjaXR5IC0gMSkgKiB0aGlzLl9pbmRleENvdW50ICogVWludDE2QXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbiAgICAgICAgICAgIHN0cmlkZTogVWludDE2QXJyYXkuQllURVNfUEVSX0VMRU1FTlQsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGluZGV4QnVmZmVyLnVwZGF0ZShpbmRpY2VzKTtcclxuXHJcbiAgICAgICAgdGhpcy5faWFJbmZvLmRyYXdJbmZvc1swXS52ZXJ0ZXhDb3VudCA9IHRoaXMuX2NhcGFjaXR5ICogdGhpcy5fdmVydENvdW50O1xyXG4gICAgICAgIHRoaXMuX2lhSW5mby5kcmF3SW5mb3NbMF0uaW5kZXhDb3VudCA9ICh0aGlzLl9jYXBhY2l0eSAtIDEpICogdGhpcy5faW5kZXhDb3VudDtcclxuICAgICAgICB0aGlzLl9pYUluZm9CdWZmZXIudXBkYXRlKHRoaXMuX2lhSW5mbyk7XHJcblxyXG4gICAgICAgIHRoaXMuX3N1Yk1lc2hEYXRhID0gbmV3IFJlbmRlcmluZ1N1Yk1lc2goW3ZlcnRleEJ1ZmZlcl0sIF92ZXJ0ZXhfYXR0cnMsIEdGWFByaW1pdGl2ZU1vZGUuVFJJQU5HTEVfTElTVCk7XHJcbiAgICAgICAgdGhpcy5fc3ViTWVzaERhdGEuaW5kZXhCdWZmZXIgPSBpbmRleEJ1ZmZlcjtcclxuICAgICAgICB0aGlzLl9zdWJNZXNoRGF0YS5pbmRpcmVjdEJ1ZmZlciA9IHRoaXMuX2lhSW5mb0J1ZmZlcjtcclxuICAgICAgICB0aGlzLnNldFN1Yk1vZGVsTWVzaCgwLCB0aGlzLl9zdWJNZXNoRGF0YSk7XHJcbiAgICAgICAgcmV0dXJuIHZCdWZmZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZExpbmVWZXJ0ZXhEYXRhIChwb3NpdGlvbnM6IFZlYzNbXSwgd2lkdGg6IEN1cnZlUmFuZ2UsIGNvbG9yOiBHcmFkaWVudFJhbmdlKSB7XHJcbiAgICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGxldCBvZmZzZXQ6IG51bWJlciA9IDA7XHJcbiAgICAgICAgICAgIFZlYzMuc3VidHJhY3QoX3RlbXBfdjEsIHBvc2l0aW9uc1sxXSwgcG9zaXRpb25zWzBdKTtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1swXS54O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcG9zaXRpb25zWzBdLnk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwb3NpdGlvbnNbMF0uejtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSB3aWR0aC5ldmFsdWF0ZSgwLCAxKSE7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IF90ZW1wX3YxLng7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBfdGVtcF92MS55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gX3RlbXBfdjEuejtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFVaW50MzIhW29mZnNldCsrXSA9IGNvbG9yLmV2YWx1YXRlKDAsIDEpLl92YWw7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBwb3NpdGlvbnNbMF0ueDtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1swXS55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcG9zaXRpb25zWzBdLno7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSAxO1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gd2lkdGguZXZhbHVhdGUoMCwgMSkhO1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBfdGVtcF92MS54O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gX3RlbXBfdjEueTtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IF90ZW1wX3YxLno7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhVWludDMyIVtvZmZzZXQrK10gPSBjb2xvci5ldmFsdWF0ZSgwLCAxKS5fdmFsO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHBvc2l0aW9ucy5sZW5ndGggLSAxOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIFZlYzMuc3VidHJhY3QoX3RlbXBfdjEsIHBvc2l0aW9uc1tpIC0gMV0sIHBvc2l0aW9uc1tpXSk7XHJcbiAgICAgICAgICAgICAgICBWZWMzLnN1YnRyYWN0KF90ZW1wX3YyLCBwb3NpdGlvbnNbaSArIDFdLCBwb3NpdGlvbnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgVmVjMy5zdWJ0cmFjdChfdGVtcF92MiwgX3RlbXBfdjIsIF90ZW1wX3YxKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNlZyA9IGkgLyBwb3NpdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1tpXS54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1tpXS55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1tpXS56O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gd2lkdGguZXZhbHVhdGUoc2VnLCAxKSE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gc2VnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gX3RlbXBfdjIueDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBfdGVtcF92Mi55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IF90ZW1wX3YyLno7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZGF0YVVpbnQzMiFbb2Zmc2V0KytdID0gY29sb3IuZXZhbHVhdGUoc2VnLCAxKS5fdmFsO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1tpXS54O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1tpXS55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1tpXS56O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gd2lkdGguZXZhbHVhdGUoc2VnLCAxKSE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gc2VnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gX3RlbXBfdjIueDtcclxuICAgICAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBfdGVtcF92Mi55O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IF90ZW1wX3YyLno7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl92ZGF0YVVpbnQzMiFbb2Zmc2V0KytdID0gY29sb3IuZXZhbHVhdGUoc2VnLCAxKS5fdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFZlYzMuc3VidHJhY3QoX3RlbXBfdjEsIHBvc2l0aW9uc1twb3NpdGlvbnMubGVuZ3RoIC0gMV0sIHBvc2l0aW9uc1twb3NpdGlvbnMubGVuZ3RoIC0gMl0pO1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGggLSAxXS54O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGggLSAxXS55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gcG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGggLSAxXS56O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHdpZHRoLmV2YWx1YXRlKDEsIDEpITtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSAwO1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gX3RlbXBfdjEueDtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IF90ZW1wX3YxLnk7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBfdGVtcF92MS56O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YVVpbnQzMiFbb2Zmc2V0KytdID0gY29sb3IuZXZhbHVhdGUoMSwgMSkuX3ZhbDtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1twb3NpdGlvbnMubGVuZ3RoIC0gMV0ueDtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1twb3NpdGlvbnMubGVuZ3RoIC0gMV0ueTtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IHBvc2l0aW9uc1twb3NpdGlvbnMubGVuZ3RoIC0gMV0uejtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSB3aWR0aC5ldmFsdWF0ZSgxLCAxKSE7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSAxO1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gMTtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFGMzIhW29mZnNldCsrXSA9IF90ZW1wX3YxLng7XHJcbiAgICAgICAgICAgIHRoaXMuX3ZkYXRhRjMyIVtvZmZzZXQrK10gPSBfdGVtcF92MS55O1xyXG4gICAgICAgICAgICB0aGlzLl92ZGF0YUYzMiFbb2Zmc2V0KytdID0gX3RlbXBfdjEuejtcclxuICAgICAgICAgICAgdGhpcy5fdmRhdGFVaW50MzIhW29mZnNldCsrXSA9IGNvbG9yLmV2YWx1YXRlKDEsIDEpLl92YWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlSUEoTWF0aC5tYXgoMCwgcG9zaXRpb25zLmxlbmd0aCAtIDEpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlSUEgKGNvdW50OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBpYSA9IHRoaXMuZ2V0U3ViTW9kZWwoMCkuaW5wdXRBc3NlbWJsZXIhO1xyXG4gICAgICAgIGlhLnZlcnRleEJ1ZmZlcnNbMF0udXBkYXRlKHRoaXMuX3ZkYXRhRjMyISk7XHJcbiAgICAgICAgaWEuaW5kZXhDb3VudCA9IHRoaXMuX2luZGV4Q291bnQgKiBjb3VudDtcclxuICAgICAgICB0aGlzLl9pYUluZm8uZHJhd0luZm9zWzBdID0gaWE7XHJcbiAgICAgICAgdGhpcy5faWFJbmZvQnVmZmVyLnVwZGF0ZSh0aGlzLl9pYUluZm8pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZGVzdHJveVN1Yk1lc2hEYXRhICgpIHtcclxuICAgICAgICBpZiAodGhpcy5fc3ViTWVzaERhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3ViTWVzaERhdGEuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB0aGlzLl9zdWJNZXNoRGF0YSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiJdfQ==