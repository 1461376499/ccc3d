(function (global, factory) {
  if (typeof define === "function" && define.amd) {
    define(["exports", "../../core/components/index.js", "../../core/components/ui-base/ui-transform-component.js", "../../core/data/class-decorator.js", "../../core/math/index.js", "../../core/platform/debug.js", "../../core/platform/event-manager/event-enum.js", "../../core/platform/view.js", "../../core/platform/visible-rect.js", "../../core/scene-graph/index.js", "../../core/scene-graph/node.js", "../../core/value-types/enum.js", "../../core/scene-graph/node-enum.js", "../../core/default-constants.js"], factory);
  } else if (typeof exports !== "undefined") {
    factory(exports, require("../../core/components/index.js"), require("../../core/components/ui-base/ui-transform-component.js"), require("../../core/data/class-decorator.js"), require("../../core/math/index.js"), require("../../core/platform/debug.js"), require("../../core/platform/event-manager/event-enum.js"), require("../../core/platform/view.js"), require("../../core/platform/visible-rect.js"), require("../../core/scene-graph/index.js"), require("../../core/scene-graph/node.js"), require("../../core/value-types/enum.js"), require("../../core/scene-graph/node-enum.js"), require("../../core/default-constants.js"));
  } else {
    var mod = {
      exports: {}
    };
    factory(mod.exports, global.index, global.uiTransformComponent, global.classDecorator, global.index, global.debug, global.eventEnum, global.view, global.visibleRect, global.index, global.node, global._enum, global.nodeEnum, global.defaultConstants);
    global.widgetComponent = mod.exports;
  }
})(typeof globalThis !== "undefined" ? globalThis : typeof self !== "undefined" ? self : this, function (_exports, _index, _uiTransformComponent, _classDecorator, _index2, _debug, _eventEnum, _view, _visibleRect, _index3, _node, _enum, _nodeEnum, _defaultConstants) {
  "use strict";

  Object.defineProperty(_exports, "__esModule", {
    value: true
  });
  _exports.getReadonlyNodeSize = getReadonlyNodeSize;
  _exports.computeInverseTransForTarget = computeInverseTransForTarget;
  _exports.WidgetComponent = _exports.AlignFlags = _exports.AlignMode = void 0;
  _visibleRect = _interopRequireDefault(_visibleRect);

  var _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _class, _class2, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _class3, _temp;

  function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

  function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

  function _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }

  function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

  function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

  function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

  function _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === "object" || typeof call === "function")) { return call; } return _assertThisInitialized(self); }

  function _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }

  function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return self; }

  function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }

  function _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }

  function _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }

  function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }

  var _zeroVec3 = new _index2.Vec3(); // returns a readonly size of the node


  function getReadonlyNodeSize(parent) {
    if (parent instanceof _index3.Scene) {
      // @ts-ignore
      if (_defaultConstants.EDITOR) {
        // const canvasComp = parent.getComponentInChildren(CanvasComponent);
        if (!_view.View.instance) {
          throw new Error('cc.view uninitiated');
        }

        return _view.View.instance.getDesignResolutionSize();
      }

      return _visibleRect.default;
    } else {
      return parent.getContentSize();
    }
  }

  function computeInverseTransForTarget(widgetNode, target, out_inverseTranslate, out_inverseScale) {
    var scale = widgetNode.parent ? widgetNode.parent.getScale() : _zeroVec3;
    var scaleX = scale.x;
    var scaleY = scale.y;
    var translateX = 0;
    var translateY = 0;

    for (var node = widgetNode.parent;;) {
      if (!node) {
        // ERROR: widgetNode should be child of target
        out_inverseTranslate.x = out_inverseTranslate.y = 0;
        out_inverseScale.x = out_inverseScale.y = 1;
        return;
      }

      var pos = node.getPosition();
      translateX += pos.x;
      translateY += pos.y;
      node = node.parent; // loop increment

      if (node !== target) {
        scale = node ? node.getScale() : _zeroVec3;
        var sx = scale.x;
        var sy = scale.y;
        translateX *= sx;
        translateY *= sy;
        scaleX *= sx;
        scaleY *= sy;
      } else {
        break;
      }
    }

    out_inverseScale.x = scaleX !== 0 ? 1 / scaleX : 1;
    out_inverseScale.y = scaleY !== 0 ? 1 / scaleY : 1;
    out_inverseTranslate.x = -translateX;
    out_inverseTranslate.y = -translateY;
  }
  /**
   * @en Enum for Widget's alignment mode, indicating when the widget should refresh.
   *
   * @zh Widget 的对齐模式，表示 Widget 应该何时刷新。
   */


  var AlignMode;
  _exports.AlignMode = AlignMode;

  (function (AlignMode) {
    AlignMode[AlignMode["ONCE"] = 0] = "ONCE";
    AlignMode[AlignMode["ALWAYS"] = 1] = "ALWAYS";
    AlignMode[AlignMode["ON_WINDOW_RESIZE"] = 2] = "ON_WINDOW_RESIZE";
  })(AlignMode || (_exports.AlignMode = AlignMode = {}));

  (0, _enum.ccenum)(AlignMode);
  /**
   * @en Enum for Widget's alignment flag, indicating when the widget select alignment.
   *
   * @zh Widget 的对齐标志，表示 Widget 选择对齐状态。
   */

  var AlignFlags;
  _exports.AlignFlags = AlignFlags;

  (function (AlignFlags) {
    AlignFlags[AlignFlags["TOP"] = 1] = "TOP";
    AlignFlags[AlignFlags["MID"] = 2] = "MID";
    AlignFlags[AlignFlags["BOT"] = 4] = "BOT";
    AlignFlags[AlignFlags["LEFT"] = 8] = "LEFT";
    AlignFlags[AlignFlags["CENTER"] = 16] = "CENTER";
    AlignFlags[AlignFlags["RIGHT"] = 32] = "RIGHT";
    AlignFlags[AlignFlags["HORIZONTAL"] = 56] = "HORIZONTAL";
    AlignFlags[AlignFlags["VERTICAL"] = 7] = "VERTICAL";
  })(AlignFlags || (_exports.AlignFlags = AlignFlags = {}));

  var TOP_BOT = AlignFlags.TOP | AlignFlags.BOT;
  var LEFT_RIGHT = AlignFlags.LEFT | AlignFlags.RIGHT;
  /**
   * @en
   * Stores and manipulate the anchoring based on its parent.
   * Widget are used for GUI but can also be used for other things.
   * Widget will adjust current node's position and size automatically,
   * but the results after adjustment can not be obtained until the next frame unless you call [[updateAlignment]] manually.
   *
   * @zh Widget 组件，用于设置和适配其相对于父节点的边距，Widget 通常被用于 UI 界面，也可以用于其他地方。<br/>
   * Widget 会自动调整当前节点的坐标和宽高，不过目前调整后的结果要到下一帧才能在脚本里获取到，除非你先手动调用 [[updateAlignment]]。
   */

  var WidgetComponent = (_dec = (0, _classDecorator.ccclass)('cc.WidgetComponent'), _dec2 = (0, _classDecorator.help)('i18n:cc.WidgetComponent'), _dec3 = (0, _classDecorator.executionOrder)(110), _dec4 = (0, _classDecorator.menu)('UI/Widget'), _dec5 = (0, _classDecorator.requireComponent)(_uiTransformComponent.UITransformComponent), _dec6 = (0, _classDecorator.property)({
    type: _node.Node,
    tooltip: '对齐目标'
  }), _dec7 = (0, _classDecorator.property)({
    tooltip: '是否对齐上边'
  }), _dec8 = (0, _classDecorator.property)({
    tooltip: '是否对齐下边'
  }), _dec9 = (0, _classDecorator.property)({
    tooltip: '是否对齐左边'
  }), _dec10 = (0, _classDecorator.property)({
    tooltip: '是否对齐右边'
  }), _dec11 = (0, _classDecorator.property)({
    tooltip: '是否垂直方向对齐中点，开启此项会将垂直方向其他对齐选项取消'
  }), _dec12 = (0, _classDecorator.property)({
    tooltip: '是否水平方向对齐中点，开启此选项会将水平方向其他对齐选项取消'
  }), _dec13 = (0, _classDecorator.property)({
    visible: false
  }), _dec14 = (0, _classDecorator.property)({
    visible: false
  }), _dec15 = (0, _classDecorator.property)({
    type: AlignMode,
    tooltip: '指定 widget 的对齐方式，用于决定运行时 widget 应何时更新'
  }), _dec16 = (0, _classDecorator.property)({
    editorOnly: true
  }), _dec(_class = _dec2(_class = _dec3(_class = _dec4(_class = _dec5(_class = (0, _classDecorator.executeInEditMode)(_class = (_class2 = (_temp = _class3 = /*#__PURE__*/function (_Component) {
    _inherits(WidgetComponent, _Component);

    function WidgetComponent() {
      var _getPrototypeOf2;

      var _this;

      _classCallCheck(this, WidgetComponent);

      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }

      _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(WidgetComponent)).call.apply(_getPrototypeOf2, [this].concat(args)));
      _this._lastPos = new _index2.Vec3();
      _this._lastSize = new _index2.Size();
      _this._dirty = true;

      _initializerDefineProperty(_this, "_alignFlags", _descriptor, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_target", _descriptor2, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_left", _descriptor3, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_right", _descriptor4, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_top", _descriptor5, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_bottom", _descriptor6, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_horizontalCenter", _descriptor7, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_verticalCenter", _descriptor8, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_isAbsLeft", _descriptor9, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_isAbsRight", _descriptor10, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_isAbsTop", _descriptor11, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_isAbsBottom", _descriptor12, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_isAbsHorizontalCenter", _descriptor13, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_isAbsVerticalCenter", _descriptor14, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_originalWidth", _descriptor15, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_originalHeight", _descriptor16, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_alignMode", _descriptor17, _assertThisInitialized(_this));

      _initializerDefineProperty(_this, "_lockFlags", _descriptor18, _assertThisInitialized(_this));

      return _this;
    }

    _createClass(WidgetComponent, [{
      key: "updateAlignment",

      /**
       * @en
       * Immediately perform the widget alignment. You need to manually call this method only if
       * you need to get the latest results after the alignment before the end of current frame.
       *
       * @zh
       * 立刻执行 widget 对齐操作。这个接口一般不需要手工调用。
       * 只有当你需要在当前帧结束前获得 widget 对齐后的最新结果时才需要手动调用这个方法。
       *
       * @example
       * ```typescript
       * widget.top = 10;       // change top margin
       * cc.log(widget.node.y); // not yet changed
       * widget.updateAlignment();
       * cc.log(widget.node.y); // changed
       * ```
       */
      value: function updateAlignment() {
        cc._widgetManager.updateAlignment(this.node);
      }
    }, {
      key: "_validateTargetInDEV",
      value: function _validateTargetInDEV() {
        if (!_defaultConstants.DEV) {
          return;
        }

        var target = this._target;

        if (target) {
          var isParent = this.node !== target && this.node.isChildOf(target);

          if (!isParent) {
            (0, _debug.errorID)(6500);
            this.target = null;
          }
        }
      }
    }, {
      key: "setDirty",
      value: function setDirty() {
        this._recursiveDirty();
      }
    }, {
      key: "onEnable",
      value: function onEnable() {
        this.node.getPosition(this._lastPos);
        this.node.getContentSize(this._lastSize);

        cc._widgetManager.add(this);

        this._registerEvent();

        this._registerTargetEvents();
      }
    }, {
      key: "onDisable",
      value: function onDisable() {
        cc._widgetManager.remove(this);

        this._unregisterEvent();

        this._unregisterTargetEvents();
      }
    }, {
      key: "onDestroy",
      value: function onDestroy() {
        this._removeParentEvent();
      }
    }, {
      key: "_adjustWidgetToAllowMovingInEditor",
      value: function _adjustWidgetToAllowMovingInEditor(eventType) {
        if (
        /*!EDITOR ||*/
        !(eventType & _nodeEnum.TransformBit.POSITION)) {
          return;
        }

        if (cc._widgetManager.isAligning) {
          return;
        }

        var self = this;
        var newPos = self.node.getPosition();
        var oldPos = this._lastPos;
        var delta = new _index2.Vec3(newPos);
        delta.subtract(oldPos);
        var target = self.node.parent;
        var inverseScale = new _index2.Vec3(1, 1, 1);

        if (self.target) {
          target = self.target;
          computeInverseTransForTarget(self.node, target, new _index2.Vec3(), inverseScale);
        }

        if (!target) {
          return;
        }

        var targetSize = getReadonlyNodeSize(target);
        var deltaInPercent = new _index2.Vec3();

        if (targetSize.width !== 0 && targetSize.height !== 0) {
          _index2.Vec3.set(deltaInPercent, delta.x / targetSize.width, delta.y / targetSize.height, deltaInPercent.z);
        }

        if (self.isAlignTop) {
          self._top -= (self._isAbsTop ? delta.y : deltaInPercent.y) * inverseScale.y;
        }

        if (self.isAlignBottom) {
          self._bottom += (self._isAbsBottom ? delta.y : deltaInPercent.y) * inverseScale.y;
        }

        if (self.isAlignLeft) {
          self._left += (self._isAbsLeft ? delta.x : deltaInPercent.x) * inverseScale.x;
        }

        if (self.isAlignRight) {
          self._right -= (self._isAbsRight ? delta.x : deltaInPercent.x) * inverseScale.x;
        }

        if (self.isAlignHorizontalCenter) {
          self._horizontalCenter += (self._isAbsHorizontalCenter ? delta.x : deltaInPercent.x) * inverseScale.x;
        }

        if (self.isAlignVerticalCenter) {
          self._verticalCenter += (self._isAbsVerticalCenter ? delta.y : deltaInPercent.y) * inverseScale.y;
        }

        this._recursiveDirty();
      }
    }, {
      key: "_adjustWidgetToAllowResizingInEditor",
      value: function _adjustWidgetToAllowResizingInEditor() {
        // if (!EDITOR) {
        //     return;
        // }
        if (cc._widgetManager.isAligning) {
          return;
        }

        this.setDirty();
        var self = this;
        var newSize = self.node.getContentSize();
        var oldSize = this._lastSize;
        var delta = new _index2.Vec3(newSize.width - oldSize.width, newSize.height - oldSize.height, 0);
        var target = self.node.parent;
        var inverseScale = new _index2.Vec3(1, 1, 1);

        if (self.target) {
          target = self.target;
          computeInverseTransForTarget(self.node, target, new _index2.Vec3(), inverseScale);
        }

        if (!target) {
          return;
        }

        var targetSize = getReadonlyNodeSize(target);
        var deltaInPercent = new _index2.Vec3();

        if (targetSize.width !== 0 && targetSize.height !== 0) {
          _index2.Vec3.set(deltaInPercent, delta.x / targetSize.width, delta.y / targetSize.height, deltaInPercent.z);
        }

        var anchor = self.node.getAnchorPoint();

        if (self.isAlignTop) {
          self._top -= (self._isAbsTop ? delta.y : deltaInPercent.y) * (1 - anchor.y) * inverseScale.y;
        }

        if (self.isAlignBottom) {
          self._bottom -= (self._isAbsBottom ? delta.y : deltaInPercent.y) * anchor.y * inverseScale.y;
        }

        if (self.isAlignLeft) {
          self._left -= (self._isAbsLeft ? delta.x : deltaInPercent.x) * anchor.x * inverseScale.x;
        }

        if (self.isAlignRight) {
          self._right -= (self._isAbsRight ? delta.x : deltaInPercent.x) * (1 - anchor.x) * inverseScale.x;
        }

        this._recursiveDirty();
      }
    }, {
      key: "_adjustWidgetToAnchorChanged",
      value: function _adjustWidgetToAnchorChanged() {
        this.setDirty();
      }
    }, {
      key: "_adjustTargetToParentChanged",
      value: function _adjustTargetToParentChanged(oldParent) {
        if (oldParent) {
          this._unregisterOldParentEvents(oldParent);
        }

        if (this.node.getParent()) {
          this._registerTargetEvents();
        }
      }
    }, {
      key: "_registerEvent",
      value: function _registerEvent() {
        this.node.on(_eventEnum.SystemEventType.TRANSFORM_CHANGED, this._adjustWidgetToAllowMovingInEditor, this);
        this.node.on(_eventEnum.SystemEventType.SIZE_CHANGED, this._adjustWidgetToAllowResizingInEditor, this);
        this.node.on(_eventEnum.SystemEventType.ANCHOR_CHANGED, this._adjustWidgetToAnchorChanged, this);
        this.node.on(_eventEnum.SystemEventType.PARENT_CHANGED, this._adjustTargetToParentChanged, this);
      }
    }, {
      key: "_unregisterEvent",
      value: function _unregisterEvent() {
        this.node.off(_eventEnum.SystemEventType.TRANSFORM_CHANGED, this._adjustWidgetToAllowMovingInEditor, this);
        this.node.off(_eventEnum.SystemEventType.SIZE_CHANGED, this._adjustWidgetToAllowResizingInEditor, this);
        this.node.off(_eventEnum.SystemEventType.ANCHOR_CHANGED, this._adjustWidgetToAnchorChanged, this);
      }
    }, {
      key: "_removeParentEvent",
      value: function _removeParentEvent() {
        this.node.off(_eventEnum.SystemEventType.PARENT_CHANGED, this._adjustTargetToParentChanged, this);
      }
    }, {
      key: "_autoChangedValue",
      value: function _autoChangedValue(flag, isAbs) {
        var current = (this._alignFlags & flag) > 0;

        if (!current || !this.node.parent || !this.node.parent._uiProps.uiTransformComp) {
          return;
        }

        var size = this.node.parent.getContentSize();

        if (this.isAlignLeft && flag === AlignFlags.LEFT) {
          this._left = isAbs ? this._left * size.width : this._left / size.width;
        } else if (this.isAlignRight && flag === AlignFlags.RIGHT) {
          this._right = isAbs ? this._right * size.width : this._right / size.width;
        } else if (this.isAlignHorizontalCenter && flag === AlignFlags.CENTER) {
          this._horizontalCenter = isAbs ? this._horizontalCenter * size.width : this._horizontalCenter / size.width;
        } else if (this.isAlignTop && flag === AlignFlags.TOP) {
          this._top = isAbs ? this._top * size.height : this._top / size.height;
        } else if (this.isAlignBottom && flag === AlignFlags.BOT) {
          this._bottom = isAbs ? this._bottom * size.height : this._bottom / size.height;
        } else if (this.isAbsoluteVerticalCenter && flag === AlignFlags.MID) {
          this._verticalCenter = isAbs ? this._verticalCenter / size.height : this._verticalCenter / size.height;
        }

        this._recursiveDirty();
      }
    }, {
      key: "_registerTargetEvents",
      value: function _registerTargetEvents() {
        var target = this._target || this.node.parent;

        if (target) {
          if (target.getComponent(_uiTransformComponent.UITransformComponent)) {
            target.on(_eventEnum.SystemEventType.TRANSFORM_CHANGED, this._targetChangedOperation, this);
            target.on(_eventEnum.SystemEventType.SIZE_CHANGED, this._targetChangedOperation, this);
          } else {
            cc.warnID(6501, this.node.name);
          }
        }
      }
    }, {
      key: "_unregisterTargetEvents",
      value: function _unregisterTargetEvents() {
        var target = this._target || this.node.parent;

        if (target) {
          target.off(_eventEnum.SystemEventType.TRANSFORM_CHANGED, this._targetChangedOperation, this);
          target.off(_eventEnum.SystemEventType.SIZE_CHANGED, this._targetChangedOperation, this);
        }
      }
    }, {
      key: "_unregisterOldParentEvents",
      value: function _unregisterOldParentEvents(oldParent) {
        var target = this._target || oldParent;

        if (target) {
          target.off(_eventEnum.SystemEventType.TRANSFORM_CHANGED, this._targetChangedOperation, this);
          target.off(_eventEnum.SystemEventType.SIZE_CHANGED, this._targetChangedOperation, this);
        }
      }
    }, {
      key: "_targetChangedOperation",
      value: function _targetChangedOperation() {
        this._recursiveDirty();
      }
    }, {
      key: "_setAlign",
      value: function _setAlign(flag, isAlign) {
        var current = (this._alignFlags & flag) > 0;

        if (isAlign === current) {
          return;
        }

        var isHorizontal = (flag & LEFT_RIGHT) > 0;

        if (isAlign) {
          this._alignFlags |= flag;

          if (isHorizontal) {
            this.isAlignHorizontalCenter = false;

            if (this.isStretchWidth) {
              // become stretch
              this._originalWidth = this.node.width; // test check conflict

              if (_defaultConstants.EDITOR
              /*&& !cc.engine.isPlaying*/
              ) {// TODO:
                  // _Scene.DetectConflict.checkConflict_Widget(this);
                }
            }
          } else {
            this.isAlignVerticalCenter = false;

            if (this.isStretchHeight) {
              // become stretch
              this._originalHeight = this.node.height; // test check conflict

              if (_defaultConstants.EDITOR
              /*&& !cc.engine.isPlaying*/
              ) {// TODO:
                  // _Scene.DetectConflict.checkConflict_Widget(this);
                }
            }
          }

          if (_defaultConstants.EDITOR && this.node.parent) {
            // adjust the offsets to keep the size and position unchanged after alignment changed
            cc._widgetManager.updateOffsetsToStayPut(this, flag);
          }
        } else {
          if (isHorizontal) {
            if (this.isStretchWidth) {
              // will cancel stretch
              this.node.width = this._originalWidth;
            }
          } else {
            if (this.isStretchHeight) {
              // will cancel stretch
              this.node.height = this._originalHeight;
            }
          }

          this._alignFlags &= ~flag;
        }
      }
    }, {
      key: "_recursiveDirty",
      value: function _recursiveDirty() {
        if (this._dirty) {
          return;
        }

        this._dirty = true;
      }
    }, {
      key: "target",

      /**
       * @en
       * Specifies an alignment target that can only be one of the parent nodes of the current node.
       * The default value is null, and when null, indicates the current parent.
       *
       * @zh
       * 指定一个对齐目标，只能是当前节点的其中一个父节点，默认为空，为空时表示当前父节点。
       */
      get: function get() {
        return this._target;
      },
      set: function set(value) {
        if (this._target === value) {
          return;
        }

        this._unregisterTargetEvents();

        this._target = value;

        this._registerTargetEvents();

        if (_defaultConstants.EDITOR
        /*&& !cc.engine._isPlaying*/
        && this.node.parent) {
          // adjust the offsets to keep the size and position unchanged after target changed
          cc._widgetManager.updateOffsetsToStayPut(this);
        }

        this._validateTargetInDEV();

        this._recursiveDirty();
      }
      /**
       * @en
       * Whether to align to the top.
       *
       * @zh
       * 是否对齐上边。
       */

    }, {
      key: "isAlignTop",
      get: function get() {
        return (this._alignFlags & AlignFlags.TOP) > 0;
      },
      set: function set(value) {
        this._setAlign(AlignFlags.TOP, value);

        this._recursiveDirty();
      }
      /**
       * @en
       * Whether to align to the bottom.
       *
       * @zh
       * 是否对齐下边。
       */

    }, {
      key: "isAlignBottom",
      get: function get() {
        return (this._alignFlags & AlignFlags.BOT) > 0;
      },
      set: function set(value) {
        this._setAlign(AlignFlags.BOT, value);

        this._recursiveDirty();
      }
      /**
       * @en
       * Whether to align to the left.
       *
       * @zh
       * 是否对齐左边。
       */

    }, {
      key: "isAlignLeft",
      get: function get() {
        return (this._alignFlags & AlignFlags.LEFT) > 0;
      },
      set: function set(value) {
        this._setAlign(AlignFlags.LEFT, value);

        this._recursiveDirty();
      }
      /**
       * @en
       * Whether to align to the right.
       *
       * @zh
       * 是否对齐右边。
       */

    }, {
      key: "isAlignRight",
      get: function get() {
        return (this._alignFlags & AlignFlags.RIGHT) > 0;
      },
      set: function set(value) {
        this._setAlign(AlignFlags.RIGHT, value);

        this._recursiveDirty();
      }
      /**
       * @en
       * Whether to align vertically.
       *
       * @zh
       * 是否垂直方向对齐中点，开启此项会将垂直方向其他对齐选项取消。
       */

    }, {
      key: "isAlignVerticalCenter",
      get: function get() {
        return (this._alignFlags & AlignFlags.MID) > 0;
      },
      set: function set(value) {
        if (value) {
          this.isAlignTop = false;
          this.isAlignBottom = false;
          this._alignFlags |= AlignFlags.MID;
        } else {
          this._alignFlags &= ~AlignFlags.MID;
        }

        this._recursiveDirty();
      }
      /**
       * @en
       * Whether to align horizontally.
       *
       * @zh
       * 是否水平方向对齐中点，开启此选项会将水平方向其他对齐选项取消。
       */

    }, {
      key: "isAlignHorizontalCenter",
      get: function get() {
        return (this._alignFlags & AlignFlags.CENTER) > 0;
      },
      set: function set(value) {
        if (value) {
          this.isAlignLeft = false;
          this.isAlignRight = false;
          this._alignFlags |= AlignFlags.CENTER;
        } else {
          this._alignFlags &= ~AlignFlags.CENTER;
        }

        this._recursiveDirty();
      }
      /**
       * @en
       * Whether to stretch horizontally, when enable the left and right alignment will be stretched horizontally,
       * the width setting is invalid (read only).
       *
       * @zh
       * 当前是否水平拉伸。当同时启用左右对齐时，节点将会被水平拉伸。此时节点的宽度（只读）。
       */

    }, {
      key: "isStretchWidth",
      get: function get() {
        return (this._alignFlags & LEFT_RIGHT) === LEFT_RIGHT;
      }
      /**
       * @en
       * Whether to stretch vertically, when enable the left and right alignment will be stretched vertically,
       * then height setting is invalid (read only).
       *
       * @zh
       * 当前是否垂直拉伸。当同时启用上下对齐时，节点将会被垂直拉伸，此时节点的高度（只读）。
       */

    }, {
      key: "isStretchHeight",
      get: function get() {
        return (this._alignFlags & TOP_BOT) === TOP_BOT;
      } // ALIGN MARGINS

      /**
       * @en
       * The margins between the top of this node and the top of parent node,
       * the value can be negative, Only available in 'isAlignTop' open.
       *
       * @zh
       * 本节点顶边和父节点顶边的距离，可填写负值，只有在 isAlignTop 开启时才有作用。
       */

    }, {
      key: "top",
      get: function get() {
        return this._top;
      },
      set: function set(value) {
        this._top = value;

        this._recursiveDirty();
      }
      /**
       * @EditorOnly Not for user
       */

    }, {
      key: "editorTop",
      get: function get() {
        return this._isAbsTop ? this._top : this._top * 100;
      },
      set: function set(value) {
        this._top = this._isAbsTop ? value : value / 100;

        this._recursiveDirty();
      }
      /**
       * @en
       * The margins between the bottom of this node and the bottom of parent node,
       * the value can be negative, Only available in 'isAlignBottom' open.
       *
       * @zh
       * 本节点底边和父节点底边的距离，可填写负值，只有在 isAlignBottom 开启时才有作用。
       */

    }, {
      key: "bottom",
      get: function get() {
        return this._bottom;
      },
      set: function set(value) {
        this._bottom = value;

        this._recursiveDirty();
      }
      /**
       * @EditorOnly Not for user
       */

    }, {
      key: "editorBottom",
      get: function get() {
        return this._isAbsBottom ? this._bottom : this._bottom * 100;
      },
      set: function set(value) {
        this._bottom = this._isAbsBottom ? value : value / 100;

        this._recursiveDirty();
      }
      /**
       * @en
       * The margins between the left of this node and the left of parent node,
       * the value can be negative, Only available in 'isAlignLeft' open.
       *
       * @zh
       * 本节点左边和父节点左边的距离，可填写负值，只有在 isAlignLeft 开启时才有作用。
       */

    }, {
      key: "left",
      get: function get() {
        return this._left;
      },
      set: function set(value) {
        this._left = value;

        this._recursiveDirty();
      }
      /**
       * @EditorOnly Not for user
       */

    }, {
      key: "editorLeft",
      get: function get() {
        return this._isAbsLeft ? this._left : this._left * 100;
      },
      set: function set(value) {
        this._left = this._isAbsLeft ? value : value / 100;

        this._recursiveDirty();
      }
      /**
       * @en
       * The margins between the right of this node and the right of parent node,
       * the value can be negative, Only available in 'isAlignRight' open.
       *
       * @zh
       * 本节点右边和父节点右边的距离，可填写负值，只有在 isAlignRight 开启时才有作用。
       */

    }, {
      key: "right",
      get: function get() {
        return this._right;
      },
      set: function set(value) {
        this._right = value;

        this._recursiveDirty();
      }
      /**
       * @EditorOnly Not for user
       */

    }, {
      key: "editorRight",
      get: function get() {
        return this._isAbsRight ? this._right : this._right * 100;
      },
      set: function set(value) {
        this._right = this._isAbsRight ? value : value / 100;

        this._recursiveDirty();
      }
      /**
       * @en
       * Horizontally aligns the midpoint offset value,
       * the value can be negative, Only available in 'isAlignHorizontalCenter' open.
       *
       * @zh
       * 水平居中的偏移值，可填写负值，只有在 isAlignHorizontalCenter 开启时才有作用。
       */

    }, {
      key: "horizontalCenter",
      get: function get() {
        return this._horizontalCenter;
      },
      set: function set(value) {
        this._horizontalCenter = value;

        this._recursiveDirty();
      }
      /**
       * @EditorOnly Not for user
       */

    }, {
      key: "editorHorizontalCenter",
      get: function get() {
        return this._isAbsHorizontalCenter ? this._horizontalCenter : this._horizontalCenter * 100;
      },
      set: function set(value) {
        this._horizontalCenter = this._isAbsHorizontalCenter ? value : value / 100;

        this._recursiveDirty();
      }
      /**
       * @en
       * Vertically aligns the midpoint offset value,
       * the value can be negative, Only available in 'isAlignVerticalCenter' open.
       *
       * @zh
       * 垂直居中的偏移值，可填写负值，只有在 isAlignVerticalCenter 开启时才有作用。
       */

    }, {
      key: "verticalCenter",
      get: function get() {
        return this._verticalCenter;
      },
      set: function set(value) {
        this._verticalCenter = value;

        this._recursiveDirty();
      }
      /**
       * @EditorOnly Not for user
       */

    }, {
      key: "editorVerticalCenter",
      get: function get() {
        return this._isAbsVerticalCenter ? this._verticalCenter : this._verticalCenter * 100;
      },
      set: function set(value) {
        this._verticalCenter = this._isAbsVerticalCenter ? value : value / 100;

        this._recursiveDirty();
      }
      /**
       * @en
       * If true, top is pixel margin, otherwise is percentage (0 - 1) margin relative to the parent's height.
       *
       * @zh
       * 如果为 true，"top" 将会以像素作为边距，否则将会以相对父物体高度的比例（0 到 1）作为边距。
       */

    }, {
      key: "isAbsoluteTop",
      get: function get() {
        return this._isAbsTop;
      },
      set: function set(value) {
        if (this._isAbsTop === value) {
          return;
        }

        this._isAbsTop = value;

        this._autoChangedValue(AlignFlags.TOP, this._isAbsTop);
      }
      /**
       * @en
       * If true, bottom is pixel margin, otherwise is percentage (0 - 1) margin relative to the parent's height.
       *
       * @zh
       * 如果为 true，"bottom" 将会以像素作为边距，否则将会以相对父物体高度的比例（0 到 1）作为边距。
       */

    }, {
      key: "isAbsoluteBottom",
      get: function get() {
        return this._isAbsBottom;
      },
      set: function set(value) {
        if (this._isAbsBottom === value) {
          return;
        }

        this._isAbsBottom = value;

        this._autoChangedValue(AlignFlags.BOT, this._isAbsBottom);
      }
      /**
       * @en
       * If true, left is pixel margin, otherwise is percentage (0 - 1) margin relative to the parent's width.
       *
       * @zh
       * 如果为 true，"left" 将会以像素作为边距，否则将会以相对父物体宽度的比例（0 到 1）作为边距。
       */

    }, {
      key: "isAbsoluteLeft",
      get: function get() {
        return this._isAbsLeft;
      },
      set: function set(value) {
        if (this._isAbsLeft === value) {
          return;
        }

        this._isAbsLeft = value;

        this._autoChangedValue(AlignFlags.LEFT, this._isAbsLeft);
      }
      /**
       * @en
       * If true, right is pixel margin, otherwise is percentage (0 - 1) margin relative to the parent's width.
       *
       * @zh
       * 如果为 true，"right" 将会以像素作为边距，否则将会以相对父物体宽度的比例（0 到 1）作为边距。
       */

    }, {
      key: "isAbsoluteRight",
      get: function get() {
        return this._isAbsRight;
      },
      set: function set(value) {
        if (this._isAbsRight === value) {
          return;
        }

        this._isAbsRight = value;

        this._autoChangedValue(AlignFlags.RIGHT, this._isAbsRight);
      }
      /**
       * @en
       * If true, horizontalCenter is pixel margin, otherwise is percentage (0 - 1) margin.
       *
       * @zh
       * 如果为 true，"horizontalCenter" 将会以像素作为偏移值，反之为比例（0 到 1）。
       */

    }, {
      key: "isAbsoluteHorizontalCenter",
      get: function get() {
        return this._isAbsHorizontalCenter;
      },
      set: function set(value) {
        if (this._isAbsHorizontalCenter === value) {
          return;
        }

        this._isAbsHorizontalCenter = value;

        this._autoChangedValue(AlignFlags.CENTER, this._isAbsHorizontalCenter);
      }
      /**
       * @en
       * If true, verticalCenter is pixel margin, otherwise is percentage (0 - 1) margin.
       *
       * @zh
       * 如果为 true，"verticalCenter" 将会以像素作为偏移值，反之为比例（0 到 1）。
       */

    }, {
      key: "isAbsoluteVerticalCenter",
      get: function get() {
        return this._isAbsVerticalCenter;
      },
      set: function set(value) {
        if (this._isAbsVerticalCenter === value) {
          return;
        }

        this._isAbsVerticalCenter = value;

        this._autoChangedValue(AlignFlags.MID, this._isAbsVerticalCenter);
      }
      /**
       * @en
       * Specifies the alignment mode of the Widget, which determines when the widget should refresh.
       *
       * @zh
       * 指定 Widget 的对齐模式，用于决定 Widget 应该何时刷新。
       *
       * @example
       * ```
       * widget.alignMode = cc.Widget.AlignMode.ON_WINDOW_RESIZE;
       * ```
       */

    }, {
      key: "alignMode",
      get: function get() {
        return this._alignMode;
      },
      set: function set(value) {
        this._alignMode = value;

        this._recursiveDirty();
      }
      /**
       * @zh
       * 对齐开关，由 AlignFlags 组成
       */

    }, {
      key: "alignFlags",
      get: function get() {
        return this._alignFlags;
      },
      set: function set(value) {
        if (this._alignFlags === value) {
          return;
        }

        this._alignFlags = value;

        this._recursiveDirty();
      }
    }]);

    return WidgetComponent;
  }(_index.Component), _class3.AlignMode = AlignMode, _temp), (_applyDecoratedDescriptor(_class2.prototype, "target", [_dec6], Object.getOwnPropertyDescriptor(_class2.prototype, "target"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAlignTop", [_dec7], Object.getOwnPropertyDescriptor(_class2.prototype, "isAlignTop"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAlignBottom", [_dec8], Object.getOwnPropertyDescriptor(_class2.prototype, "isAlignBottom"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAlignLeft", [_dec9], Object.getOwnPropertyDescriptor(_class2.prototype, "isAlignLeft"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAlignRight", [_dec10], Object.getOwnPropertyDescriptor(_class2.prototype, "isAlignRight"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAlignVerticalCenter", [_dec11], Object.getOwnPropertyDescriptor(_class2.prototype, "isAlignVerticalCenter"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAlignHorizontalCenter", [_dec12], Object.getOwnPropertyDescriptor(_class2.prototype, "isAlignHorizontalCenter"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isStretchWidth", [_dec13], Object.getOwnPropertyDescriptor(_class2.prototype, "isStretchWidth"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isStretchHeight", [_dec14], Object.getOwnPropertyDescriptor(_class2.prototype, "isStretchHeight"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "editorTop", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "editorTop"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "editorBottom", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "editorBottom"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "editorLeft", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "editorLeft"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "editorRight", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "editorRight"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "editorHorizontalCenter", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "editorHorizontalCenter"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "editorVerticalCenter", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "editorVerticalCenter"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAbsoluteTop", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "isAbsoluteTop"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAbsoluteBottom", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "isAbsoluteBottom"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAbsoluteLeft", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "isAbsoluteLeft"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAbsoluteRight", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "isAbsoluteRight"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAbsoluteHorizontalCenter", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "isAbsoluteHorizontalCenter"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "isAbsoluteVerticalCenter", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "isAbsoluteVerticalCenter"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "alignMode", [_dec15], Object.getOwnPropertyDescriptor(_class2.prototype, "alignMode"), _class2.prototype), _applyDecoratedDescriptor(_class2.prototype, "alignFlags", [_classDecorator.property], Object.getOwnPropertyDescriptor(_class2.prototype, "alignFlags"), _class2.prototype), _descriptor = _applyDecoratedDescriptor(_class2.prototype, "_alignFlags", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor2 = _applyDecoratedDescriptor(_class2.prototype, "_target", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return null;
    }
  }), _descriptor3 = _applyDecoratedDescriptor(_class2.prototype, "_left", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor4 = _applyDecoratedDescriptor(_class2.prototype, "_right", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor5 = _applyDecoratedDescriptor(_class2.prototype, "_top", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor6 = _applyDecoratedDescriptor(_class2.prototype, "_bottom", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor7 = _applyDecoratedDescriptor(_class2.prototype, "_horizontalCenter", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor8 = _applyDecoratedDescriptor(_class2.prototype, "_verticalCenter", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor9 = _applyDecoratedDescriptor(_class2.prototype, "_isAbsLeft", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor10 = _applyDecoratedDescriptor(_class2.prototype, "_isAbsRight", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor11 = _applyDecoratedDescriptor(_class2.prototype, "_isAbsTop", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor12 = _applyDecoratedDescriptor(_class2.prototype, "_isAbsBottom", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor13 = _applyDecoratedDescriptor(_class2.prototype, "_isAbsHorizontalCenter", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor14 = _applyDecoratedDescriptor(_class2.prototype, "_isAbsVerticalCenter", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return true;
    }
  }), _descriptor15 = _applyDecoratedDescriptor(_class2.prototype, "_originalWidth", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor16 = _applyDecoratedDescriptor(_class2.prototype, "_originalHeight", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  }), _descriptor17 = _applyDecoratedDescriptor(_class2.prototype, "_alignMode", [_classDecorator.property], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return AlignMode.ON_WINDOW_RESIZE;
    }
  }), _descriptor18 = _applyDecoratedDescriptor(_class2.prototype, "_lockFlags", [_dec16], {
    configurable: true,
    enumerable: true,
    writable: true,
    initializer: function initializer() {
      return 0;
    }
  })), _class2)) || _class) || _class) || _class) || _class) || _class) || _class);
  _exports.WidgetComponent = WidgetComponent;

  (function (_WidgetComponent) {})(WidgetComponent || (_exports.WidgetComponent = WidgetComponent = {})); // @ts-ignore


  cc.WidgetComponent = WidgetComponent; // cc.Widget = module.exports = Widget;

  cc.internal.computeInverseTransForTarget = computeInverseTransForTarget;
  cc.internal.getReadonlyNodeSize = getReadonlyNodeSize;
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkY6L2plbmtpbnMvd29ya3NwYWNlL0NyZWF0b3JfM0QvZWRpdG9yLTNkL3Jlc291cmNlcy8zZC9lbmdpbmUvY29jb3MvdWkvY29tcG9uZW50cy93aWRnZXQtY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbIl96ZXJvVmVjMyIsIlZlYzMiLCJnZXRSZWFkb25seU5vZGVTaXplIiwicGFyZW50IiwiU2NlbmUiLCJFRElUT1IiLCJWaWV3IiwiaW5zdGFuY2UiLCJFcnJvciIsImdldERlc2lnblJlc29sdXRpb25TaXplIiwidmlzaWJsZVJlY3QiLCJnZXRDb250ZW50U2l6ZSIsImNvbXB1dGVJbnZlcnNlVHJhbnNGb3JUYXJnZXQiLCJ3aWRnZXROb2RlIiwidGFyZ2V0Iiwib3V0X2ludmVyc2VUcmFuc2xhdGUiLCJvdXRfaW52ZXJzZVNjYWxlIiwic2NhbGUiLCJnZXRTY2FsZSIsInNjYWxlWCIsIngiLCJzY2FsZVkiLCJ5IiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJub2RlIiwicG9zIiwiZ2V0UG9zaXRpb24iLCJzeCIsInN5IiwiQWxpZ25Nb2RlIiwiQWxpZ25GbGFncyIsIlRPUF9CT1QiLCJUT1AiLCJCT1QiLCJMRUZUX1JJR0hUIiwiTEVGVCIsIlJJR0hUIiwiV2lkZ2V0Q29tcG9uZW50IiwiVUlUcmFuc2Zvcm1Db21wb25lbnQiLCJ0eXBlIiwiTm9kZSIsInRvb2x0aXAiLCJ2aXNpYmxlIiwiZWRpdG9yT25seSIsImV4ZWN1dGVJbkVkaXRNb2RlIiwiX2xhc3RQb3MiLCJfbGFzdFNpemUiLCJTaXplIiwiX2RpcnR5IiwiY2MiLCJfd2lkZ2V0TWFuYWdlciIsInVwZGF0ZUFsaWdubWVudCIsIkRFViIsIl90YXJnZXQiLCJpc1BhcmVudCIsImlzQ2hpbGRPZiIsIl9yZWN1cnNpdmVEaXJ0eSIsImFkZCIsIl9yZWdpc3RlckV2ZW50IiwiX3JlZ2lzdGVyVGFyZ2V0RXZlbnRzIiwicmVtb3ZlIiwiX3VucmVnaXN0ZXJFdmVudCIsIl91bnJlZ2lzdGVyVGFyZ2V0RXZlbnRzIiwiX3JlbW92ZVBhcmVudEV2ZW50IiwiZXZlbnRUeXBlIiwiVHJhbnNmb3JtQml0IiwiUE9TSVRJT04iLCJpc0FsaWduaW5nIiwic2VsZiIsIm5ld1BvcyIsIm9sZFBvcyIsImRlbHRhIiwic3VidHJhY3QiLCJpbnZlcnNlU2NhbGUiLCJ0YXJnZXRTaXplIiwiZGVsdGFJblBlcmNlbnQiLCJ3aWR0aCIsImhlaWdodCIsInNldCIsInoiLCJpc0FsaWduVG9wIiwiX3RvcCIsIl9pc0Fic1RvcCIsImlzQWxpZ25Cb3R0b20iLCJfYm90dG9tIiwiX2lzQWJzQm90dG9tIiwiaXNBbGlnbkxlZnQiLCJfbGVmdCIsIl9pc0Fic0xlZnQiLCJpc0FsaWduUmlnaHQiLCJfcmlnaHQiLCJfaXNBYnNSaWdodCIsImlzQWxpZ25Ib3Jpem9udGFsQ2VudGVyIiwiX2hvcml6b250YWxDZW50ZXIiLCJfaXNBYnNIb3Jpem9udGFsQ2VudGVyIiwiaXNBbGlnblZlcnRpY2FsQ2VudGVyIiwiX3ZlcnRpY2FsQ2VudGVyIiwiX2lzQWJzVmVydGljYWxDZW50ZXIiLCJzZXREaXJ0eSIsIm5ld1NpemUiLCJvbGRTaXplIiwiYW5jaG9yIiwiZ2V0QW5jaG9yUG9pbnQiLCJvbGRQYXJlbnQiLCJfdW5yZWdpc3Rlck9sZFBhcmVudEV2ZW50cyIsImdldFBhcmVudCIsIm9uIiwiU3lzdGVtRXZlbnRUeXBlIiwiVFJBTlNGT1JNX0NIQU5HRUQiLCJfYWRqdXN0V2lkZ2V0VG9BbGxvd01vdmluZ0luRWRpdG9yIiwiU0laRV9DSEFOR0VEIiwiX2FkanVzdFdpZGdldFRvQWxsb3dSZXNpemluZ0luRWRpdG9yIiwiQU5DSE9SX0NIQU5HRUQiLCJfYWRqdXN0V2lkZ2V0VG9BbmNob3JDaGFuZ2VkIiwiUEFSRU5UX0NIQU5HRUQiLCJfYWRqdXN0VGFyZ2V0VG9QYXJlbnRDaGFuZ2VkIiwib2ZmIiwiZmxhZyIsImlzQWJzIiwiY3VycmVudCIsIl9hbGlnbkZsYWdzIiwiX3VpUHJvcHMiLCJ1aVRyYW5zZm9ybUNvbXAiLCJzaXplIiwiQ0VOVEVSIiwiaXNBYnNvbHV0ZVZlcnRpY2FsQ2VudGVyIiwiTUlEIiwiZ2V0Q29tcG9uZW50IiwiX3RhcmdldENoYW5nZWRPcGVyYXRpb24iLCJ3YXJuSUQiLCJuYW1lIiwiaXNBbGlnbiIsImlzSG9yaXpvbnRhbCIsImlzU3RyZXRjaFdpZHRoIiwiX29yaWdpbmFsV2lkdGgiLCJpc1N0cmV0Y2hIZWlnaHQiLCJfb3JpZ2luYWxIZWlnaHQiLCJ1cGRhdGVPZmZzZXRzVG9TdGF5UHV0IiwidmFsdWUiLCJfdmFsaWRhdGVUYXJnZXRJbkRFViIsIl9zZXRBbGlnbiIsIl9hdXRvQ2hhbmdlZFZhbHVlIiwiX2FsaWduTW9kZSIsIkNvbXBvbmVudCIsInByb3BlcnR5IiwiT05fV0lORE9XX1JFU0laRSIsImludGVybmFsIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUE0Q0EsTUFBTUEsU0FBUyxHQUFHLElBQUlDLFlBQUosRUFBbEIsQyxDQUVBOzs7QUFDTyxXQUFTQyxtQkFBVCxDQUE4QkMsTUFBOUIsRUFBNEM7QUFDL0MsUUFBSUEsTUFBTSxZQUFZQyxhQUF0QixFQUE2QjtBQUN6QjtBQUNBLFVBQUlDLHdCQUFKLEVBQVk7QUFDUjtBQUNBLFlBQUksQ0FBQ0MsV0FBS0MsUUFBVixFQUFvQjtBQUNoQixnQkFBTSxJQUFJQyxLQUFKLENBQVUscUJBQVYsQ0FBTjtBQUNIOztBQUVELGVBQU9GLFdBQUtDLFFBQUwsQ0FBY0UsdUJBQWQsRUFBUDtBQUNIOztBQUVELGFBQU9DLG9CQUFQO0FBQ0gsS0FaRCxNQVlPO0FBQ0gsYUFBT1AsTUFBTSxDQUFDUSxjQUFQLEVBQVA7QUFDSDtBQUNKOztBQUVNLFdBQVNDLDRCQUFULENBQXVDQyxVQUF2QyxFQUF5REMsTUFBekQsRUFBdUVDLG9CQUF2RSxFQUFtR0MsZ0JBQW5HLEVBQTJIO0FBQzlILFFBQUlDLEtBQUssR0FBR0osVUFBVSxDQUFDVixNQUFYLEdBQW9CVSxVQUFVLENBQUNWLE1B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Q0EsbUJBQWxDIiwic291cmNlc0NvbnRlbnQiOlsiLypcclxuIENvcHlyaWdodCAoYykgMjAxMy0yMDE2IENodWtvbmcgVGVjaG5vbG9naWVzIEluYy5cclxuIENvcHlyaWdodCAoYykgMjAxNy0yMDE4IFhpYW1lbiBZYWppIFNvZnR3YXJlIENvLiwgTHRkLlxyXG5cclxuIGh0dHA6Ly93d3cuY29jb3MuY29tXHJcblxyXG4gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxyXG4gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBlbmdpbmUgc291cmNlIGNvZGUgKHRoZSBcIlNvZnR3YXJlXCIpLCBhIGxpbWl0ZWQsXHJcbiAgd29ybGR3aWRlLCByb3lhbHR5LWZyZWUsIG5vbi1hc3NpZ25hYmxlLCByZXZvY2FibGUgYW5kIG5vbi1leGNsdXNpdmUgbGljZW5zZVxyXG4gdG8gdXNlIENvY29zIENyZWF0b3Igc29sZWx5IHRvIGRldmVsb3AgZ2FtZXMgb24geW91ciB0YXJnZXQgcGxhdGZvcm1zLiBZb3Ugc2hhbGxcclxuICBub3QgdXNlIENvY29zIENyZWF0b3Igc29mdHdhcmUgZm9yIGRldmVsb3Bpbmcgb3RoZXIgc29mdHdhcmUgb3IgdG9vbHMgdGhhdCdzXHJcbiAgdXNlZCBmb3IgZGV2ZWxvcGluZyBnYW1lcy4gWW91IGFyZSBub3QgZ3JhbnRlZCB0byBwdWJsaXNoLCBkaXN0cmlidXRlLFxyXG4gIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiBDb2NvcyBDcmVhdG9yLlxyXG5cclxuIFRoZSBzb2Z0d2FyZSBvciB0b29scyBpbiB0aGlzIExpY2Vuc2UgQWdyZWVtZW50IGFyZSBsaWNlbnNlZCwgbm90IHNvbGQuXHJcbiBYaWFtZW4gWWFqaSBTb2Z0d2FyZSBDby4sIEx0ZC4gcmVzZXJ2ZXMgYWxsIHJpZ2h0cyBub3QgZXhwcmVzc2x5IGdyYW50ZWQgdG8geW91LlxyXG5cclxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcclxuIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG4gRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXHJcbiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXHJcbiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG4gT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxyXG4gVEhFIFNPRlRXQVJFLlxyXG4qL1xyXG5cclxuLyoqXHJcbiAqIEBjYXRlZ29yeSB1aVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJy4uLy4uL2NvcmUvY29tcG9uZW50cyc7XHJcbmltcG9ydCB7IFVJVHJhbnNmb3JtQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vY29yZS9jb21wb25lbnRzL3VpLWJhc2UvdWktdHJhbnNmb3JtLWNvbXBvbmVudCc7XHJcbmltcG9ydCB7IGNjY2xhc3MsIGhlbHAsIGV4ZWN1dGVJbkVkaXRNb2RlLCBleGVjdXRpb25PcmRlciwgbWVudSwgcHJvcGVydHksIHJlcXVpcmVDb21wb25lbnQgfSBmcm9tICcuLi8uLi9jb3JlL2RhdGEvY2xhc3MtZGVjb3JhdG9yJztcclxuaW1wb3J0IHsgU2l6ZSwgVmVjMyB9IGZyb20gJy4uLy4uL2NvcmUvbWF0aCc7XHJcbmltcG9ydCB7IGVycm9ySUQgfSBmcm9tICcuLi8uLi9jb3JlL3BsYXRmb3JtL2RlYnVnJztcclxuaW1wb3J0IHsgU3lzdGVtRXZlbnRUeXBlIH0gZnJvbSAnLi4vLi4vY29yZS9wbGF0Zm9ybS9ldmVudC1tYW5hZ2VyL2V2ZW50LWVudW0nO1xyXG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnLi4vLi4vY29yZS9wbGF0Zm9ybS92aWV3JztcclxuaW1wb3J0IHZpc2libGVSZWN0IGZyb20gJy4uLy4uL2NvcmUvcGxhdGZvcm0vdmlzaWJsZS1yZWN0JztcclxuaW1wb3J0IHsgU2NlbmUgfSBmcm9tICcuLi8uLi9jb3JlL3NjZW5lLWdyYXBoJztcclxuaW1wb3J0IHsgTm9kZSB9IGZyb20gJy4uLy4uL2NvcmUvc2NlbmUtZ3JhcGgvbm9kZSc7XHJcbmltcG9ydCB7IGNjZW51bSB9IGZyb20gJy4uLy4uL2NvcmUvdmFsdWUtdHlwZXMvZW51bSc7XHJcbmltcG9ydCB7IFRyYW5zZm9ybUJpdCB9IGZyb20gJy4uLy4uL2NvcmUvc2NlbmUtZ3JhcGgvbm9kZS1lbnVtJztcclxuaW1wb3J0IHsgRURJVE9SLCBERVYgfSBmcm9tICdpbnRlcm5hbDpjb25zdGFudHMnO1xyXG5cclxuY29uc3QgX3plcm9WZWMzID0gbmV3IFZlYzMoKTtcclxuXHJcbi8vIHJldHVybnMgYSByZWFkb25seSBzaXplIG9mIHRoZSBub2RlXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRSZWFkb25seU5vZGVTaXplIChwYXJlbnQ6IE5vZGUpIHtcclxuICAgIGlmIChwYXJlbnQgaW5zdGFuY2VvZiBTY2VuZSkge1xyXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcclxuICAgICAgICBpZiAoRURJVE9SKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IGNhbnZhc0NvbXAgPSBwYXJlbnQuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihDYW52YXNDb21wb25lbnQpO1xyXG4gICAgICAgICAgICBpZiAoIVZpZXcuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2MudmlldyB1bmluaXRpYXRlZCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gVmlldy5pbnN0YW5jZS5nZXREZXNpZ25SZXNvbHV0aW9uU2l6ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHZpc2libGVSZWN0O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcGFyZW50LmdldENvbnRlbnRTaXplKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlSW52ZXJzZVRyYW5zRm9yVGFyZ2V0ICh3aWRnZXROb2RlOiBOb2RlLCB0YXJnZXQ6IE5vZGUsIG91dF9pbnZlcnNlVHJhbnNsYXRlOiBWZWMzLCBvdXRfaW52ZXJzZVNjYWxlOiBWZWMzKSB7XHJcbiAgICBsZXQgc2NhbGUgPSB3aWRnZXROb2RlLnBhcmVudCA/IHdpZGdldE5vZGUucGFyZW50LmdldFNjYWxlKCkgOiBfemVyb1ZlYzM7XHJcbiAgICBsZXQgc2NhbGVYID0gc2NhbGUueDtcclxuICAgIGxldCBzY2FsZVkgPSBzY2FsZS55O1xyXG4gICAgbGV0IHRyYW5zbGF0ZVggPSAwO1xyXG4gICAgbGV0IHRyYW5zbGF0ZVkgPSAwO1xyXG4gICAgZm9yIChsZXQgbm9kZSA9IHdpZGdldE5vZGUucGFyZW50OyA7KSB7XHJcbiAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICAgIC8vIEVSUk9SOiB3aWRnZXROb2RlIHNob3VsZCBiZSBjaGlsZCBvZiB0YXJnZXRcclxuICAgICAgICAgICAgb3V0X2ludmVyc2VUcmFuc2xhdGUueCA9IG91dF9pbnZlcnNlVHJhbnNsYXRlLnkgPSAwO1xyXG4gICAgICAgICAgICBvdXRfaW52ZXJzZVNjYWxlLnggPSBvdXRfaW52ZXJzZVNjYWxlLnkgPSAxO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBwb3MgPSBub2RlLmdldFBvc2l0aW9uKCk7XHJcbiAgICAgICAgdHJhbnNsYXRlWCArPSBwb3MueDtcclxuICAgICAgICB0cmFuc2xhdGVZICs9IHBvcy55O1xyXG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDsgICAgLy8gbG9vcCBpbmNyZW1lbnRcclxuXHJcbiAgICAgICAgaWYgKG5vZGUgIT09IHRhcmdldCkge1xyXG4gICAgICAgICAgICBzY2FsZSA9IG5vZGUgPyBub2RlLmdldFNjYWxlKCkgOiBfemVyb1ZlYzM7XHJcbiAgICAgICAgICAgIGNvbnN0IHN4ID0gc2NhbGUueDtcclxuICAgICAgICAgICAgY29uc3Qgc3kgPSBzY2FsZS55O1xyXG4gICAgICAgICAgICB0cmFuc2xhdGVYICo9IHN4O1xyXG4gICAgICAgICAgICB0cmFuc2xhdGVZICo9IHN5O1xyXG4gICAgICAgICAgICBzY2FsZVggKj0gc3g7XHJcbiAgICAgICAgICAgIHNjYWxlWSAqPSBzeTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvdXRfaW52ZXJzZVNjYWxlLnggPSBzY2FsZVggIT09IDAgPyAoMSAvIHNjYWxlWCkgOiAxO1xyXG4gICAgb3V0X2ludmVyc2VTY2FsZS55ID0gc2NhbGVZICE9PSAwID8gKDEgLyBzY2FsZVkpIDogMTtcclxuICAgIG91dF9pbnZlcnNlVHJhbnNsYXRlLnggPSAtdHJhbnNsYXRlWDtcclxuICAgIG91dF9pbnZlcnNlVHJhbnNsYXRlLnkgPSAtdHJhbnNsYXRlWTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBlbiBFbnVtIGZvciBXaWRnZXQncyBhbGlnbm1lbnQgbW9kZSwgaW5kaWNhdGluZyB3aGVuIHRoZSB3aWRnZXQgc2hvdWxkIHJlZnJlc2guXHJcbiAqXHJcbiAqIEB6aCBXaWRnZXQg55qE5a+56b2Q5qih5byP77yM6KGo56S6IFdpZGdldCDlupTor6XkvZXml7bliLfmlrDjgIJcclxuICovXHJcbmV4cG9ydCBlbnVtIEFsaWduTW9kZSB7XHJcbiAgICAvKipcclxuICAgICAqIEBlbiBPbmx5IGFsaWduIG9uY2Ugd2hlbiB0aGUgV2lkZ2V0IGlzIGVuYWJsZWQgZm9yIHRoZSBmaXJzdCB0aW1lLlxyXG4gICAgICogVGhpcyB3aWxsIGFsbG93IHRoZSBzY3JpcHQgb3IgYW5pbWF0aW9uIHRvIGNvbnRpbnVlIGNvbnRyb2xsaW5nIHRoZSBjdXJyZW50IG5vZGUuXHJcbiAgICAgKiBJdCB3aWxsIG9ubHkgYmUgYWxpZ25lZCBvbmNlIGJlZm9yZSB0aGUgZW5kIG9mIGZyYW1lIHdoZW4gb25FbmFibGUgaXMgY2FsbGVkLHRoZW4gaW1tZWRpYXRlbHkgZGlzYWJsZXMgdGhlIFdpZGdldC5cclxuICAgICAqXHJcbiAgICAgKiBAemgg5LuF5ZyoIFdpZGdldCDnrKzkuIDmrKHmv4DmtLvml7blr7npvZDkuIDmrKHvvIzkvr/kuo7ohJrmnKzmiJbliqjnlLvnu6fnu63mjqfliLblvZPliY3oioLngrnjgII8YnIvPlxyXG4gICAgICog5byA5ZCv5ZCO5Lya5ZyoIG9uRW5hYmxlIOaXtuaJgOWcqOeahOmCo+S4gOW4p+e7k+adn+WJjeWvuem9kOS4gOasoe+8jOeEtuWQjueri+WIu+emgeeUqOivpSBXaWRnZXTjgIJcclxuICAgICAqL1xyXG4gICAgT05DRSA9IDAsXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBLZWVwIGFsaWduaW5nIGFsbCB0aGUgd2F5LlxyXG4gICAgICpcclxuICAgICAqIEB6aCAg5aeL57uI5L+d5oyB5a+56b2Q44CCXHJcbiAgICAgKi9cclxuICAgIEFMV0FZUyA9IDEsXHJcbiAgICAvKipcclxuICAgICAqIEB6aFxyXG4gICAgICog5LiA5byA5aeL5Lya5YOPIE9OQ0Ug5LiA5qC35a+56b2Q5LiA5qyh77yM5LmL5ZCO5q+P5b2T56qX5Y+j5aSn5bCP5pS55Y+Y5pe26L+Y5Lya6YeN5paw5a+56b2Q44CCXHJcbiAgICAgKi9cclxuICAgIE9OX1dJTkRPV19SRVNJWkUgPSAyLFxyXG59XHJcblxyXG5jY2VudW0oQWxpZ25Nb2RlKTtcclxuXHJcbi8qKlxyXG4gKiBAZW4gRW51bSBmb3IgV2lkZ2V0J3MgYWxpZ25tZW50IGZsYWcsIGluZGljYXRpbmcgd2hlbiB0aGUgd2lkZ2V0IHNlbGVjdCBhbGlnbm1lbnQuXHJcbiAqXHJcbiAqIEB6aCBXaWRnZXQg55qE5a+56b2Q5qCH5b+X77yM6KGo56S6IFdpZGdldCDpgInmi6nlr7npvZDnirbmgIHjgIJcclxuICovXHJcbmV4cG9ydCBlbnVtIEFsaWduRmxhZ3Mge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gQWxpZ24gdG9wLlxyXG4gICAgICpcclxuICAgICAqIEB6aCDkuIrovrnlr7npvZDjgIJcclxuICAgICAqL1xyXG4gICAgVE9QID0gMSA8PCAwLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gQWxpZ24gbWlkZGxlLlxyXG4gICAgICpcclxuICAgICAqIEB6aCDlnoLnm7TkuK3lv4Plr7npvZDjgIJcclxuICAgICAqL1xyXG4gICAgTUlEID0gMSA8PCAxLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gQWxpZ24gYm90dG9tLlxyXG4gICAgICpcclxuICAgICAqIEB6aCDkuIvovrnlr7npvZDjgIJcclxuICAgICAqL1xyXG4gICAgQk9UID0gMSA8PCAyLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gQWxpZ24gbGVmdC5cclxuICAgICAqXHJcbiAgICAgKiBAemgg5bem6L655a+56b2Q44CCXHJcbiAgICAgKi9cclxuICAgIExFRlQgPSAxIDw8IDMsXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBBbGlnbiBjZW50ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHpoIOaoquWQkeS4reW/g+Wvuem9kOOAglxyXG4gICAgICovXHJcbiAgICBDRU5URVIgPSAxIDw8IDQsXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBBbGlnbiByaWdodC5cclxuICAgICAqXHJcbiAgICAgKiBAemgg5Y+z6L655a+56b2Q44CCXHJcbiAgICAgKi9cclxuICAgIFJJR0hUID0gMSA8PCA1LFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW4gQWxpZ24gaG9yaXpvbnRhbC5cclxuICAgICAqXHJcbiAgICAgKiBAemgg5qiq5ZCR5a+56b2Q44CCXHJcbiAgICAgKi9cclxuICAgIEhPUklaT05UQUwgPSBMRUZUIHwgQ0VOVEVSIHwgUklHSFQsXHJcbiAgICAvKipcclxuICAgICAqIEBlbiBBbGlnbiB2ZXJ0aWNhbC5cclxuICAgICAqXHJcbiAgICAgKiBAemgg57q15ZCR5a+56b2Q44CCXHJcbiAgICAgKi9cclxuICAgIFZFUlRJQ0FMID0gVE9QIHwgTUlEIHwgQk9ULFxyXG59XHJcblxyXG5jb25zdCBUT1BfQk9UID0gQWxpZ25GbGFncy5UT1AgfCBBbGlnbkZsYWdzLkJPVDtcclxuY29uc3QgTEVGVF9SSUdIVCA9IEFsaWduRmxhZ3MuTEVGVCB8IEFsaWduRmxhZ3MuUklHSFQ7XHJcblxyXG4vKipcclxuICogQGVuXHJcbiAqIFN0b3JlcyBhbmQgbWFuaXB1bGF0ZSB0aGUgYW5jaG9yaW5nIGJhc2VkIG9uIGl0cyBwYXJlbnQuXHJcbiAqIFdpZGdldCBhcmUgdXNlZCBmb3IgR1VJIGJ1dCBjYW4gYWxzbyBiZSB1c2VkIGZvciBvdGhlciB0aGluZ3MuXHJcbiAqIFdpZGdldCB3aWxsIGFkanVzdCBjdXJyZW50IG5vZGUncyBwb3NpdGlvbiBhbmQgc2l6ZSBhdXRvbWF0aWNhbGx5LFxyXG4gKiBidXQgdGhlIHJlc3VsdHMgYWZ0ZXIgYWRqdXN0bWVudCBjYW4gbm90IGJlIG9idGFpbmVkIHVudGlsIHRoZSBuZXh0IGZyYW1lIHVubGVzcyB5b3UgY2FsbCBbW3VwZGF0ZUFsaWdubWVudF1dIG1hbnVhbGx5LlxyXG4gKlxyXG4gKiBAemggV2lkZ2V0IOe7hOS7tu+8jOeUqOS6juiuvue9ruWSjOmAgumFjeWFtuebuOWvueS6jueItuiKgueCueeahOi+uei3ne+8jFdpZGdldCDpgJrluLjooqvnlKjkuo4gVUkg55WM6Z2i77yM5Lmf5Y+v5Lul55So5LqO5YW25LuW5Zyw5pa544CCPGJyLz5cclxuICogV2lkZ2V0IOS8muiHquWKqOiwg+aVtOW9k+WJjeiKgueCueeahOWdkOagh+WSjOWuvemrmO+8jOS4jei/h+ebruWJjeiwg+aVtOWQjueahOe7k+aenOimgeWIsOS4i+S4gOW4p+aJjeiDveWcqOiEmuacrOmHjOiOt+WPluWIsO+8jOmZpOmdnuS9oOWFiOaJi+WKqOiwg+eUqCBbW3VwZGF0ZUFsaWdubWVudF1d44CCXHJcbiAqL1xyXG5AY2NjbGFzcygnY2MuV2lkZ2V0Q29tcG9uZW50JylcclxuQGhlbHAoJ2kxOG46Y2MuV2lkZ2V0Q29tcG9uZW50JylcclxuQGV4ZWN1dGlvbk9yZGVyKDExMClcclxuQG1lbnUoJ1VJL1dpZGdldCcpXHJcbkByZXF1aXJlQ29tcG9uZW50KFVJVHJhbnNmb3JtQ29tcG9uZW50KVxyXG5AZXhlY3V0ZUluRWRpdE1vZGVcclxuZXhwb3J0IGNsYXNzIFdpZGdldENvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogU3BlY2lmaWVzIGFuIGFsaWdubWVudCB0YXJnZXQgdGhhdCBjYW4gb25seSBiZSBvbmUgb2YgdGhlIHBhcmVudCBub2RlcyBvZiB0aGUgY3VycmVudCBub2RlLlxyXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgbnVsbCwgYW5kIHdoZW4gbnVsbCwgaW5kaWNhdGVzIHRoZSBjdXJyZW50IHBhcmVudC5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOaMh+WumuS4gOS4quWvuem9kOebruagh++8jOWPquiDveaYr+W9k+WJjeiKgueCueeahOWFtuS4reS4gOS4queItuiKgueCue+8jOm7mOiupOS4uuepuu+8jOS4uuepuuaXtuihqOekuuW9k+WJjeeItuiKgueCueOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHR5cGU6IE5vZGUsXHJcbiAgICAgICAgdG9vbHRpcDon5a+56b2Q55uu5qCHJyxcclxuICAgIH0pXHJcbiAgICBnZXQgdGFyZ2V0ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0O1xyXG4gICAgfVxyXG5cclxuICAgIHNldCB0YXJnZXQgKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3RhcmdldCA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdW5yZWdpc3RlclRhcmdldEV2ZW50cygpO1xyXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyVGFyZ2V0RXZlbnRzKCk7XHJcbiAgICAgICAgaWYgKEVESVRPUiAvKiYmICFjYy5lbmdpbmUuX2lzUGxheWluZyovICYmIHRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgLy8gYWRqdXN0IHRoZSBvZmZzZXRzIHRvIGtlZXAgdGhlIHNpemUgYW5kIHBvc2l0aW9uIHVuY2hhbmdlZCBhZnRlciB0YXJnZXQgY2hhbmdlZFxyXG4gICAgICAgICAgICBjYy5fd2lkZ2V0TWFuYWdlci51cGRhdGVPZmZzZXRzVG9TdGF5UHV0KHRoaXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVUYXJnZXRJbkRFVigpO1xyXG5cclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBXaGV0aGVyIHRvIGFsaWduIHRvIHRoZSB0b3AuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmmK/lkKblr7npvZDkuIrovrnjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0b29sdGlwOifmmK/lkKblr7npvZDkuIrovrknLFxyXG4gICAgfSlcclxuICAgIGdldCBpc0FsaWduVG9wICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2FsaWduRmxhZ3MgJiBBbGlnbkZsYWdzLlRPUCkgPiAwO1xyXG4gICAgfVxyXG4gICAgc2V0IGlzQWxpZ25Ub3AgKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0QWxpZ24oQWxpZ25GbGFncy5UT1AsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBXaGV0aGVyIHRvIGFsaWduIHRvIHRoZSBib3R0b20uXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmmK/lkKblr7npvZDkuIvovrnjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0b29sdGlwOifmmK/lkKblr7npvZDkuIvovrknLFxyXG4gICAgfSlcclxuICAgIGdldCBpc0FsaWduQm90dG9tICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2FsaWduRmxhZ3MgJiBBbGlnbkZsYWdzLkJPVCkgPiAwO1xyXG4gICAgfVxyXG4gICAgc2V0IGlzQWxpZ25Cb3R0b20gKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fc2V0QWxpZ24oQWxpZ25GbGFncy5CT1QsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBXaGV0aGVyIHRvIGFsaWduIHRvIHRoZSBsZWZ0LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5piv5ZCm5a+56b2Q5bem6L6544CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDon5piv5ZCm5a+56b2Q5bem6L65JyxcclxuICAgIH0pXHJcbiAgICBnZXQgaXNBbGlnbkxlZnQgKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5fYWxpZ25GbGFncyAmIEFsaWduRmxhZ3MuTEVGVCkgPiAwO1xyXG4gICAgfVxyXG4gICAgc2V0IGlzQWxpZ25MZWZ0ICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldEFsaWduKEFsaWduRmxhZ3MuTEVGVCwgdmFsdWUpO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFdoZXRoZXIgdG8gYWxpZ24gdG8gdGhlIHJpZ2h0LlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5piv5ZCm5a+56b2Q5Y+z6L6544CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdG9vbHRpcDon5piv5ZCm5a+56b2Q5Y+z6L65JyxcclxuICAgIH0pXHJcbiAgICBnZXQgaXNBbGlnblJpZ2h0ICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2FsaWduRmxhZ3MgJiBBbGlnbkZsYWdzLlJJR0hUKSA+IDA7XHJcbiAgICB9XHJcbiAgICBzZXQgaXNBbGlnblJpZ2h0ICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3NldEFsaWduKEFsaWduRmxhZ3MuUklHSFQsIHZhbHVlKTtcclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBXaGV0aGVyIHRvIGFsaWduIHZlcnRpY2FsbHkuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDmmK/lkKblnoLnm7TmlrnlkJHlr7npvZDkuK3ngrnvvIzlvIDlkK/mraTpobnkvJrlsIblnoLnm7TmlrnlkJHlhbbku5blr7npvZDpgInpobnlj5bmtojjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB0b29sdGlwOifmmK/lkKblnoLnm7TmlrnlkJHlr7npvZDkuK3ngrnvvIzlvIDlkK/mraTpobnkvJrlsIblnoLnm7TmlrnlkJHlhbbku5blr7npvZDpgInpobnlj5bmtognLFxyXG4gICAgfSlcclxuICAgIGdldCBpc0FsaWduVmVydGljYWxDZW50ZXIgKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5fYWxpZ25GbGFncyAmIEFsaWduRmxhZ3MuTUlEKSA+IDA7XHJcbiAgICB9XHJcbiAgICBzZXQgaXNBbGlnblZlcnRpY2FsQ2VudGVyICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzQWxpZ25Ub3AgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pc0FsaWduQm90dG9tID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX2FsaWduRmxhZ3MgfD0gQWxpZ25GbGFncy5NSUQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYWxpZ25GbGFncyAmPSB+QWxpZ25GbGFncy5NSUQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBXaGV0aGVyIHRvIGFsaWduIGhvcml6b250YWxseS5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOaYr+WQpuawtOW5s+aWueWQkeWvuem9kOS4reeCue+8jOW8gOWQr+atpOmAiemhueS8muWwhuawtOW5s+aWueWQkeWFtuS7luWvuem9kOmAiemhueWPlua2iOOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHRvb2x0aXA6J+aYr+WQpuawtOW5s+aWueWQkeWvuem9kOS4reeCue+8jOW8gOWQr+atpOmAiemhueS8muWwhuawtOW5s+aWueWQkeWFtuS7luWvuem9kOmAiemhueWPlua2iCcsXHJcbiAgICB9KVxyXG4gICAgZ2V0IGlzQWxpZ25Ib3Jpem9udGFsQ2VudGVyICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2FsaWduRmxhZ3MgJiBBbGlnbkZsYWdzLkNFTlRFUikgPiAwO1xyXG4gICAgfVxyXG4gICAgc2V0IGlzQWxpZ25Ib3Jpem9udGFsQ2VudGVyICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzQWxpZ25MZWZ0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXNBbGlnblJpZ2h0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuX2FsaWduRmxhZ3MgfD0gQWxpZ25GbGFncy5DRU5URVI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5fYWxpZ25GbGFncyAmPSB+QWxpZ25GbGFncy5DRU5URVI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFdoZXRoZXIgdG8gc3RyZXRjaCBob3Jpem9udGFsbHksIHdoZW4gZW5hYmxlIHRoZSBsZWZ0IGFuZCByaWdodCBhbGlnbm1lbnQgd2lsbCBiZSBzdHJldGNoZWQgaG9yaXpvbnRhbGx5LFxyXG4gICAgICogdGhlIHdpZHRoIHNldHRpbmcgaXMgaW52YWxpZCAocmVhZCBvbmx5KS5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOW9k+WJjeaYr+WQpuawtOW5s+aLieS8uOOAguW9k+WQjOaXtuWQr+eUqOW3puWPs+Wvuem9kOaXtu+8jOiKgueCueWwhuS8muiiq+awtOW5s+aLieS8uOOAguatpOaXtuiKgueCueeahOWuveW6pu+8iOWPquivu++8ieOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHkoe1xyXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgfSlcclxuICAgIGdldCBpc1N0cmV0Y2hXaWR0aCAoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLl9hbGlnbkZsYWdzICYgTEVGVF9SSUdIVCkgPT09IExFRlRfUklHSFQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFdoZXRoZXIgdG8gc3RyZXRjaCB2ZXJ0aWNhbGx5LCB3aGVuIGVuYWJsZSB0aGUgbGVmdCBhbmQgcmlnaHQgYWxpZ25tZW50IHdpbGwgYmUgc3RyZXRjaGVkIHZlcnRpY2FsbHksXHJcbiAgICAgKiB0aGVuIGhlaWdodCBzZXR0aW5nIGlzIGludmFsaWQgKHJlYWQgb25seSkuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlvZPliY3mmK/lkKblnoLnm7Tmi4nkvLjjgILlvZPlkIzml7blkK/nlKjkuIrkuIvlr7npvZDml7bvvIzoioLngrnlsIbkvJrooqvlnoLnm7Tmi4nkvLjvvIzmraTml7boioLngrnnmoTpq5jluqbvvIjlj6ror7vvvInjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgIH0pXHJcbiAgICBnZXQgaXNTdHJldGNoSGVpZ2h0ICgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuX2FsaWduRmxhZ3MgJiBUT1BfQk9UKSA9PT0gVE9QX0JPVDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBTElHTiBNQVJHSU5TXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBtYXJnaW5zIGJldHdlZW4gdGhlIHRvcCBvZiB0aGlzIG5vZGUgYW5kIHRoZSB0b3Agb2YgcGFyZW50IG5vZGUsXHJcbiAgICAgKiB0aGUgdmFsdWUgY2FuIGJlIG5lZ2F0aXZlLCBPbmx5IGF2YWlsYWJsZSBpbiAnaXNBbGlnblRvcCcgb3Blbi5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOacrOiKgueCuemhtui+ueWSjOeItuiKgueCuemhtui+ueeahOi3neemu++8jOWPr+Whq+WGmei0n+WAvO+8jOWPquacieWcqCBpc0FsaWduVG9wIOW8gOWQr+aXtuaJjeacieS9nOeUqOOAglxyXG4gICAgICovXHJcbiAgICBnZXQgdG9wICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdG9wO1xyXG4gICAgfVxyXG4gICAgc2V0IHRvcCAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl90b3AgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQEVkaXRvck9ubHkgTm90IGZvciB1c2VyXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgZ2V0IGVkaXRvclRvcCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWJzVG9wID8gdGhpcy5fdG9wIDogKHRoaXMuX3RvcCAqIDEwMCk7XHJcbiAgICB9XHJcbiAgICBzZXQgZWRpdG9yVG9wICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3RvcCA9IHRoaXMuX2lzQWJzVG9wID8gdmFsdWUgOiAodmFsdWUgLyAxMDApO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBtYXJnaW5zIGJldHdlZW4gdGhlIGJvdHRvbSBvZiB0aGlzIG5vZGUgYW5kIHRoZSBib3R0b20gb2YgcGFyZW50IG5vZGUsXHJcbiAgICAgKiB0aGUgdmFsdWUgY2FuIGJlIG5lZ2F0aXZlLCBPbmx5IGF2YWlsYWJsZSBpbiAnaXNBbGlnbkJvdHRvbScgb3Blbi5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOacrOiKgueCueW6lei+ueWSjOeItuiKgueCueW6lei+ueeahOi3neemu++8jOWPr+Whq+WGmei0n+WAvO+8jOWPquacieWcqCBpc0FsaWduQm90dG9tIOW8gOWQr+aXtuaJjeacieS9nOeUqOOAglxyXG4gICAgICovXHJcbiAgICBnZXQgYm90dG9tICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYm90dG9tO1xyXG4gICAgfVxyXG4gICAgc2V0IGJvdHRvbSAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9ib3R0b20gPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQEVkaXRvck9ubHkgTm90IGZvciB1c2VyXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgZ2V0IGVkaXRvckJvdHRvbSAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWJzQm90dG9tID8gdGhpcy5fYm90dG9tIDogKHRoaXMuX2JvdHRvbSAqIDEwMCk7XHJcbiAgICB9XHJcbiAgICBzZXQgZWRpdG9yQm90dG9tICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2JvdHRvbSA9IHRoaXMuX2lzQWJzQm90dG9tID8gdmFsdWUgOiAodmFsdWUgLyAxMDApO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBtYXJnaW5zIGJldHdlZW4gdGhlIGxlZnQgb2YgdGhpcyBub2RlIGFuZCB0aGUgbGVmdCBvZiBwYXJlbnQgbm9kZSxcclxuICAgICAqIHRoZSB2YWx1ZSBjYW4gYmUgbmVnYXRpdmUsIE9ubHkgYXZhaWxhYmxlIGluICdpc0FsaWduTGVmdCcgb3Blbi5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOacrOiKgueCueW3pui+ueWSjOeItuiKgueCueW3pui+ueeahOi3neemu++8jOWPr+Whq+WGmei0n+WAvO+8jOWPquacieWcqCBpc0FsaWduTGVmdCDlvIDlkK/ml7bmiY3mnInkvZznlKjjgIJcclxuICAgICAqL1xyXG4gICAgZ2V0IGxlZnQgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sZWZ0O1xyXG4gICAgfVxyXG4gICAgc2V0IGxlZnQgKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fbGVmdCA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBARWRpdG9yT25seSBOb3QgZm9yIHVzZXJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBnZXQgZWRpdG9yTGVmdCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWJzTGVmdCA/IHRoaXMuX2xlZnQgOiAodGhpcy5fbGVmdCAqIDEwMCk7XHJcbiAgICB9XHJcbiAgICBzZXQgZWRpdG9yTGVmdCAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9sZWZ0ID0gdGhpcy5faXNBYnNMZWZ0ID8gdmFsdWUgOiAodmFsdWUgLyAxMDApO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFRoZSBtYXJnaW5zIGJldHdlZW4gdGhlIHJpZ2h0IG9mIHRoaXMgbm9kZSBhbmQgdGhlIHJpZ2h0IG9mIHBhcmVudCBub2RlLFxyXG4gICAgICogdGhlIHZhbHVlIGNhbiBiZSBuZWdhdGl2ZSwgT25seSBhdmFpbGFibGUgaW4gJ2lzQWxpZ25SaWdodCcgb3Blbi5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOacrOiKgueCueWPs+i+ueWSjOeItuiKgueCueWPs+i+ueeahOi3neemu++8jOWPr+Whq+WGmei0n+WAvO+8jOWPquacieWcqCBpc0FsaWduUmlnaHQg5byA5ZCv5pe25omN5pyJ5L2c55So44CCXHJcbiAgICAgKi9cclxuICAgIGdldCByaWdodCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JpZ2h0O1xyXG4gICAgfVxyXG4gICAgc2V0IHJpZ2h0ICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX3JpZ2h0ID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fcmVjdXJzaXZlRGlydHkoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBFZGl0b3JPbmx5IE5vdCBmb3IgdXNlclxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGdldCBlZGl0b3JSaWdodCAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWJzUmlnaHQgPyB0aGlzLl9yaWdodCA6ICh0aGlzLl9yaWdodCAqIDEwMCk7XHJcbiAgICB9XHJcbiAgICBzZXQgZWRpdG9yUmlnaHQgKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fcmlnaHQgPSB0aGlzLl9pc0Fic1JpZ2h0ID8gdmFsdWUgOiAodmFsdWUgLyAxMDApO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEhvcml6b250YWxseSBhbGlnbnMgdGhlIG1pZHBvaW50IG9mZnNldCB2YWx1ZSxcclxuICAgICAqIHRoZSB2YWx1ZSBjYW4gYmUgbmVnYXRpdmUsIE9ubHkgYXZhaWxhYmxlIGluICdpc0FsaWduSG9yaXpvbnRhbENlbnRlcicgb3Blbi5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOawtOW5s+WxheS4reeahOWBj+enu+WAvO+8jOWPr+Whq+WGmei0n+WAvO+8jOWPquacieWcqCBpc0FsaWduSG9yaXpvbnRhbENlbnRlciDlvIDlkK/ml7bmiY3mnInkvZznlKjjgIJcclxuICAgICAqL1xyXG4gICAgZ2V0IGhvcml6b250YWxDZW50ZXIgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9ob3Jpem9udGFsQ2VudGVyO1xyXG4gICAgfVxyXG4gICAgc2V0IGhvcml6b250YWxDZW50ZXIgKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5faG9yaXpvbnRhbENlbnRlciA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBARWRpdG9yT25seSBOb3QgZm9yIHVzZXJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBnZXQgZWRpdG9ySG9yaXpvbnRhbENlbnRlciAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzQWJzSG9yaXpvbnRhbENlbnRlciA/IHRoaXMuX2hvcml6b250YWxDZW50ZXIgOiAodGhpcy5faG9yaXpvbnRhbENlbnRlciAqIDEwMCk7XHJcbiAgICB9XHJcbiAgICBzZXQgZWRpdG9ySG9yaXpvbnRhbENlbnRlciAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl9ob3Jpem9udGFsQ2VudGVyID0gdGhpcy5faXNBYnNIb3Jpem9udGFsQ2VudGVyID8gdmFsdWUgOiAodmFsdWUgLyAxMDApO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIFZlcnRpY2FsbHkgYWxpZ25zIHRoZSBtaWRwb2ludCBvZmZzZXQgdmFsdWUsXHJcbiAgICAgKiB0aGUgdmFsdWUgY2FuIGJlIG5lZ2F0aXZlLCBPbmx5IGF2YWlsYWJsZSBpbiAnaXNBbGlnblZlcnRpY2FsQ2VudGVyJyBvcGVuLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5Z6C55u05bGF5Lit55qE5YGP56e75YC877yM5Y+v5aGr5YaZ6LSf5YC877yM5Y+q5pyJ5ZyoIGlzQWxpZ25WZXJ0aWNhbENlbnRlciDlvIDlkK/ml7bmiY3mnInkvZznlKjjgIJcclxuICAgICAqL1xyXG4gICAgZ2V0IHZlcnRpY2FsQ2VudGVyICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fdmVydGljYWxDZW50ZXI7XHJcbiAgICB9XHJcbiAgICBzZXQgdmVydGljYWxDZW50ZXIgKHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5fdmVydGljYWxDZW50ZXIgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQEVkaXRvck9ubHkgTm90IGZvciB1c2VyXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgZ2V0IGVkaXRvclZlcnRpY2FsQ2VudGVyICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNBYnNWZXJ0aWNhbENlbnRlciA/IHRoaXMuX3ZlcnRpY2FsQ2VudGVyIDogKHRoaXMuX3ZlcnRpY2FsQ2VudGVyICogMTAwKTtcclxuICAgIH1cclxuICAgIHNldCBlZGl0b3JWZXJ0aWNhbENlbnRlciAodmFsdWUpIHtcclxuICAgICAgICB0aGlzLl92ZXJ0aWNhbENlbnRlciA9IHRoaXMuX2lzQWJzVmVydGljYWxDZW50ZXIgPyB2YWx1ZSA6ICh2YWx1ZSAvIDEwMCk7XHJcbiAgICAgICAgdGhpcy5fcmVjdXJzaXZlRGlydHkoKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogSWYgdHJ1ZSwgdG9wIGlzIHBpeGVsIG1hcmdpbiwgb3RoZXJ3aXNlIGlzIHBlcmNlbnRhZ2UgKDAgLSAxKSBtYXJnaW4gcmVsYXRpdmUgdG8gdGhlIHBhcmVudCdzIGhlaWdodC5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOWmguaenOS4uiB0cnVl77yMXCJ0b3BcIiDlsIbkvJrku6Xlg4/ntKDkvZzkuLrovrnot53vvIzlkKbliJnlsIbkvJrku6Xnm7jlr7nniLbniankvZPpq5jluqbnmoTmr5TkvovvvIgwIOWIsCAx77yJ5L2c5Li66L656Led44CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgZ2V0IGlzQWJzb2x1dGVUb3AgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Fic1RvcDtcclxuICAgIH1cclxuICAgIHNldCBpc0Fic29sdXRlVG9wICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0Fic1RvcCA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faXNBYnNUb3AgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9hdXRvQ2hhbmdlZFZhbHVlKEFsaWduRmxhZ3MuVE9QLCB0aGlzLl9pc0Fic1RvcCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIElmIHRydWUsIGJvdHRvbSBpcyBwaXhlbCBtYXJnaW4sIG90aGVyd2lzZSBpcyBwZXJjZW50YWdlICgwIC0gMSkgbWFyZ2luIHJlbGF0aXZlIHRvIHRoZSBwYXJlbnQncyBoZWlnaHQuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlpoLmnpzkuLogdHJ1Ze+8jFwiYm90dG9tXCIg5bCG5Lya5Lul5YOP57Sg5L2c5Li66L656Led77yM5ZCm5YiZ5bCG5Lya5Lul55u45a+554i254mp5L2T6auY5bqm55qE5q+U5L6L77yIMCDliLAgMe+8ieS9nOS4uui+uei3neOAglxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGdldCBpc0Fic29sdXRlQm90dG9tICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNBYnNCb3R0b207XHJcbiAgICB9XHJcbiAgICBzZXQgaXNBYnNvbHV0ZUJvdHRvbSAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5faXNBYnNCb3R0b20gPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2lzQWJzQm90dG9tID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fYXV0b0NoYW5nZWRWYWx1ZShBbGlnbkZsYWdzLkJPVCwgdGhpcy5faXNBYnNCb3R0b20pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBJZiB0cnVlLCBsZWZ0IGlzIHBpeGVsIG1hcmdpbiwgb3RoZXJ3aXNlIGlzIHBlcmNlbnRhZ2UgKDAgLSAxKSBtYXJnaW4gcmVsYXRpdmUgdG8gdGhlIHBhcmVudCdzIHdpZHRoLlxyXG4gICAgICpcclxuICAgICAqIEB6aFxyXG4gICAgICog5aaC5p6c5Li6IHRydWXvvIxcImxlZnRcIiDlsIbkvJrku6Xlg4/ntKDkvZzkuLrovrnot53vvIzlkKbliJnlsIbkvJrku6Xnm7jlr7nniLbniankvZPlrr3luqbnmoTmr5TkvovvvIgwIOWIsCAx77yJ5L2c5Li66L656Led44CCXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgZ2V0IGlzQWJzb2x1dGVMZWZ0ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNBYnNMZWZ0O1xyXG4gICAgfVxyXG4gICAgc2V0IGlzQWJzb2x1dGVMZWZ0ICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9pc0Fic0xlZnQgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2lzQWJzTGVmdCA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX2F1dG9DaGFuZ2VkVmFsdWUoQWxpZ25GbGFncy5MRUZULCB0aGlzLl9pc0Fic0xlZnQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBJZiB0cnVlLCByaWdodCBpcyBwaXhlbCBtYXJnaW4sIG90aGVyd2lzZSBpcyBwZXJjZW50YWdlICgwIC0gMSkgbWFyZ2luIHJlbGF0aXZlIHRvIHRoZSBwYXJlbnQncyB3aWR0aC5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOWmguaenOS4uiB0cnVl77yMXCJyaWdodFwiIOWwhuS8muS7peWDj+e0oOS9nOS4uui+uei3ne+8jOWQpuWImeWwhuS8muS7peebuOWvueeItueJqeS9k+WuveW6pueahOavlOS+i++8iDAg5YiwIDHvvInkvZzkuLrovrnot53jgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBnZXQgaXNBYnNvbHV0ZVJpZ2h0ICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNBYnNSaWdodDtcclxuICAgIH1cclxuICAgIHNldCBpc0Fic29sdXRlUmlnaHQgKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzQWJzUmlnaHQgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2lzQWJzUmlnaHQgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9hdXRvQ2hhbmdlZFZhbHVlKEFsaWduRmxhZ3MuUklHSFQsIHRoaXMuX2lzQWJzUmlnaHQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGVuXHJcbiAgICAgKiBJZiB0cnVlLCBob3Jpem9udGFsQ2VudGVyIGlzIHBpeGVsIG1hcmdpbiwgb3RoZXJ3aXNlIGlzIHBlcmNlbnRhZ2UgKDAgLSAxKSBtYXJnaW4uXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDlpoLmnpzkuLogdHJ1Ze+8jFwiaG9yaXpvbnRhbENlbnRlclwiIOWwhuS8muS7peWDj+e0oOS9nOS4uuWBj+enu+WAvO+8jOWPjeS5i+S4uuavlOS+i++8iDAg5YiwIDHvvInjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBnZXQgaXNBYnNvbHV0ZUhvcml6b250YWxDZW50ZXIgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9pc0Fic0hvcml6b250YWxDZW50ZXI7XHJcbiAgICB9XHJcbiAgICBzZXQgaXNBYnNvbHV0ZUhvcml6b250YWxDZW50ZXIgKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzQWJzSG9yaXpvbnRhbENlbnRlciA9PT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5faXNBYnNIb3Jpem9udGFsQ2VudGVyID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fYXV0b0NoYW5nZWRWYWx1ZShBbGlnbkZsYWdzLkNFTlRFUiwgdGhpcy5faXNBYnNIb3Jpem9udGFsQ2VudGVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogSWYgdHJ1ZSwgdmVydGljYWxDZW50ZXIgaXMgcGl4ZWwgbWFyZ2luLCBvdGhlcndpc2UgaXMgcGVyY2VudGFnZSAoMCAtIDEpIG1hcmdpbi5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOWmguaenOS4uiB0cnVl77yMXCJ2ZXJ0aWNhbENlbnRlclwiIOWwhuS8muS7peWDj+e0oOS9nOS4uuWBj+enu+WAvO+8jOWPjeS5i+S4uuavlOS+i++8iDAg5YiwIDHvvInjgIJcclxuICAgICAqL1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBnZXQgaXNBYnNvbHV0ZVZlcnRpY2FsQ2VudGVyICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5faXNBYnNWZXJ0aWNhbENlbnRlcjtcclxuICAgIH1cclxuICAgIHNldCBpc0Fic29sdXRlVmVydGljYWxDZW50ZXIgKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2lzQWJzVmVydGljYWxDZW50ZXIgPT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuX2lzQWJzVmVydGljYWxDZW50ZXIgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLl9hdXRvQ2hhbmdlZFZhbHVlKEFsaWduRmxhZ3MuTUlELCB0aGlzLl9pc0Fic1ZlcnRpY2FsQ2VudGVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBlblxyXG4gICAgICogU3BlY2lmaWVzIHRoZSBhbGlnbm1lbnQgbW9kZSBvZiB0aGUgV2lkZ2V0LCB3aGljaCBkZXRlcm1pbmVzIHdoZW4gdGhlIHdpZGdldCBzaG91bGQgcmVmcmVzaC5cclxuICAgICAqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOaMh+WumiBXaWRnZXQg55qE5a+56b2Q5qih5byP77yM55So5LqO5Yaz5a6aIFdpZGdldCDlupTor6XkvZXml7bliLfmlrDjgIJcclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBgXHJcbiAgICAgKiB3aWRnZXQuYWxpZ25Nb2RlID0gY2MuV2lkZ2V0LkFsaWduTW9kZS5PTl9XSU5ET1dfUkVTSVpFO1xyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIEBwcm9wZXJ0eSh7XHJcbiAgICAgICAgdHlwZTogQWxpZ25Nb2RlLFxyXG4gICAgICAgIHRvb2x0aXA6J+aMh+WumiB3aWRnZXQg55qE5a+56b2Q5pa55byP77yM55So5LqO5Yaz5a6a6L+Q6KGM5pe2IHdpZGdldCDlupTkvZXml7bmm7TmlrAnLFxyXG4gICAgfSlcclxuICAgIGdldCBhbGlnbk1vZGUgKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9hbGlnbk1vZGU7XHJcbiAgICB9XHJcbiAgICBzZXQgYWxpZ25Nb2RlICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuX2FsaWduTW9kZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAemhcclxuICAgICAqIOWvuem9kOW8gOWFs++8jOeUsSBBbGlnbkZsYWdzIOe7hOaIkFxyXG4gICAgICovXHJcbiAgICBAcHJvcGVydHlcclxuICAgIGdldCBhbGlnbkZsYWdzICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fYWxpZ25GbGFncztcclxuICAgIH1cclxuICAgIHNldCBhbGlnbkZsYWdzICh2YWx1ZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl9hbGlnbkZsYWdzID09PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9hbGlnbkZsYWdzID0gdmFsdWU7XHJcbiAgICAgICAgdGhpcy5fcmVjdXJzaXZlRGlydHkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIEFsaWduTW9kZSA9IEFsaWduTW9kZTtcclxuXHJcbiAgICBwdWJsaWMgX2xhc3RQb3MgPSBuZXcgVmVjMygpO1xyXG4gICAgcHVibGljIF9sYXN0U2l6ZSA9IG5ldyBTaXplKCk7XHJcbiAgICBwdWJsaWMgX2RpcnR5ID0gdHJ1ZTtcclxuXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX2FsaWduRmxhZ3MgPSAwO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcml2YXRlIF90YXJnZXQ6IE5vZGUgfCBudWxsID0gbnVsbDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfbGVmdCA9IDA7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX3JpZ2h0ID0gMDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfdG9wID0gMDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfYm90dG9tID0gMDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfaG9yaXpvbnRhbENlbnRlciA9IDA7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX3ZlcnRpY2FsQ2VudGVyID0gMDtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfaXNBYnNMZWZ0ID0gdHJ1ZTtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfaXNBYnNSaWdodCA9IHRydWU7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX2lzQWJzVG9wID0gdHJ1ZTtcclxuICAgIEBwcm9wZXJ0eVxyXG4gICAgcHJpdmF0ZSBfaXNBYnNCb3R0b20gPSB0cnVlO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcml2YXRlIF9pc0Fic0hvcml6b250YWxDZW50ZXIgPSB0cnVlO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcml2YXRlIF9pc0Fic1ZlcnRpY2FsQ2VudGVyID0gdHJ1ZTtcclxuICAgIC8vIG9yaWdpbmFsIHNpemUgYmVmb3JlIGFsaWduXHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX29yaWdpbmFsV2lkdGggPSAwO1xyXG4gICAgQHByb3BlcnR5XHJcbiAgICBwcml2YXRlIF9vcmlnaW5hbEhlaWdodCA9IDA7XHJcbiAgICBAcHJvcGVydHlcclxuICAgIHByaXZhdGUgX2FsaWduTW9kZSA9IEFsaWduTW9kZS5PTl9XSU5ET1dfUkVTSVpFO1xyXG4gICAgQHByb3BlcnR5KHtcclxuICAgICAgICBlZGl0b3JPbmx5OiB0cnVlLFxyXG4gICAgfSlcclxuICAgIHByaXZhdGUgX2xvY2tGbGFncyA9IDA7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAZW5cclxuICAgICAqIEltbWVkaWF0ZWx5IHBlcmZvcm0gdGhlIHdpZGdldCBhbGlnbm1lbnQuIFlvdSBuZWVkIHRvIG1hbnVhbGx5IGNhbGwgdGhpcyBtZXRob2Qgb25seSBpZlxyXG4gICAgICogeW91IG5lZWQgdG8gZ2V0IHRoZSBsYXRlc3QgcmVzdWx0cyBhZnRlciB0aGUgYWxpZ25tZW50IGJlZm9yZSB0aGUgZW5kIG9mIGN1cnJlbnQgZnJhbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHpoXHJcbiAgICAgKiDnq4vliLvmiafooYwgd2lkZ2V0IOWvuem9kOaTjeS9nOOAgui/meS4quaOpeWPo+S4gOiIrOS4jemcgOimgeaJi+W3peiwg+eUqOOAglxyXG4gICAgICog5Y+q5pyJ5b2T5L2g6ZyA6KaB5Zyo5b2T5YmN5bin57uT5p2f5YmN6I635b6XIHdpZGdldCDlr7npvZDlkI7nmoTmnIDmlrDnu5Pmnpzml7bmiY3pnIDopoHmiYvliqjosIPnlKjov5nkuKrmlrnms5XjgIJcclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICogYGBgdHlwZXNjcmlwdFxyXG4gICAgICogd2lkZ2V0LnRvcCA9IDEwOyAgICAgICAvLyBjaGFuZ2UgdG9wIG1hcmdpblxyXG4gICAgICogY2MubG9nKHdpZGdldC5ub2RlLnkpOyAvLyBub3QgeWV0IGNoYW5nZWRcclxuICAgICAqIHdpZGdldC51cGRhdGVBbGlnbm1lbnQoKTtcclxuICAgICAqIGNjLmxvZyh3aWRnZXQubm9kZS55KTsgLy8gY2hhbmdlZFxyXG4gICAgICogYGBgXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGVBbGlnbm1lbnQgKCkge1xyXG4gICAgICAgIGNjLl93aWRnZXRNYW5hZ2VyLnVwZGF0ZUFsaWdubWVudCh0aGlzLm5vZGUgYXMgTm9kZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIF92YWxpZGF0ZVRhcmdldEluREVWICgpIHtcclxuICAgICAgICBpZiAoIURFVikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl90YXJnZXQ7XHJcbiAgICAgICAgaWYgKHRhcmdldCkge1xyXG4gICAgICAgICAgICBjb25zdCBpc1BhcmVudCA9IHRoaXMubm9kZSAhPT0gdGFyZ2V0ICYmIHRoaXMubm9kZS5pc0NoaWxkT2YodGFyZ2V0KTtcclxuICAgICAgICAgICAgaWYgKCFpc1BhcmVudCkge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JJRCg2NTAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldERpcnR5ICgpIHtcclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkVuYWJsZSAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLmdldFBvc2l0aW9uKHRoaXMuX2xhc3RQb3MpO1xyXG4gICAgICAgIHRoaXMubm9kZS5nZXRDb250ZW50U2l6ZSh0aGlzLl9sYXN0U2l6ZSk7XHJcbiAgICAgICAgY2MuX3dpZGdldE1hbmFnZXIuYWRkKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuX3JlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICB0aGlzLl9yZWdpc3RlclRhcmdldEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBvbkRpc2FibGUgKCkge1xyXG4gICAgICAgIGNjLl93aWRnZXRNYW5hZ2VyLnJlbW92ZSh0aGlzKTtcclxuICAgICAgICB0aGlzLl91bnJlZ2lzdGVyRXZlbnQoKTtcclxuICAgICAgICB0aGlzLl91bnJlZ2lzdGVyVGFyZ2V0RXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG9uRGVzdHJveSAoKSB7XHJcbiAgICAgICAgdGhpcy5fcmVtb3ZlUGFyZW50RXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgX2FkanVzdFdpZGdldFRvQWxsb3dNb3ZpbmdJbkVkaXRvciAoZXZlbnRUeXBlOiBUcmFuc2Zvcm1CaXQpIHtcclxuICAgICAgICBpZiAoLyohRURJVE9SIHx8Ki8gIShldmVudFR5cGUgJiBUcmFuc2Zvcm1CaXQuUE9TSVRJT04pKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjYy5fd2lkZ2V0TWFuYWdlci5pc0FsaWduaW5nKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIGNvbnN0IG5ld1BvcyA9IHNlbGYubm9kZS5nZXRQb3NpdGlvbigpO1xyXG4gICAgICAgIGNvbnN0IG9sZFBvcyA9IHRoaXMuX2xhc3RQb3M7XHJcbiAgICAgICAgY29uc3QgZGVsdGEgPSBuZXcgVmVjMyhuZXdQb3MpO1xyXG4gICAgICAgIGRlbHRhLnN1YnRyYWN0KG9sZFBvcyk7XHJcblxyXG4gICAgICAgIGxldCB0YXJnZXQgPSBzZWxmLm5vZGUucGFyZW50O1xyXG4gICAgICAgIGNvbnN0IGludmVyc2VTY2FsZSA9IG5ldyBWZWMzKDEsIDEsIDEpO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi50YXJnZXQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gc2VsZi50YXJnZXQ7XHJcbiAgICAgICAgICAgIGNvbXB1dGVJbnZlcnNlVHJhbnNGb3JUYXJnZXQoc2VsZi5ub2RlLCB0YXJnZXQsIG5ldyBWZWMzKCksIGludmVyc2VTY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldFNpemUgPSBnZXRSZWFkb25seU5vZGVTaXplKHRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgZGVsdGFJblBlcmNlbnQgPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIGlmICh0YXJnZXRTaXplLndpZHRoICE9PSAwICYmIHRhcmdldFNpemUuaGVpZ2h0ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIFZlYzMuc2V0KGRlbHRhSW5QZXJjZW50LCBkZWx0YS54IC8gdGFyZ2V0U2l6ZS53aWR0aCwgZGVsdGEueSAvIHRhcmdldFNpemUuaGVpZ2h0LCBkZWx0YUluUGVyY2VudC56KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzZWxmLmlzQWxpZ25Ub3ApIHtcclxuICAgICAgICAgICAgc2VsZi5fdG9wIC09IChzZWxmLl9pc0Fic1RvcCA/IGRlbHRhLnkgOiBkZWx0YUluUGVyY2VudC55KSAqIGludmVyc2VTY2FsZS55O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZi5pc0FsaWduQm90dG9tKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2JvdHRvbSArPSAoc2VsZi5faXNBYnNCb3R0b20gPyBkZWx0YS55IDogZGVsdGFJblBlcmNlbnQueSkgKiBpbnZlcnNlU2NhbGUueTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGYuaXNBbGlnbkxlZnQpIHtcclxuICAgICAgICAgICAgc2VsZi5fbGVmdCArPSAoc2VsZi5faXNBYnNMZWZ0ID8gZGVsdGEueCA6IGRlbHRhSW5QZXJjZW50LngpICogaW52ZXJzZVNjYWxlLng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWxmLmlzQWxpZ25SaWdodCkge1xyXG4gICAgICAgICAgICBzZWxmLl9yaWdodCAtPSAoc2VsZi5faXNBYnNSaWdodCA/IGRlbHRhLnggOiBkZWx0YUluUGVyY2VudC54KSAqIGludmVyc2VTY2FsZS54O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZi5pc0FsaWduSG9yaXpvbnRhbENlbnRlcikge1xyXG4gICAgICAgICAgICBzZWxmLl9ob3Jpem9udGFsQ2VudGVyICs9IChzZWxmLl9pc0Fic0hvcml6b250YWxDZW50ZXIgPyBkZWx0YS54IDogZGVsdGFJblBlcmNlbnQueCkgKiBpbnZlcnNlU2NhbGUueDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNlbGYuaXNBbGlnblZlcnRpY2FsQ2VudGVyKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3ZlcnRpY2FsQ2VudGVyICs9IChzZWxmLl9pc0Fic1ZlcnRpY2FsQ2VudGVyID8gZGVsdGEueSA6IGRlbHRhSW5QZXJjZW50LnkpICogaW52ZXJzZVNjYWxlLnk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIF9hZGp1c3RXaWRnZXRUb0FsbG93UmVzaXppbmdJbkVkaXRvciAoKSB7XHJcbiAgICAgICAgLy8gaWYgKCFFRElUT1IpIHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgaWYgKGNjLl93aWRnZXRNYW5hZ2VyLmlzQWxpZ25pbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zZXREaXJ0eSgpO1xyXG5cclxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcclxuICAgICAgICBjb25zdCBuZXdTaXplID0gc2VsZi5ub2RlLmdldENvbnRlbnRTaXplKCk7XHJcbiAgICAgICAgY29uc3Qgb2xkU2l6ZSA9IHRoaXMuX2xhc3RTaXplO1xyXG4gICAgICAgIGNvbnN0IGRlbHRhID0gbmV3IFZlYzMobmV3U2l6ZS53aWR0aCAtIG9sZFNpemUud2lkdGgsIG5ld1NpemUuaGVpZ2h0IC0gb2xkU2l6ZS5oZWlnaHQsIDApO1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0ID0gc2VsZi5ub2RlLnBhcmVudDtcclxuICAgICAgICBjb25zdCBpbnZlcnNlU2NhbGUgPSBuZXcgVmVjMygxLCAxLCAxKTtcclxuICAgICAgICBpZiAoc2VsZi50YXJnZXQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0ID0gc2VsZi50YXJnZXQ7XHJcbiAgICAgICAgICAgIGNvbXB1dGVJbnZlcnNlVHJhbnNGb3JUYXJnZXQoc2VsZi5ub2RlLCB0YXJnZXQsIG5ldyBWZWMzKCksIGludmVyc2VTY2FsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldFNpemUgPSBnZXRSZWFkb25seU5vZGVTaXplKHRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgZGVsdGFJblBlcmNlbnQgPSBuZXcgVmVjMygpO1xyXG4gICAgICAgIGlmICh0YXJnZXRTaXplLndpZHRoICE9PSAwICYmIHRhcmdldFNpemUuaGVpZ2h0ICE9PSAwKSB7XHJcbiAgICAgICAgICAgIFZlYzMuc2V0KGRlbHRhSW5QZXJjZW50LCBkZWx0YS54IC8gdGFyZ2V0U2l6ZS53aWR0aCwgZGVsdGEueSAvIHRhcmdldFNpemUuaGVpZ2h0LCBkZWx0YUluUGVyY2VudC56KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHNlbGYubm9kZS5nZXRBbmNob3JQb2ludCgpO1xyXG5cclxuICAgICAgICBpZiAoc2VsZi5pc0FsaWduVG9wKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3RvcCAtPSAoc2VsZi5faXNBYnNUb3AgPyBkZWx0YS55IDogZGVsdGFJblBlcmNlbnQueSkgKiAoMSAtIGFuY2hvci55KSAqIGludmVyc2VTY2FsZS55O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZi5pc0FsaWduQm90dG9tKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX2JvdHRvbSAtPSAoc2VsZi5faXNBYnNCb3R0b20gPyBkZWx0YS55IDogZGVsdGFJblBlcmNlbnQueSkgKiBhbmNob3IueSAqIGludmVyc2VTY2FsZS55O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZi5pc0FsaWduTGVmdCkge1xyXG4gICAgICAgICAgICBzZWxmLl9sZWZ0IC09IChzZWxmLl9pc0Fic0xlZnQgPyBkZWx0YS54IDogZGVsdGFJblBlcmNlbnQueCkgKiBhbmNob3IueCAqIGludmVyc2VTY2FsZS54O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2VsZi5pc0FsaWduUmlnaHQpIHtcclxuICAgICAgICAgICAgc2VsZi5fcmlnaHQgLT0gKHNlbGYuX2lzQWJzUmlnaHQgPyBkZWx0YS54IDogZGVsdGFJblBlcmNlbnQueCkgKiAoMSAtIGFuY2hvci54KSAqIGludmVyc2VTY2FsZS54O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBfYWRqdXN0V2lkZ2V0VG9BbmNob3JDaGFuZ2VkICgpIHtcclxuICAgICAgICB0aGlzLnNldERpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIF9hZGp1c3RUYXJnZXRUb1BhcmVudENoYW5nZWQgKG9sZFBhcmVudDogTm9kZSkge1xyXG4gICAgICAgIGlmIChvbGRQYXJlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5fdW5yZWdpc3Rlck9sZFBhcmVudEV2ZW50cyhvbGRQYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5ub2RlLmdldFBhcmVudCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyVGFyZ2V0RXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfcmVnaXN0ZXJFdmVudCAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKFN5c3RlbUV2ZW50VHlwZS5UUkFOU0ZPUk1fQ0hBTkdFRCwgdGhpcy5fYWRqdXN0V2lkZ2V0VG9BbGxvd01vdmluZ0luRWRpdG9yLCB0aGlzKTtcclxuICAgICAgICB0aGlzLm5vZGUub24oU3lzdGVtRXZlbnRUeXBlLlNJWkVfQ0hBTkdFRCwgdGhpcy5fYWRqdXN0V2lkZ2V0VG9BbGxvd1Jlc2l6aW5nSW5FZGl0b3IsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMubm9kZS5vbihTeXN0ZW1FdmVudFR5cGUuQU5DSE9SX0NIQU5HRUQsIHRoaXMuX2FkanVzdFdpZGdldFRvQW5jaG9yQ2hhbmdlZCwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKFN5c3RlbUV2ZW50VHlwZS5QQVJFTlRfQ0hBTkdFRCwgdGhpcy5fYWRqdXN0VGFyZ2V0VG9QYXJlbnRDaGFuZ2VkLCB0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3VucmVnaXN0ZXJFdmVudCAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihTeXN0ZW1FdmVudFR5cGUuVFJBTlNGT1JNX0NIQU5HRUQsIHRoaXMuX2FkanVzdFdpZGdldFRvQWxsb3dNb3ZpbmdJbkVkaXRvciwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihTeXN0ZW1FdmVudFR5cGUuU0laRV9DSEFOR0VELCB0aGlzLl9hZGp1c3RXaWRnZXRUb0FsbG93UmVzaXppbmdJbkVkaXRvciwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihTeXN0ZW1FdmVudFR5cGUuQU5DSE9SX0NIQU5HRUQsIHRoaXMuX2FkanVzdFdpZGdldFRvQW5jaG9yQ2hhbmdlZCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9yZW1vdmVQYXJlbnRFdmVudCAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9mZihTeXN0ZW1FdmVudFR5cGUuUEFSRU5UX0NIQU5HRUQsIHRoaXMuX2FkanVzdFRhcmdldFRvUGFyZW50Q2hhbmdlZCwgdGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF9hdXRvQ2hhbmdlZFZhbHVlIChmbGFnOiBBbGlnbkZsYWdzLCBpc0FiczogYm9vbGVhbikge1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSAodGhpcy5fYWxpZ25GbGFncyAmIGZsYWcpID4gMDtcclxuICAgICAgICBpZiAoIWN1cnJlbnQgfHwgIXRoaXMubm9kZS5wYXJlbnQgfHwgIXRoaXMubm9kZS5wYXJlbnQuX3VpUHJvcHMudWlUcmFuc2Zvcm1Db21wKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLm5vZGUucGFyZW50IS5nZXRDb250ZW50U2l6ZSgpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQWxpZ25MZWZ0ICYmIGZsYWcgPT09IEFsaWduRmxhZ3MuTEVGVCkge1xyXG4gICAgICAgICAgICB0aGlzLl9sZWZ0ID0gaXNBYnMgPyB0aGlzLl9sZWZ0ICogc2l6ZS53aWR0aCA6IHRoaXMuX2xlZnQgLyBzaXplLndpZHRoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0FsaWduUmlnaHQgJiYgZmxhZyA9PT0gQWxpZ25GbGFncy5SSUdIVCkge1xyXG4gICAgICAgICAgICB0aGlzLl9yaWdodCA9IGlzQWJzID8gdGhpcy5fcmlnaHQgKiBzaXplLndpZHRoIDogdGhpcy5fcmlnaHQgLyBzaXplLndpZHRoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0FsaWduSG9yaXpvbnRhbENlbnRlciAmJiBmbGFnID09PSBBbGlnbkZsYWdzLkNFTlRFUikge1xyXG4gICAgICAgICAgICB0aGlzLl9ob3Jpem9udGFsQ2VudGVyID0gaXNBYnMgPyB0aGlzLl9ob3Jpem9udGFsQ2VudGVyICogc2l6ZS53aWR0aCA6IHRoaXMuX2hvcml6b250YWxDZW50ZXIgLyBzaXplLndpZHRoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0FsaWduVG9wICYmIGZsYWcgPT09IEFsaWduRmxhZ3MuVE9QKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3RvcCA9IGlzQWJzID8gdGhpcy5fdG9wICogc2l6ZS5oZWlnaHQgOiB0aGlzLl90b3AgLyBzaXplLmhlaWdodDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNBbGlnbkJvdHRvbSAmJiBmbGFnID09PSBBbGlnbkZsYWdzLkJPVCkge1xyXG4gICAgICAgICAgICB0aGlzLl9ib3R0b20gPSBpc0FicyA/IHRoaXMuX2JvdHRvbSAqIHNpemUuaGVpZ2h0IDogdGhpcy5fYm90dG9tIC8gc2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzQWJzb2x1dGVWZXJ0aWNhbENlbnRlciAmJiBmbGFnID09PSBBbGlnbkZsYWdzLk1JRCkge1xyXG4gICAgICAgICAgICB0aGlzLl92ZXJ0aWNhbENlbnRlciA9IGlzQWJzID8gdGhpcy5fdmVydGljYWxDZW50ZXIgLyBzaXplLmhlaWdodCA6IHRoaXMuX3ZlcnRpY2FsQ2VudGVyIC8gc2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9yZWN1cnNpdmVEaXJ0eSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb3RlY3RlZCBfcmVnaXN0ZXJUYXJnZXRFdmVudHMgKCkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX3RhcmdldCB8fCB0aGlzLm5vZGUucGFyZW50O1xyXG4gICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5nZXRDb21wb25lbnQoVUlUcmFuc2Zvcm1Db21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQub24oU3lzdGVtRXZlbnRUeXBlLlRSQU5TRk9STV9DSEFOR0VELCB0aGlzLl90YXJnZXRDaGFuZ2VkT3BlcmF0aW9uLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIHRhcmdldC5vbihTeXN0ZW1FdmVudFR5cGUuU0laRV9DSEFOR0VELCB0aGlzLl90YXJnZXRDaGFuZ2VkT3BlcmF0aW9uLCB0aGlzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNjLndhcm5JRCg2NTAxLCB0aGlzLm5vZGUubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF91bnJlZ2lzdGVyVGFyZ2V0RXZlbnRzICgpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl90YXJnZXQgfHwgdGhpcy5ub2RlLnBhcmVudDtcclxuICAgICAgICBpZiAodGFyZ2V0KSB7XHJcbiAgICAgICAgICAgIHRhcmdldC5vZmYoU3lzdGVtRXZlbnRUeXBlLlRSQU5TRk9STV9DSEFOR0VELCB0aGlzLl90YXJnZXRDaGFuZ2VkT3BlcmF0aW9uLCB0aGlzKTtcclxuICAgICAgICAgICAgdGFyZ2V0Lm9mZihTeXN0ZW1FdmVudFR5cGUuU0laRV9DSEFOR0VELCB0aGlzLl90YXJnZXRDaGFuZ2VkT3BlcmF0aW9uLCB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJvdGVjdGVkIF91bnJlZ2lzdGVyT2xkUGFyZW50RXZlbnRzIChvbGRQYXJlbnQ6IE5vZGUpIHtcclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLl90YXJnZXQgfHwgb2xkUGFyZW50O1xyXG4gICAgICAgIGlmICh0YXJnZXQpIHtcclxuICAgICAgICAgICAgdGFyZ2V0Lm9mZihTeXN0ZW1FdmVudFR5cGUuVFJBTlNGT1JNX0NIQU5HRUQsIHRoaXMuX3RhcmdldENoYW5nZWRPcGVyYXRpb24sIHRoaXMpO1xyXG4gICAgICAgICAgICB0YXJnZXQub2ZmKFN5c3RlbUV2ZW50VHlwZS5TSVpFX0NIQU5HRUQsIHRoaXMuX3RhcmdldENoYW5nZWRPcGVyYXRpb24sIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcm90ZWN0ZWQgX3RhcmdldENoYW5nZWRPcGVyYXRpb24gKCkge1xyXG4gICAgICAgIHRoaXMuX3JlY3Vyc2l2ZURpcnR5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfc2V0QWxpZ24gKGZsYWc6IEFsaWduRmxhZ3MsIGlzQWxpZ246IGJvb2xlYW4pIHtcclxuICAgICAgICBjb25zdCBjdXJyZW50ID0gKHRoaXMuX2FsaWduRmxhZ3MgJiBmbGFnKSA+IDA7XHJcbiAgICAgICAgaWYgKGlzQWxpZ24gPT09IGN1cnJlbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpc0hvcml6b250YWwgPSAoZmxhZyAmIExFRlRfUklHSFQpID4gMDtcclxuICAgICAgICBpZiAoaXNBbGlnbikge1xyXG4gICAgICAgICAgICB0aGlzLl9hbGlnbkZsYWdzIHw9IGZsYWc7XHJcblxyXG4gICAgICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQWxpZ25Ib3Jpem9udGFsQ2VudGVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N0cmV0Y2hXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlY29tZSBzdHJldGNoXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb3JpZ2luYWxXaWR0aCA9IHRoaXMubm9kZS53aWR0aCE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGVzdCBjaGVjayBjb25mbGljdFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChFRElUT1IgLyomJiAhY2MuZW5naW5lLmlzUGxheWluZyovKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIF9TY2VuZS5EZXRlY3RDb25mbGljdC5jaGVja0NvbmZsaWN0X1dpZGdldCh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzQWxpZ25WZXJ0aWNhbENlbnRlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJldGNoSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYmVjb21lIHN0cmV0Y2hcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vcmlnaW5hbEhlaWdodCA9IHRoaXMubm9kZS5oZWlnaHQhO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRlc3QgY2hlY2sgY29uZmxpY3RcclxuICAgICAgICAgICAgICAgICAgICBpZiAoRURJVE9SIC8qJiYgIWNjLmVuZ2luZS5pc1BsYXlpbmcqLykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBfU2NlbmUuRGV0ZWN0Q29uZmxpY3QuY2hlY2tDb25mbGljdF9XaWRnZXQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoRURJVE9SICYmIHRoaXMubm9kZS5wYXJlbnQpIHtcclxuICAgICAgICAgICAgICAgIC8vIGFkanVzdCB0aGUgb2Zmc2V0cyB0byBrZWVwIHRoZSBzaXplIGFuZCBwb3NpdGlvbiB1bmNoYW5nZWQgYWZ0ZXIgYWxpZ25tZW50IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgIGNjLl93aWRnZXRNYW5hZ2VyLnVwZGF0ZU9mZnNldHNUb1N0YXlQdXQodGhpcywgZmxhZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoaXNIb3Jpem9udGFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1N0cmV0Y2hXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbGwgY2FuY2VsIHN0cmV0Y2hcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUud2lkdGggPSB0aGlzLl9vcmlnaW5hbFdpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNTdHJldGNoSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2lsbCBjYW5jZWwgc3RyZXRjaFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5oZWlnaHQgPSB0aGlzLl9vcmlnaW5hbEhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5fYWxpZ25GbGFncyAmPSB+ZmxhZztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBfcmVjdXJzaXZlRGlydHkgKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl9kaXJ0eSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl9kaXJ0eSA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBuYW1lc3BhY2UgV2lkZ2V0Q29tcG9uZW50IHtcclxuICAgIGV4cG9ydCB0eXBlIEFsaWduTW9kZSA9IEVudW1BbGlhczx0eXBlb2YgQWxpZ25Nb2RlPjtcclxufVxyXG5cclxuLy8gQHRzLWlnbm9yZVxyXG5jYy5XaWRnZXRDb21wb25lbnQgPSBXaWRnZXRDb21wb25lbnQ7XHJcblxyXG4vLyBjYy5XaWRnZXQgPSBtb2R1bGUuZXhwb3J0cyA9IFdpZGdldDtcclxuY2MuaW50ZXJuYWwuY29tcHV0ZUludmVyc2VUcmFuc0ZvclRhcmdldCA9IGNvbXB1dGVJbnZlcnNlVHJhbnNGb3JUYXJnZXQ7XHJcbmNjLmludGVybmFsLmdldFJlYWRvbmx5Tm9kZVNpemUgPSBnZXRSZWFkb25seU5vZGVTaXplO1xyXG4iXX0=